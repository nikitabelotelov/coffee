define("Lib/Tab/Transport/BroadCast",["require","exports","Lib/Storage/utils/item","Core/helpers/createGUID","Lib/Tab/Transport/LocalStorage"],function(e,t,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r="TabMessage",n=Object.create(null),o=function(e){var t=e.data,r=t.message,a=i.deserialize(t.data);for(var s in n)n[s](r,a)},u,d=function(){if(!u)(u=new BroadcastChannel(r)).addEventListener("message",o);return u},c=function(){function e(r){this.uid=a(),n[this.uid]=function(e,t){r.notify(e,t)},this.__ls=new s.LocalStorageTransport(r)}return e.prototype.notify=function(e,t){d().postMessage({message:e,data:i.serialize(t)})},e.prototype.destroy=function(){delete n[this.uid],this.__ls.destroy()},e}();t.BroadCastTransport=c});