define("Lib/Tab/Message",["require","exports","Core/EventBus","Core/constants","Core/helpers/createGUID","Lib/Tab/Transport/LocalStorage","Lib/Tab/Transport/BroadCast","Lib/Tab/Transport/Fake"],function(t,n,r,e,s,o,i,a){"use strict";var c="TabMessage",u=function(){if(!e.isBrowserPlatform)return a.FakeTransport;if("undefined"!==typeof BroadcastChannel)return i.BroadCastTransport;return o.LocalStorageTransport},h,p=function(){if(!h)h=u();return h},f;return function(){function t(){this._channel=r.channel(c+"-"+s());var t=p();this._transport=new t(this._channel)}return t.prototype.destroy=function(){this._transport.destroy(),this._channel.unsubscribeAll(),this._channel.destroy()},t.prototype.subscribe=function(t,n){return this._channel.subscribe(t,n,this),this},t.prototype.once=function(t,n){return this._channel.once(t,n,this),this},t.prototype.unsubscribe=function(t,n){return this._channel.unsubscribe(t,n),this},t.prototype.notify=function(t,n){if(void 0==n)n=""+n;this._transport.notify(t,n)},t}()});