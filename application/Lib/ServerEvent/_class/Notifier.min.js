define("Lib/ServerEvent/_class/Notifier",["require","exports","Core/EventBus","Lib/ServerEvent/ResponseConverter","Lib/ServerEvent/_class/logger/WatchDogAggregator"],function(e,t,n,s,r){"use strict";var i,a;Object.defineProperty(t,"__esModule",{value:true}),(a=i||(i={}))["READY"]="onready",a["DISCONNECT"]="ondisconnect";var o=function(){function e(e){if(this.watcher=e,this.readyStatuses={},!e)this.watcher=new r.WatchDogAggregator}return e.prototype.setWatcher=function(e){this.watcher=e},e.prototype.fire=function(e,t,r){if(this.isSkip(e,t))return;var i;if(r)i=s(r);this.watcher.logEvent(e,t,i),n.channel(e).notify(t,i,r)},e.prototype.isSkip=function(e,t){if(t!==i.READY&&t!==i.DISCONNECT)return false;if(t===i.READY&&this.readyStatuses[e])return true;if(t===i.READY)this.readyStatuses[e]=true,n.channel(e).setEventQueueSize(i.READY,1);if(t===i.DISCONNECT)this.readyStatuses[e]=false,n.channel(e).setEventQueueSize(i.READY,0);return false},e}();t.Notifier=o});