define("Lib/Control/SwitchableArea/design/DesignPlugin",["Lib/Control/SwitchableArea/SwitchableArea","css!Lib/Control/SwitchableArea/design/DesignPlugin"],function(e){var t="ws-SwitchableArea__item",r="genie-Placeholder";function a(){for(var e=this.getItems(),t=0,n=e.length;t<n;t++)e[t].getContainer().attr("data-name","items["+t+"].content")}function n(e,t,n){for(var i=0;i<t.length;i++)if(this._initAddedArea(n[i]),this.getContainer().attr("gdi"))this.getItems()[n[i]].getContainer().addClass("genie-dragdrop "+r);a.apply(this)}function i(e,t){for(var n=0;n<t.length;n++)this.removeArea(t[n].getId());a.apply(this)}function s(){a.apply(this)}e.DesignPlugin=e.extendPlugin({$constructor:function(){var e=this,t=this.getItems();t.subscribe("onInsertItem",n.bind(e)),t.subscribe("onRemoveItem",i.bind(e)),t.subscribe("onMove",s.bind(e))},getActiveContentAreaName:function(){return this.getContainer().children("."+t+":not(.ws-hidden)").attr("data-name")},getAreaContainer:function(e){var t=this.getItems();return t[e]&&t[e].getContainer()},genieHandlerAfterCreation:function(){if(this.getContainer().attr("gdi"))this.getContainer().children("."+t).addClass(r);var n=this,e=function(){for(var e=n.getItems(),t=0;t<e.length;t++)e[t].setLoaded(true)};if(this._isReady)e();else this.subscribe("onReady",function(){e()})}})});