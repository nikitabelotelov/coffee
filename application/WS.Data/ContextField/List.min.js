define("WS.Data/ContextField/List",["WS.Data/ContextField/Base","Types/collection","Core/Context"],function(e,t,a){"use strict";var n=e.extend({"[WS.Data/ContextField/List]":true,name:"ControlsFieldTypeList",get:function(e,t){var n,i,r,u;if(0===t.length)return e;if((i=s(n=t[0]))<0||i>=e.getCount())return a.NonExistentValue;return r=e.at(i),(u=a.getValueType(r)).get(r,t.slice(1))},setWillChange:function(e,t,n){var i,r,u,o,l;if(0===t.length)return e!==n;if(r=s(o=t[0]),i=t.length>1&&r>=0&&r<e.getCount())u=e.at(r),i=(l=a.getValueType(u)).setWillChange(u,t.slice(1),n);return i},set:function(e,t,n){var i,r,u,o,l;if(0===t.length)return n;if(i=(u=s(r=t[0]))>=0&&u<e.getCount())if(t.length>1)o=e.at(u),(l=a.getValueType(o)).set(o,t.slice(1),n);return e},remove:function(e,t){var n,i,r,u,o;if(n=t.length>0)if(r=s(i=t[0]),n=t.length>1&&r>=0&&r<e.getCount())u=e.at(r),n=(o=a.getValueType(u)).remove(u,t.slice(1)).changed;return{value:e,changed:n}},toJSON:function(e,t){if(!t)return e;var n=[];return e.each(function(e){n.push(e)}),n},subscribe:function(e,t){return e.subscribe("onCollectionChange",t),e.subscribe("onCollectionItemChange",t),function(){e.unsubscribe("onCollectionChange",t),e.unsubscribe("onCollectionItemChange",t)}}});function s(e){return String.prototype.split.call(e,",")[0]}return a.registerFieldType(new n(t.List)),n});