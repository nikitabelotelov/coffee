define("WS.Data/Utils/metrics",["WS.Data/Entity/Record","WS.Data/Entity/Model","WS.Data/Utils"],function(t,e,r){"use strict";var o=r.logger,i={},n=function(t){t.scope[t.property]=t.original},a=function(r,o){return o.counter=0,o.time=0,function(){o.counter++;var t=Date.now(),e=r.apply(this,arguments);return o.time+=Date.now()-t,e}},c=function(t,e,r){var o={},n={scope:t,property:e,metrics:o,original:t[e],replacement:a(t[e],o)};return t[e]=n.replacement,i[r]=n},s=function(){c(t.prototype,"get","WS.Data/Entity/Record::get()"),c(e.prototype,"get","WS.Data/Entity/Model::get()"),c(e.prototype,"_processCalculatedValue","WS.Data/Entity/Model::_processCalculatedValue()")},l=function(){for(var t in i)if(i.hasOwnProperty(t))n(i[t]),delete i[t]},p;return{start:function(t){o.log("[Metrics]","Strart "+t),s()},stop:function(t){var e,r;for(e in o.log("[Metrics]","Stop "+t),i)if(i.hasOwnProperty(e))r=i[e],o.log("[Metrics]",e+" "+r.metrics.counter+" times, "+r.metrics.time+"ms");l(),o.log("[Metrics]","Complete "+t)}}});