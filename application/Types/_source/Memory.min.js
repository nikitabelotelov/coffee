define("Types/_source/Memory",["require","exports","tslib","Types/_source/Local","Types/di","Types/util","Types/shim"],function(t,e,o,r,a,p,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=p.protect("cachedAdapter"),n={},u=function(a){function t(t){var e=a.call(this,t)||this;if(t&&t.endpoint&&t.endpoint.contract&&!n.hasOwnProperty(t.endpoint.contract))n[t.endpoint.contract]=e._$data;return e}return o.__extends(t,a),t.prototype._prepareQueryResult=function(t,e){if(t&&void 0===t.items)t.items=this._getEmptyData(e);return a.prototype._prepareQueryResult.call(this,t)},t.prototype._getTableAdapter=function(){return this[i]||(this[i]=this.getAdapter().forTable(this._$data))},t.prototype._applyFrom=function(t){return t?n[t]:this.data},t.prototype._applyJoin=function(t,e){if(e.length)throw new Error("Joins are not supported");return t},t.prototype._applyWhere=function(t,e,r){if(e&&"object"===typeof e)delete(e=o.__assign({},e)).Разворот,delete e.ВидДерева,delete e.usePages;return a.prototype._applyWhere.call(this,t,e,r)},t.prototype._getEmptyData=function(t){this._emptyData=this._emptyData||new s.Map;var e=t?t.getFrom():void 0;if(!this._emptyData.has(e)){var r=p.object.clonePlain(this._applyFrom(e),true),a=this.getAdapter().forTable(r);a.clear(),this._emptyData.set(e,a.getData())}return this._emptyData.get(e)},t}(r.default);e.default=u,Object.assign(u.prototype,{"[Types/_source/Memory]":true,_moduleName:"Types/source:Memory",_$data:null,_dataSetItemsProperty:"items",_dataSetMetaProperty:"meta",_emptyData:null}),a.register("Types/source:Memory",u,{instantiate:false})});