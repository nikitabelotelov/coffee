define("Types/chain",["Types/shim","Types/collection","Types/util","Types/entity","tslib","Types/di","require","exports"],function(n,i,o,u,s,a,c,t){Object.defineProperty(t,"__esModule",{value:true}),t["Types/_chain/MappedEnumerator"]=true;var p=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e,r){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.callback=e,this.callbackContext=r,this.reset()}return t.prototype.getCurrent=function(){return this.current},t.prototype.getCurrentIndex=function(){return this.enumerator.getCurrentIndex()},t.prototype.moveNext=function(){if(this.enumerator.moveNext())return this.current=this.callback.call(this.callbackContext,this.enumerator.getCurrent(),this.enumerator.getCurrentIndex()),true;return false},t.prototype.reset=function(){this.enumerator=this.previous.getEnumerator(),this.current=void 0},t}();(e.default=r).prototype.previous=null,r.prototype.callback=null,r.prototype.callbackContext=null,r.prototype.enumerator=null,r.prototype.current=null}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/SortWrapper"]=true;var l=function(){"use strict";var t={},e=function(t,e,r){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function r(t,e){if(t instanceof Object)return t[r.indexKey]=e,t;this.item=t,this.index=e}return r.prototype.valueOf=function(){return this.item},r.prototype.indexOf=function(){return this.index},r.valueOf=function(t){return t instanceof r?t.valueOf():t},r.indexOf=function(t){return t instanceof r?t.indexOf():t[r.indexKey]},r.clear=function(t){if(!(t instanceof r))delete t[r.indexKey]},r}();(e.default=n).indexKey=r.protect("[]")}(c,t,o);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/ZippedEnumerator"]=true;var f=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.items=e,this.reset()}return t.prototype.getCurrent=function(){return this.current},t.prototype.getCurrentIndex=function(){return this.index},t.prototype.moveNext=function(){this.enumerator=this.enumerator||(this.enumerator=this.previous.getEnumerator());var t=this.enumerator.moveNext(),e,r,n;if(t){this.index++,e=[this.enumerator.getCurrent()];for(var i=0;i<this.items.length;i++)if((r=this.items[i])instanceof Array)e.push(r[this.index]);else if(r&&r["[Types/_collection/IEnumerable]"])if((n=this.itemsEnumerators[i]||(this.itemsEnumerators[i]=r.getEnumerator())).moveNext())e.push(n.getCurrent());else e.push(void 0);else throw new TypeError("Collection at argument "+i+" should implement Types/collection#IEnumerable");this.current=e}return t},t.prototype.reset=function(){this.enumerator=null,this.index=-1,this.current=void 0,this.itemsEnumerators=[]},t}();(e.default=r).prototype.previous=null,r.prototype.items=null,r.prototype.itemsEnumerators=null,r.prototype.enumerator=null,r.prototype.index=null,r.prototype.current=void 0}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/UniquelyEnumerator"]=true;var h=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.idExtractor=e,this.reset()}return t.prototype.getCurrent=function(){return this.enumerator.getCurrent()},t.prototype.getCurrentIndex=function(){return this.enumerator.getCurrentIndex()},t.prototype.moveNext=function(){var t=this.enumerator.moveNext(),e;if(t){if(e=this.enumerator.getCurrent(),this.idExtractor)e=this.idExtractor(e,this.enumerator.getCurrentIndex());if(e instanceof Object){if(this.objectsHash.indexOf(e)>-1)return this.moveNext();this.objectsHash.push(e)}else{if(e in this.keysHash)return this.moveNext();this.keysHash[e]=true}}return t},t.prototype.reset=function(){this.enumerator=this.previous.getEnumerator(),this.keysHash={},this.objectsHash=[]},t}();(e.default=r).prototype.previous=null,r.prototype.enumerator=null,r.prototype.idExtractor=null,r.prototype.keysHash=null,r.prototype.objectsHash=null}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/SlicedEnumerator"]=true;var y=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e,r){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.begin=e,this.end=r,this.reset()}return t.prototype.getCurrent=function(){return this.enumerator.getCurrent()},t.prototype.getCurrentIndex=function(){return this.enumerator.getCurrentIndex()},t.prototype.moveNext=function(){while(this.now<this.begin-1&&this.enumerator.moveNext())this.now++;var t=this.now+1;if(t>=this.begin&&t<this.end&&this.enumerator.moveNext())return this.now=t,true;return false},t.prototype.reset=function(){this.enumerator=this.previous.getEnumerator(),this.now=-1},t}();(e.default=r).prototype.previous=null,r.prototype.now=0,r.prototype.begin=0,r.prototype.end=0,r.prototype.enumerator=null}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/IndexedEnumerator"]=true;var d=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.reset()}return t.prototype.getCurrent=function(){var t,e=this._getItems()[this.index];return e?e[1]:void 0},t.prototype.getCurrentIndex=function(){var t,e=this._getItems()[this.index];return e?e[0]:-1},t.prototype.moveNext=function(){if(this.index>=this._getItems().length-1)return false;return this.index++,true},t.prototype.reset=function(){this._items=null,this.index=-1},t.prototype._getItems=function(){if(!this._items){this._items=[];var t=this.previous.getEnumerator();while(t.moveNext())this._items.push([t.getCurrentIndex(),t.getCurrent()])}return this._items},t}();(e.default=r).prototype.previous=null,r.prototype.index=-1,r.prototype._items=null}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/FlattenedMover"]=true;var v=function(){"use strict";var t={},e=function(t,e,r){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function e(t){if(t instanceof Array)this.parent=new r.enumerator.Arraywise(t);else this.parent=t}return e.prototype.getCurrent=function(){if(!this.hasOwnProperty("current"))return;if(this.current instanceof e)return this.current.getCurrent();return this.current},e.prototype.moveNext=function(){if(!this.parent)return false;if(this.hasOwnProperty("current")){if(this.current instanceof e){var t=this.current.moveNext();if(t)return t}delete this.current}if(!this.hasOwnProperty("current"))if(this.parent.moveNext())this.current=this.parent.getCurrent();else return false;if(this.current instanceof Array)return this.current=new e(this.current),this.current.moveNext();if(this.current&&this.current["[Types/_collection/IEnumerable]"])return this.current=new e(this.current.getEnumerator()),this.current.moveNext();return true},e}();e.default=n}(c,t,i);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Abstract"]=true;var _=function(){"use strict";var t={},e=function(t,e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:true});var u=function(r){function t(t){var e=r.call(this)||this;if(e["[Types/_collection/IEnumerable]"]=true,t["[Types/_chain/Abstract]"])e._previous=t,e._source=e._previous._source;else e._source=t;return e}return n.__extends(t,r),Object.defineProperty(t.prototype,"start",{get:function(){return this._previous?this._previous.start:this},enumerable:true,configurable:true}),Object.defineProperty(t.prototype,"shouldSaveIndices",{get:function(){return this._previous?this._previous.shouldSaveIndices:true},enumerable:true,configurable:true}),t.prototype.destroy=function(){this._source=null,this._previous=null,r.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){throw new Error("Not implemented")},t.prototype.each=function(t,e){var r=this.getEnumerator();while(r.moveNext())t.call(e||this,r.getCurrent(),r.getCurrentIndex())},t.prototype.value=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t instanceof Function){var n=[this].concat(e);return t.apply(void 0,n)}return this.toArray()},t.prototype.toArray=function(){var e=[];return this.each(function(t){e.push(t)}),e},t.prototype.toObject=function(){var t={},e=this.getEnumerator();while(e.moveNext())t[e.getCurrentIndex()]=e.getCurrent();return t},t.prototype.reduce=function(r,t){var n=t,i=arguments.length<2;return this.each(function(t,e){if(i)return n=t,void(i=false);n=r(n,t,e)}),n},t.prototype.reduceRight=function(t,e){if(arguments.length<2)return this.reverse().reduce(t);return this.reverse().reduce(t,e)},t.prototype.map=function(t,e){var r;return new(o.resolve("Types/chain:Mapped"))(this,t,e)},t.prototype.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r;return new(o.resolve("Types/chain:Zipped"))(this,t)},t.prototype.zipObject=function(t){var n=Object.create(null);return this.zip(t).each(function(t){var e=t[0],r=t[1];n[e]=r}),n},t.prototype.pluck=function(e){return this.map(function(t){return i.object.getPropertyValue(t,e)})},t.prototype.invoke=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return this.map(function(t){return t[e].apply(t,r)})},t.prototype.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r;return new(o.resolve("Types/chain:Concatenated"))(this,t)},t.prototype.flatten=function(){var t;return new(o.resolve("Types/chain:Flattened"))(this)},t.prototype.group=function(t,e){var r;return new(o.resolve("Types/chain:Grouped"))(this,t,e)},t.prototype.count=function(t){if(void 0===t)return this.reduce(function(t){return t+1},0);var e;return new(o.resolve("Types/chain:Counted"))(this,t)},t.prototype.max=function(){return this.reduce(function(t,e){return e>t?e:t})},t.prototype.min=function(){return this.reduce(function(t,e){return e<t?e:t})},t.prototype.uniq=function(t){var e;return new(o.resolve("Types/chain:Uniquely"))(this,t)},t.prototype.union=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.concat.apply(this,t).uniq()},t.prototype.filter=function(t,e){var r;return new(o.resolve("Types/chain:Filtered"))(this,t,e)},t.prototype.reject=function(r,n){return this.filter(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!r.apply(n,t)})},t.prototype.where=function(n){var t=Object.keys(n);return this.filter(function(r){return t.reduce(function(t,e){return t&&i.object.getPropertyValue(r,e)===n[e]},true)})},t.prototype.first=function(t){if(void 0===t){var e=this.getEnumerator();return e.moveNext()?e.getCurrent():void 0}var r;return new(o.resolve("Types/chain:Sliced"))(this,0,t)},t.prototype.last=function(t){if(void 0===t)return this.reverse().first();return this.reverse().first(t).reverse()},t.prototype.reverse=function(){var t;return new(o.resolve("Types/chain:Reversed"))(this)},t.prototype.sort=function(t){var e;return new(o.resolve("Types/chain:Sorted"))(this,t)},t.propertyMapper=function(e){if("function"===typeof e)return e;if(void 0===e)return function(t){return t};return function(t){return i.object.getPropertyValue(t,e)}},t}(r.DestroyableMixin);(e.default=u).prototype["[Types/_chain/Abstract]"]=true,u.prototype._source=null,u.prototype._previous=null}(c,t,s,u,o,a);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}(),e=_;t["Types/_chain/FilteredEnumerator"]=true;var m=function(){"use strict";var t={},e=function(t,e){Object.defineProperty(e,"__esModule",{value:true});var r=function(){function t(t,e,r){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.callback=e,this.callbackContext=r,this.reset()}return t.prototype.getCurrent=function(){return this.enumerator.getCurrent()},t.prototype.getCurrentIndex=function(){return this.enumerator.getCurrentIndex()},t.prototype.moveNext=function(){while(this.enumerator.moveNext())if(this.callback.call(this.callbackContext,this.enumerator.getCurrent(),this.enumerator.getCurrentIndex()))return true;return false},t.prototype.reset=function(){this.enumerator=this.previous.getEnumerator()},t}();(e.default=r).prototype.previous=null,r.prototype.callback=null,r.prototype.callbackContext=null,r.prototype.enumerator=null}(c,t);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/ConcatenatedEnumerator"]=true;var g=function(){"use strict";var t={},e=function(t,e,r){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t,e){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.items=e,this.reset()}return t.prototype.getCurrent=function(){return this.current},t.prototype.getCurrentIndex=function(){return this.index},t.prototype.moveNext=function(){this.enumerator=this.enumerator||(this.enumerator=this.previous.getEnumerator());var t=this.enumerator.moveNext();if(t)return this.current=this.enumerator.getCurrent(),this.index++,t;if(this.currentItem)if(t=this.currentItem.moveNext())return this.current=this.currentItem.getCurrent(),this.index++,t;if(this.currentItemIndex<this.items.length-1){if(this.currentItemIndex++,this.currentItem=this.items[this.currentItemIndex],this.currentItem instanceof Array)this.currentItem=new r.enumerator.Arraywise(this.currentItem);else if(this.currentItem&&this.currentItem["[Types/_collection/IEnumerable]"])this.currentItem=this.currentItem.getEnumerator();else throw new TypeError("Collection at argument "+this.currentItemIndex+" should implement [Types/collection#IEnumerable]");return this.moveNext()}return false},t.prototype.reset=function(){this.enumerator=null,this.index=-1,this.current=void 0,this.currentItem=null,this.currentItemIndex=-1},t}();(e.default=n).prototype.previous=null,n.prototype.items=null,n.prototype.enumerator=null,n.prototype.index=null,n.prototype.current=void 0,n.prototype.currentItem=null,n.prototype.currentItemIndex=null}(c,t,i);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Sliced"]=true;var x=function(){"use strict";var t={},e=function(t,e,r,n,o){Object.defineProperty(e,"__esModule",{value:true});var i=function(i){function t(t,e,r){var n=i.call(this,t)||this;return n._begin=e,n._end=r,n}return r.__extends(t,i),t.prototype.getEnumerator=function(){return new o.default(this._previous,this._begin,this._end)},t}(n.default);(e.default=i).prototype["[Types/_chain/Sliced]"]=true,i.prototype._begin=0,i.prototype._end=0}(c,t,s,_,y);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Mapped"]=true;var b=function(){"use strict";var t={},e=function(t,e,r,n,o){Object.defineProperty(e,"__esModule",{value:true});var i=function(i){function t(t,e,r){var n=i.call(this,t)||this;return n._callback=e,n._callbackContext=r,n}return r.__extends(t,i),t.prototype.destroy=function(){this._callback=null,this._callbackContext=null,i.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new o.default(this._previous,this._callback,this._callbackContext)},t}(n.default);(e.default=i).prototype["[Types/_chain/Mapped]"]=true,i.prototype._callback=null,i.prototype._callbackContext=null}(c,t,s,_,p);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Objectwise"]=true;var w=function(){"use strict";var t={},e=function(t,e,n,r,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(r){function t(t){var e=this;if(!(t instanceof Object))throw new TypeError("Source should be an instance of Object");return e=r.call(this,t)||this}return n.__extends(t,r),t.prototype.getEnumerator=function(){return new i.enumerator.Objectwise(this._source)},t.prototype.each=function(t,e){for(var r=Object.keys(this._source),n=r.length,i,o=0;o<n;o++)i=r[o],t.call(e||this,this._source[i],i)},t.prototype.value=function(t){if(t instanceof Function)return r.prototype.value.call(this,t);return this.toObject()},t}(r.default);(e.default=o).prototype["[Types/_chain/Objectwise]"]=true}(c,t,s,_,i);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}(),r=w;t["Types/_chain/FlattenedEnumerator"]=true;var T=function(){"use strict";var t={},e=function(t,e,r){Object.defineProperty(e,"__esModule",{value:true});var n=function(){function t(t){this["[Types/_collection/IEnumerator]"]=true,this.previous=t,this.reset()}return t.prototype.getCurrent=function(){return this.mover?this.mover.getCurrent():void 0},t.prototype.getCurrentIndex=function(){return this.index},t.prototype.moveNext=function(){this.mover=this.mover||(this.mover=new r.default(this.previous.getEnumerator()));var t=this.mover.moveNext();if(t)this.index++;return t},t.prototype.reset=function(){this.mover=null,this.index=-1},t}();(e.default=n).prototype.previous=null,n.prototype.mover=null,n.prototype.index=null}(c,t,v);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Filtered"]=true;var O=function(){"use strict";var t={},e=function(t,e,r,n,o){Object.defineProperty(e,"__esModule",{value:true});var i=function(i){function t(t,e,r){var n=i.call(this,t)||this;return n._callback=e,n._callbackContext=r,n}return r.__extends(t,i),t.prototype.destroy=function(){this._callback=null,this._callbackContext=null,i.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new o.default(this._previous,this._callback,this._callbackContext)},t}(n.default);(e.default=i).prototype["[Types/_chain/Filtered]"]=true}(c,t,s,_,m);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Arraywise"]=true;var E=function(){"use strict";var t={},e=function(t,e,n,r,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(r){function t(t){var e=this;if(!(t instanceof Array))throw new TypeError("Source should be an instance of Array");return e=r.call(this,t)||this}return n.__extends(t,r),t.prototype.getEnumerator=function(){return new i.enumerator.Arraywise(this._source)},t.prototype.each=function(t,e){for(var r=0,n=this._source.length;r<n;r++)t.call(e||this,this._source[r],r)},t.prototype.toArray=function(){return this._source.slice()},t}(r.default);(e.default=o).prototype["[Types/_chain/Arraywise]"]=true,Object.defineProperty(o.prototype,"shouldSaveIndices",{value:false})}(c,t,s,_,i);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Counted"]=true;var I=function(){"use strict";var t={},e=function(t,e,r,i,u,s){Object.defineProperty(e,"__esModule",{value:true});var n=function(n){function t(t,e){var r=n.call(this,t)||this;return r._key=e,r}return r.__extends(t,n),t.prototype.destroy=function(){this._key=null,n.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){var o=i.default.propertyMapper(this._key);return new u.enumerator.Mapwise(this._previous.reduce(function(t,e,r){var n=o(e,r),i=t.has(n)?t.get(n):0;return t.set(n,i+1),t},new s.Map))},t}(i.default);(e.default=n).prototype["[Types/_chain/Counted]"]=true,n.prototype._key=null}(c,t,s,_,i,n);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/ReversedEnumerator"]=true;var C=function(){"use strict";var t={},e=function(t,e,r,n){Object.defineProperty(e,"__esModule",{value:true});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype._getItems=function(){if(!this._items)if(t.prototype._getItems.call(this),this._items.reverse(),!this.previous.shouldSaveIndices)this._items=this._items.map(function(t,e){return[e,t[1]]},this);return this._items},e}(n.default);e.default=i}(c,t,s,d);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Concatenated"]=true;var P=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(n){function t(t,e){var r=n.call(this,t)||this;return r._items=e,r}return r.__extends(t,n),t.prototype.destroy=function(){this._items=null,n.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new i.default(this._previous,this._items)},t}(n.default);(e.default=o).prototype["[Types/_chain/Concatenated]"]=true,o.prototype._items=null,Object.defineProperty(o.prototype,"shouldSaveIndices",{value:false})}(c,t,s,_,g);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Grouped"]=true;var j=function(){"use strict";var t={},e=function(t,e,r,n,o,a){Object.defineProperty(e,"__esModule",{value:true});var i=function(i){function t(t,e,r){var n=i.call(this,t)||this;return n._key=e,n._value=r,n}return r.__extends(t,i),t.prototype.destroy=function(){this._key=null,this._value=null,i.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){var u=n.default.propertyMapper(this._key),s=n.default.propertyMapper(this._value);return new o.enumerator.Mapwise(this._previous.reduce(function(t,e,r){var n=u(e,r),i=s(e,r),o;if(t.has(n))o=t.get(n);else o=[],t.set(n,o);return o.push(i),t},new a.Map))},t}(n.default);(e.default=i).prototype["[Types/_chain/Grouped]"]=true,i.prototype._key=null,i.prototype._value=null}(c,t,s,_,i,n);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/SortedEnumerator"]=true;var F=function(){"use strict";var t={},e=function(t,e,r,n,o){Object.defineProperty(e,"__esModule",{value:true});var i=function(i){function n(t,e){var r=i.call(this,t)||this;return r.compareFunction=e||n.defaultCompare,r}return r.__extends(n,i),n.prototype._getItems=function(){if(!this._items){var n=this.previous.shouldSaveIndices;this._items=i.prototype._getItems.call(this).map(function(t){var e=t[0],r=t[1];return new o.default(r,e)}).sort(this.compareFunction).map(function(t,e){var r=[n?o.default.indexOf(t):e,o.default.valueOf(t)];return o.default.clear(t),r})}return this._items},n.defaultCompare=function(t,e){return t===e?0:t>e?1:-1},n}(n.default);(e.default=i).prototype.compareFunction=null}(c,t,s,d,l);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Uniquely"]=true;var M=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(n){function t(t,e){var r=n.call(this,t)||this;return r._idExtractor=e,r}return r.__extends(t,n),t.prototype.destroy=function(){this._idExtractor=null,n.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new i.default(this._previous,this._idExtractor)},t}(n.default);(e.default=o).prototype["[Types/_chain/Uniquely]"]=true,o.prototype._idExtractor=null}(c,t,s,_,h);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Zipped"]=true;var k=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(n){function t(t,e){var r=n.call(this,t)||this;return r._items=e,r}return r.__extends(t,n),t.prototype.destroy=function(){this._items=null,n.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new i.default(this._previous,this._items)},t}(n.default);(e.default=o).prototype["[Types/_chain/Zipped]"]=true,o.prototype._items=null}(c,t,s,_,f);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Enumerable"]=true;var N=function(){"use strict";var t={},e=function(t,e,r,n){Object.defineProperty(e,"__esModule",{value:true});var i=function(n){function t(t){var e=this;if(!t||!t["[Types/_collection/IEnumerable]"])throw new TypeError("Source must implement Types/collection:IEnumerable");return e=n.call(this,t)||this}return r.__extends(t,n),t.prototype.getEnumerator=function(){return this._source.getEnumerator()},t.prototype.each=function(t,e){return this._source.each(t,e)},t.prototype.toObject=function(){if(this._source["[Types/_entity/IObject]"]){var r={};return this.each(function(t,e){r[t]=e}),r}return n.prototype.toObject.call(this)},t}(n.default);(e.default=i).prototype["[Types/_chain/Enumerable]"]=true}(c,t,s,_);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Reversed"]=true;var A=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getEnumerator=function(){return new i.default(this._previous)},e}(n.default);(e.default=o).prototype["[Types/_chain/Reversed]"]=true}(c,t,s,_,C);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Flattened"]=true;var S=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.getEnumerator=function(){return new i.default(this._previous)},e}(n.default);(e.default=o).prototype["[Types/_chain/Flattened]"]=true}(c,t,s,_,T);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/Sorted"]=true;var q=function(){"use strict";var t={},e=function(t,e,r,n,i){Object.defineProperty(e,"__esModule",{value:true});var o=function(n){function t(t,e){var r=n.call(this,t)||this;return r._compareFunction=e,r}return r.__extends(t,n),t.prototype.destroy=function(){this._compareFunction=null,n.prototype.destroy.call(this)},t.prototype.getEnumerator=function(){return new i.default(this._previous,this._compareFunction)},t}(n.default);(e.default=o).prototype["[Types/_chain/Sorted]"]=true,o.prototype._compareFunction=null}(c,t,s,_,F);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();t["Types/_chain/factory"]=true;var H,R=function(){"use strict";var t={},e=function(t,e,r,n,i,o,u,s,a,c,p,l,f,h,y,d,v,_){function m(t){if(t instanceof n.default)return t;else if(t&&t["[Types/_collection/IEnumerable]"])return new u.default(t);else if(t instanceof Array)return new i.default(t);else if(t instanceof Object)return new o.default(t);throw new TypeError('Unsupported source type "'+t+'": only Array or Object are supported.')}Object.defineProperty(e,"__esModule",{value:true}),r.register("Types/chain:DestroyableMixin",n.default,{instantiate:false}),r.register("Types/chain:Arraywise",i.default,{instantiate:false}),r.register("Types/chain:Concatenated",s.default,{instantiate:false}),r.register("Types/chain:Counted",a.default,{instantiate:false}),r.register("Types/chain:Enumerable",u.default,{instantiate:false}),r.register("Types/chain:Filtered",c.default,{instantiate:false}),r.register("Types/chain:Flattened",p.default,{instantiate:false}),r.register("Types/chain:Grouped",l.default,{instantiate:false}),r.register("Types/chain:Mapped",f.default,{instantiate:false}),r.register("Types/chain:Objectwise",o.default,{instantiate:false}),r.register("Types/chain:Reversed",h.default,{instantiate:false}),r.register("Types/chain:Sliced",y.default,{instantiate:false}),r.register("Types/chain:Sorted",d.default,{instantiate:false}),r.register("Types/chain:Uniquely",v.default,{instantiate:false}),r.register("Types/chain:Zipped",_.default,{instantiate:false}),e.default=m}(c,t,a,_,E,w,N,P,I,O,S,j,b,A,x,q,M,k);if(e instanceof Function)return e;else for(var r in e)if(e.hasOwnProperty(r))t[r]=e[r];return t}();return t.factory=R.default,t.Abstract=e.default,t.Objectwise=r.default,t});