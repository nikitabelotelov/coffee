define("Types/_display/itemsStrategy/Search",["require","exports","tslib","Types/_display/BreadcrumbsItem","Types/entity","Types/util"],function(e,t,i,c,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(r){function e(e){var t=r.call(this)||this;return t["[Types/_display/IItemsStrategy]"]=true,t._options=e,t}return i.__extends(e,r),Object.defineProperty(e.prototype,"options",{get:function(){return this.source.options},enumerable:true,configurable:true}),Object.defineProperty(e.prototype,"source",{get:function(){return this._options.source},enumerable:true,configurable:true}),Object.defineProperty(e.prototype,"count",{get:function(){return this._getItems().length},enumerable:true,configurable:true}),Object.defineProperty(e.prototype,"items",{get:function(){return this._getItems()},enumerable:true,configurable:true}),e.prototype.at=function(e){return this._getItems()[e]},e.prototype.splice=function(e,t,r){return this.source.splice(e,t,r)},e.prototype.reset=function(){return this.source.reset()},e.prototype.invalidate=function(){return this.source.invalidate()},e.prototype.getDisplayIndex=function(e){var t=this.source.getDisplayIndex(e),r=this.source.items[t],i=this._getItems(),n=i.indexOf(r);return-1===n?i.length:n},e.prototype.getCollectionIndex=function(e){var t,r=this._getItems()[e],i,n=this.source.items.indexOf(r);return n>=0?this.source.getCollectionIndex(n):-1},e.prototype._getSerializableState=function(e){return(e=n.SerializableMixin.prototype._getSerializableState.call(this,e)).$options=this._options,e},e.prototype._setSerializableState=function(e){var t=n.SerializableMixin.prototype._setSerializableState(e);return function(){t.call(this)}},e.prototype._getItems=function(){return e.sortItems(this.source.items,{display:this.options.display})},e.sortItems=function(s,e){var u=e.display,a={},p=null,l=function(e){return e&&e.isNode?e.isNode():false};return s.map(function(e,t){var r=s[t+1],i=l(e),n=l(r);if(i){var o;if(n?e.getLevel()>=r.getLevel():true)return p=new c.default({owner:u,last:e});return p=null,a}return e.setParent(p),e}).filter(function(e){return e!==a})},e}(r.mixin(n.DestroyableMixin,n.SerializableMixin));(t.default=o).prototype._moduleName="Types/display:itemsStrategy.Search",o.prototype["[Types/_display/itemsStrategy/Search]"]=true});