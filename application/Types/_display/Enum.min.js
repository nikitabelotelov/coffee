define("Types/_display/Enum",["require","exports","tslib","Types/_display/Collection","Types/di"],function(e,t,n,o,i){"use strict";function l(e,t){this.setCurrentPosition(this.getIndexBySourceIndex(t))}Object.defineProperty(t,"__esModule",{value:true});var r=function(r){function e(e){var t=r.call(this,e)||this;if(!t._$collection["[Types/_collection/IEnum]"])throw new TypeError(t._moduleName+": source collection should implement Types/_collection/IEnum");if(t._getCursorEnumerator().setPosition(t.getIndexBySourceIndex(t._$collection.get())),t._$collection["[Types/_entity/ObservableMixin]"])t._$collection.subscribe("onChange",t._onSourceChange);return t}return n.__extends(e,r),e.prototype.destroy=function(){if(this._$collection["[Types/_entity/DestroyableMixin]"]&&this._$collection["[Types/_entity/ObservableMixin]"]&&!this._$collection.destroyed)this._$collection.unsubscribe("onChange",this._onSourceChange);r.prototype.destroy.call(this)},e.prototype._bindHandlers=function(){r.prototype._bindHandlers.call(this),this._onSourceChange=l.bind(this)},e.prototype._notifyCurrentChange=function(e,t,n,o){var i=null;if(n>-1)i=this.getSourceIndexByIndex(n);this._$collection.set(i),r.prototype._notifyCurrentChange.call(this,e,t,n,o)},e.prototype._getSourceIndex=function(e){var t=this._$collection.getEnumerator(),n=0;if(e>-1)while(t.moveNext()){if(n===e)return t.getCurrentIndex();n++}return-1},e.prototype._getItemIndex=function(e){var t=this._$collection.getEnumerator(),n=0;while(t.moveNext()){if(t.getCurrentIndex()==e)return n;n++}return-1},e}(o.default);t.default=r,Object.assign(r.prototype,{"[Types/_display/Enum]":true,_moduleName:"Types/display:Enum",_localize:true,_onSourceChange:null}),i.register("Types/display:Enum",r)});