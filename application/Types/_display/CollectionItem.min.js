define("Types/_display/CollectionItem",["require","exports","tslib","Types/entity","Types/di","Types/util"],function(t,e,i,o,n,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var s=function(n){function t(t){var e=n.call(this)||this;return o.OptionsToPropertyMixin.call(e,t),o.SerializableMixin.constructor.call(e),e}return i.__extends(t,n),t.prototype._getSerializableState=function(t){if((t=o.SerializableMixin.prototype._getSerializableState.call(this,t)).$options.owner){var e=t.$options.owner.getCollection(),n=e["[Types/_collection/IList]"]?e.getIndex(t.$options.contents):-1;if(n>-1)t.ci=n,delete t.$options.contents}return t.iid=this.getInstanceId(),t},t.prototype._setSerializableState=function(t){var e=o.SerializableMixin.prototype._setSerializableState(t);return function(){if(e.call(this),t.hasOwnProperty("ci"))this._contentsIndex=t.ci;this._instanceId=t.iid}},t.prototype.getOwner=function(){return this._$owner},t.prototype.setOwner=function(t){this._$owner=t},t.prototype.getContents=function(){if(void 0!==this._contentsIndex)this._$contents=this.getOwner().getCollection().at(this._contentsIndex),this._contentsIndex=void 0;return this._$contents},t.prototype.setContents=function(t,e){if(this._$contents===t)return;if(this._$contents=t,!e)this._notifyItemChangeToOwner("contents")},t.prototype.getUid=function(){if(!this._$owner)return;return this._$owner.getItemUid(this)},t.prototype.isSelected=function(){return this._$selected},t.prototype.setSelected=function(t,e){if(this._$selected===t)return;if(this._$selected=t,!e)this._notifyItemChangeToOwner("selected")},t.prototype._getSourceCollection=function(){return this.getOwner().getCollection()},t.prototype._notifyItemChangeToOwner=function(t){if(this._$owner)this._$owner.notifyItemChange(this,t)},t}(r.mixin(o.DestroyableMixin,o.OptionsToPropertyMixin,o.InstantiableMixin,o.SerializableMixin));(e.default=s).prototype._moduleName="Types/display:CollectionItem",s.prototype["[Types/_display/CollectionItem]"]=true,s.prototype._$owner=null,s.prototype._$contents=null,s.prototype._$selected=false,s.prototype._instancePrefix="collection-item-",s.prototype._contentsIndex=void 0,s.prototype["[WS.Data/Display/CollectionItem]"]=true,n.register("Types/display:CollectionItem",s)});