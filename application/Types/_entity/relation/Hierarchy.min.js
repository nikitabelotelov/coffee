define("Types/_entity/relation/Hierarchy",["require","exports","tslib","Types/_entity/DestroyableMixin","Types/_entity/OptionsToPropertyMixin","Types/util"],function(t,e,o,r,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});var p=function(r){function t(t){var e=r.call(this,t)||this;return n.default.call(e,t),e}return o.__extends(t,r),t.prototype.getIdProperty=function(){return this._$idProperty},t.prototype.setIdProperty=function(t){this._$idProperty=t},t.prototype.getParentProperty=function(){return this._$parentProperty},t.prototype.setParentProperty=function(t){this._$parentProperty=t},t.prototype.getNodeProperty=function(){return this._$nodeProperty},t.prototype.setNodeProperty=function(t){this._$nodeProperty=t},t.prototype.getDeclaredChildrenProperty=function(){return this._$declaredChildrenProperty},t.prototype.setDeclaredChildrenProperty=function(t){this._$declaredChildrenProperty=t},t.prototype.isNode=function(t){return t.get(this._$nodeProperty)},t.prototype.getChildren=function(t,e){if(!this._$parentProperty)return null===t||void 0===t?(r=[],e.each(function(t){r.push(t)}),r):[];var r,o=this._asField(t,this._$idProperty),n=e.getIndicesByValue(this._$parentProperty,o),i=[];if(0===n.length&&null===o)n=e.getIndicesByValue(this._$parentProperty);for(var p=0;p<n.length;p++)i.push(e.at(n[p]));return i},t.prototype.hasDeclaredChildren=function(t){return t.get(this._$declaredChildrenProperty)},t.prototype.hasParent=function(t,e){var r=(t=this._asRecord(t,e)).get(this._$parentProperty),o=this._$idProperty||e.getIdProperty(),n;return e.getIndexByValue(o,r)>-1},t.prototype.getParent=function(t,e){var r=(t=this._asRecord(t,e)).get(this._$parentProperty);return void 0===r||null===r?null:this._asRecord(r,e)},t.prototype._asRecord=function(t,e){if(t&&t["[Types/_entity/Record]"])return t;var r=this._$idProperty||e.getIdProperty(),o=e.getIndexByValue(r,t);if(-1===o)throw new ReferenceError(this._moduleName+': record with id "'+t+'" does not found in the recordset');return e.at(o)},t.prototype._asField=function(t,e){if(!(t&&t["[Types/_entity/Record]"]))return t;return t.get(e)},t}(i.mixin(r.default,n.default));(e.default=p).prototype["[Types/_entity/relation/Hierarchy]"]=true,p.prototype._$idProperty="",p.prototype._$parentProperty="",p.prototype._$nodeProperty="",p.prototype._$declaredChildrenProperty=""});