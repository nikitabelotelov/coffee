define("Types/_entity/SerializableMixin",["require","exports","Types/util"],function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=r.protect("unserialized"),n="object"===typeof{}.__proto__,o="function"===typeof getFunctionDefinition,u=0;function s(){return this._instanceNumber||(this._instanceNumber=++u)}function a(t){var e=Object.getPrototypeOf(t),i=[];return"{"+Object.keys(e).map(function(t){return[t,JSON.stringify(e[t],function(t,e){if(e&&"object"===typeof e)if(-1===i.indexOf(e)){if(i.push(e),e.$serialized$)return"{*serialized*}"}else return"{*recursion*}";if("function"===typeof e)return o?getFunctionDefinition(e):String(e);return e})]}).map(function(t){return t[0]+": "+t[1]}).join(",")+"}"}function f(t,e,i){var n='Property "_moduleName" with module name for RequireJS\'s define() is not found'+' in this prototype: "'+a(t)+'"';if(e)throw new ReferenceError(n);else r.logger.stack(n,void 0===i?3:i)}var c=function(){function t(t){}return t.fromJSON=function(t){var e=this.prototype._setSerializableState(t.state),i=new this(t.state.$options);if(e)e.call(i);return i},t.prototype.toJSON=function(){return this._checkModuleName(true),{$serialized$:"inst",module:this._moduleName,id:s.call(this),state:this._getSerializableState({})}},t.prototype._getSerializableState=function(t){return t.$options="function"===typeof this._getOptions?this._getOptions():{},t},t.prototype._setSerializableState=function(t){return function(){this[i]=true}},t.prototype._checkModuleName=function(t,e){var i=this;if(!i._moduleName)return void f(this,t,e);if(!n)return;if(!(i=this.__proto__).hasOwnProperty("_moduleName"))f(this,t,e)},t}();e.default=c,Object.assign(c.prototype,{"[Types/_entity/SerializableMixin]":true,_instanceNumber:null}),c.prototype.fromJSON=c.fromJSON});