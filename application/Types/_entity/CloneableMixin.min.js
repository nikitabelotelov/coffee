define("Types/_entity/CloneableMixin",["require","exports","Core/Serializer"],function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={"[Types/_entity/CloneableMixin]":true,"[Types/_entity/ICloneable]":true,clone:function(e){var t;if(e){var n,i=Object.getPrototypeOf(this).constructor,r=this.toJSON();if(r.state=this._unlinkCollection(r.state),r.state.$options)r.state.$options=this._unlinkCollection(r.state.$options);t=i.prototype.fromJSON.call(i,r)}else{var o=new s;t=JSON.parse(JSON.stringify(this,o.serialize),o.deserialize)}return delete t._instanceId,t},_unlinkCollection:function(e){var t;if(e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=this._unlinkObject(e[n]);return t}if(e instanceof Object){for(var i in t={},e)if(e.hasOwnProperty(i))t[i]=this._unlinkObject(e[i]);return t}return e},_unlinkObject:function(e){if(e instanceof Array)return e.slice();return e}};t.default=n});