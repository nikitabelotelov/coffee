define("Types/_chain/Abstract",["require","exports","tslib","Types/entity","Types/util","Types/di"],function(e,t,n,r,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(r){function e(e){var t=r.call(this)||this;if(t["[Types/_collection/IEnumerable]"]=true,e["[Types/_chain/Abstract]"])t._previous=e,t._source=t._previous._source;else t._source=e;return t}return n.__extends(e,r),Object.defineProperty(e.prototype,"start",{get:function(){return this._previous?this._previous.start:this},enumerable:true,configurable:true}),Object.defineProperty(e.prototype,"shouldSaveIndices",{get:function(){return this._previous?this._previous.shouldSaveIndices:true},enumerable:true,configurable:true}),e.prototype.destroy=function(){this._source=null,this._previous=null,r.prototype.destroy.call(this)},e.prototype.getEnumerator=function(){throw new Error("Not implemented")},e.prototype.each=function(e,t){var r=this.getEnumerator();while(r.moveNext())e.call(t||this,r.getCurrent(),r.getCurrentIndex())},e.prototype.value=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e instanceof Function){var n=[this].concat(t);return e.apply(void 0,n)}return this.toArray()},e.prototype.toArray=function(){var t=[];return this.each(function(e){t.push(e)}),t},e.prototype.toObject=function(){var e={},t=this.getEnumerator();while(t.moveNext())e[t.getCurrentIndex()]=t.getCurrent();return e},e.prototype.reduce=function(r,e){var n=e,o=arguments.length<2;return this.each(function(e,t){if(o)return n=e,void(o=false);n=r(n,e,t)}),n},e.prototype.reduceRight=function(e,t){if(arguments.length<2)return this.reverse().reduce(e);return this.reverse().reduce(e,t)},e.prototype.map=function(e,t){var r;return new(i.resolve("Types/chain:Mapped"))(this,e,t)},e.prototype.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;return new(i.resolve("Types/chain:Zipped"))(this,e)},e.prototype.zipObject=function(e){var n=Object.create(null);return this.zip(e).each(function(e){var t=e[0],r=e[1];n[t]=r}),n},e.prototype.pluck=function(t){return this.map(function(e){return o.object.getPropertyValue(e,t)})},e.prototype.invoke=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return this.map(function(e){return e[t].apply(e,r)})},e.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r;return new(i.resolve("Types/chain:Concatenated"))(this,e)},e.prototype.flatten=function(){var e;return new(i.resolve("Types/chain:Flattened"))(this)},e.prototype.group=function(e,t){var r;return new(i.resolve("Types/chain:Grouped"))(this,e,t)},e.prototype.count=function(e){if(void 0===e)return this.reduce(function(e){return e+1},0);var t;return new(i.resolve("Types/chain:Counted"))(this,e)},e.prototype.max=function(){return this.reduce(function(e,t){return t>e?t:e})},e.prototype.min=function(){return this.reduce(function(e,t){return t<e?t:e})},e.prototype.uniq=function(e){var t;return new(i.resolve("Types/chain:Uniquely"))(this,e)},e.prototype.union=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.concat.apply(this,e).uniq()},e.prototype.filter=function(e,t){var r;return new(i.resolve("Types/chain:Filtered"))(this,e,t)},e.prototype.reject=function(r,n){return this.filter(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return!r.apply(n,e)})},e.prototype.where=function(n){var e=Object.keys(n);return this.filter(function(r){return e.reduce(function(e,t){return e&&o.object.getPropertyValue(r,t)===n[t]},true)})},e.prototype.first=function(e){if(void 0===e){var t=this.getEnumerator();return t.moveNext()?t.getCurrent():void 0}var r;return new(i.resolve("Types/chain:Sliced"))(this,0,e)},e.prototype.last=function(e){if(void 0===e)return this.reverse().first();return this.reverse().first(e).reverse()},e.prototype.reverse=function(){var e;return new(i.resolve("Types/chain:Reversed"))(this)},e.prototype.sort=function(e){var t;return new(i.resolve("Types/chain:Sorted"))(this,e)},e.propertyMapper=function(t){if("function"===typeof t)return t;if(void 0===t)return function(e){return e};return function(e){return o.object.getPropertyValue(e,t)}},e}(r.DestroyableMixin);(t.default=u).prototype["[Types/_chain/Abstract]"]=true,u.prototype._source=null,u.prototype._previous=null});