define("Types/formatter",["Core/i18n","Core/IoC","Core/helpers/i18n/locales","require","exports"],function(n,o,u,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:true}),e["Types/_formatter/cyrTranslit"]=true;var t,r=function(){var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var u={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"j","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"ts","ч":"ch","ш":"sh","щ":"sch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya"," ":"_","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"E","Ж":"J","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"TS","Ч":"CH","Ш":"SH","Щ":"SCH","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"YU","Я":"YA"};function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];t[r]=o in u?u[o]:o}return t.join("")}t.default=r}(i,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/jsonReplacer"]=true;var a,f=function(){var e={},t=function(e,t){function r(e,t){if(t===1/0)return{$serialized$:"+inf"};else if(t===-1/0)return{$serialized$:"-inf"};else if(void 0===t)return{$serialized$:"undef"};else if(Number.isNaN(t))return{$serialized$:"NaN"};return t}Object.defineProperty(t,"__esModule",{value:true}),t.default=r}(i,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/jsonReviver"]=true;var l,s=function(){var e={},t=function(e,t,u){Object.defineProperty(t,"__esModule",{value:true});var o=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:[0-9\.]+Z$/,i=[],a=[],f={};function l(){for(var e,t,r=0;r<i.length;r++){var n=i[r],o=null;if(f[n.value.id])o=f[n.value.id];else if(n.value.module){try{if(t=n.value.module,!(e=requirejs(t)))throw new Error('The module "'+t+'" is not loaded yet.');if(!e.prototype)throw new Error('The module "'+t+'" is not a constructor.');if("function"!==typeof e.prototype.fromJSON)throw new Error('The prototype of module "'+t+"\" don't have fromJSON() method.");o=e.fromJSON?e.fromJSON.call(e,n.value):e.prototype.fromJSON.call(e,n.value)}catch(e){u.resolve("ILogger").error("Serializer","Can't create an instance of \""+t+'". '+e.toString()),o=null}f[n.value.id]=o}n.scope[n.name]=n.value=o}}function r(e,t){var r=t;if(t instanceof Object&&t.hasOwnProperty("$serialized$"))switch(t.$serialized$){case"inst":i.push({scope:this,name:e,value:t}),a.push(t.id);break;case"+inf":r=1/0;break;case"-inf":r=-1/0;break;case"undef":r=void 0;break;case"NaN":r=NaN;break;default:throw new Error('Unknown serialized type "'+t.$serialized$+'" detected')}if("string"===typeof r)if(o.test(r)){var n;return new Date(r)}if(""===e&&1===Object.keys(this).length)l(),i=[],a=[];return r}t.default=r}(i,e,o);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/numberRoman"]=true;var c=function(){var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var n={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};function r(e){var t="";for(var r in n)if(n.hasOwnProperty(r))while(e>=n[r])t+=r,e-=n[r];return t}t.default=r}(i,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),d=c;e["Types/_formatter/number"]=true;var g,h=function(){var e={},t=function(e,t,r){function n(e,t){return new Intl.NumberFormat(r.getLang(),t).format(e)}Object.defineProperty(t,"__esModule",{value:true}),t.default=n}(i,e,n);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/_numberWords/utils"]=true;var v=function(){var e={},t=function(e,t){function r(e,t){var r=this,n=0,o=[];while(e.length>0){var u=e.substr(Math.max(e.length-3,0),3);if(0!==u.length)o.unshift([u.padStart(3,"0"),n++]);e=e.slice(0,-3)}o.forEach(function(e){t.call.apply(t,[r].concat(e))})}Object.defineProperty(t,"__esModule",{value:true}),t.iterateNumber=r}(i,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/date"]=true;var m,_=function(){var e={},t=function(e,t,r,n){var o;Object.defineProperty(t,"__esModule",{value:true});var u={},i=r.current;function a(e,t){var r=String(Math.abs(e)),n=t-r.length,o;return(e>=0?"":"-")+(String(Math.pow(10,Math.max(0,n))).substr(1)+r)}function f(e){return e.getHours()%12||12}function l(e){return e.getHours()>=12?i.config.pm:i.config.am}function s(e){return i.config.minDays[e.getDay()]}function c(e){return i.config.shortDays[e.getDay()]}function d(e){return i.config.longDays[e.getDay()]}function g(e){return e.getMonth()+1}function h(e){return i.config.shortMonths[e.getMonth()]}function v(e){return i.config.longMonths[e.getMonth()]}function m(e){return i.config.ordinalMonths[e.getMonth()]}function _(e){return 1+Math.floor(e.getMonth()/3)}function p(e){return n.default(_(e))}function M(e){return i.config.minQuarter.replace("$digit$s$",p(e))}function y(e){return i.config.shortQuarter.replace("$digit$s$",p(e))}function F(e){return i.config.longQuarter.replace("$digit$s$",p(e))}function T(e){return e.getFullYear()%100}function O(e){return e.getMonth()<6?1:2}function D(e){return n.default(O(e))}function L(e){return i.config.minHalfYear.replace("$digit$s$",D(e))}function b(e){return i.config.longHalfYear.replace("$digit$s$",D(e))}function w(){if(o)return o;var e=Object.keys(u).sort(function(e,t){return t.length-e.length});return o=new RegExp("\\[[^\\]]+\\]|("+e.join("|")+")","g")}function S(e,t,r){if(void 0===r)r={};u[e]=[t,r],o=null}function H(e,t,r){if("string"===typeof t)n=t,t=function(e){return e[n]()};var n,o=t(e);if(r.lead)o=a(o,r.lead);if(r.lower)o=o.toLowerCase();return o}S("SSS","getMilliseconds"),S("s","getSeconds"),S("ss","getSeconds",{lead:2}),S("m","getMinutes"),S("mm","getMinutes",{lead:2}),S("h",f),S("hh",f,{lead:2}),S("H","getHours"),S("HH","getHours",{lead:2}),S("a",l),S("D","getDate"),S("DD","getDate",{lead:2}),S("dd",s),S("ddl",s,{lower:true}),S("ddd",c),S("dddl",c,{lower:true}),S("dddd",d),S("ddddl",d,{lower:true}),S("M",g),S("MM",g,{lead:2}),S("MMM",h),S("MMMl",h,{lower:true}),S("MMMM",v),S("MMMMl",v,{lower:true}),S("MMMMo",m),S("MMMMlo",m,{lower:true}),S("Y",T),S("Yh",O),S("YY",T,{lead:2}),S("YYhr",L),S("YYYY","getFullYear"),S("YYYYhr",b),S("Q",_),S("QQr",M),S("QQQr",y),S("QQQQr",F);var E=function(t,e){return String(e).replace(w(),function(e){if("["===e[0]&&"]"===e[e.length-1])return e.substr(1,e.length-2);return H(t,u[e][0],u[e][1])})};Object.assign(E,{get FULL_DATE_DOW(){return i.config.fullDateDayOfWeekFormat},get FULL_DATE(){return i.config.fullDateFormat},get FULL_DATE_FULL_MONTH(){return i.config.fullDateFullMonthFormat},get FULL_DATE_FULL_MONTH_FULL_YEAR(){return i.config.fullDateFullMonthFullYearFormat},get FULL_DATE_FULL_YEAR(){return i.config.fullDateFullYearFormat},get FULL_DATE_SHORT_MONTH(){return i.config.fullDateShortMonthFormat},get FULL_DATE_SHORT_MONTH_FULL_YEAR(){return i.config.fullDateShortMonthFullYearFormat},get FULL_DATETIME(){return i.config.fullDateShortMonthFormat+" "+i.config.shortTimeFormat},get FULL_HALF_YEAR(){return i.config.fullHalfYearFormat},get FULL_MONTH(){return i.config.fullMonthFormat},get FULL_QUATER(){return i.config.fullQuarterFormat},get FULL_TIME(){return i.config.fullTimeFormat},get SHORT_DATE_DOW(){return i.config.shortDateDayOfWeekFormat},get SHORT_DATE(){return i.config.shortDateFormat},get SHORT_DATE_FULL_MONTH(){return i.config.shortDateFullMonthFormat},get SHORT_DATE_SHORT_MONTH(){return i.config.shortDateShortMonthFormat},get SHORT_DATETIME(){return i.config.shortDateShortMonthFormat+" "+i.config.shortTimeFormat},get SHORT_HALF_YEAR(){return i.config.shortHalfYearFormat},get SHORT_MONTH(){return i.config.shortMonthFormat},get SHORT_QUATER(){return i.config.shortQuarterFormat},get SHORT_TIME(){return i.config.shortTimeFormat}}),t.default=E}(i,e,u,c);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/_numberWords/ru"]=true;var p=function(){var e={},t=function(e,t,r){Object.defineProperty(t,"__esModule",{value:true});var i={0:"ноль",1:"один",2:"два",3:"три",4:"четыре",5:"пять",6:"шесть",7:"семь",8:"восемь",9:"девять"},a={0:"ноль",1:"одна",2:"две",3:"три",4:"четыре",5:"пять",6:"шесть",7:"семь",8:"восемь",9:"девять"},f={0:"десять",1:"одиннадцать",2:"двенадцать",3:"тринадцать",4:"четырнадцать",5:"пятнадцать",6:"шестнадцать",7:"семнадцать",8:"восемнадцать",9:"девятнадцать"},l={2:"двадцать",3:"тридцать",4:"сорок",5:"пятьдесят",6:"шестьдесят",7:"семьдесят",8:"восемьдесят",9:"девяносто"},s={0:"",1:"сто",2:"двести",3:"триста",4:"четыреста",5:"пятьсот",6:"шестьсот",7:"семьсот",8:"восемьсот",9:"девятьсот"},c=["","тысяча","миллион","миллиард","триллион","квадриллион","квинтиллион","сикстиллион","септиллион","октиллион","нониллион","дециллион"],n="минус";function d(e,o){if(void 0===o)o=false;if("-"===e[0])return n+" "+d(e.slice(1));var u=[];return r.iterateNumber(e,function(e,t){var r=e.length;if("0"!==e[0])u.push(s[e[0]]);if(e[1]>1)u.push(l[e[1]]);if(1==e[1])u.push(f[e[2]]);else if(e[2]>0||0===+e&&0===u.length){var n=1===t||o?a:i;u.push(n[e[2]])}if(t>0&&0!=+e)u.push(rk(c[t],+e))}),u.join(" ")}t.default=d}(i,e,v);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/_numberWords/en"]=true;var M=function(){var e={},t=function(e,t,r){Object.defineProperty(t,"__esModule",{value:true});var i=["zero","one","two","three","four","five","six","seven","eight","nine"],a=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],f={2:"twenty",3:"thirty",4:"forty",5:"fifty",6:"sixty",7:"seventy",8:"eighty",9:"ninety"},l={1:"thousand",2:"million",3:"billion",4:"trillion",5:"quadrillion",6:"quintillion",7:"sextillion",8:"septillion",9:"octillion",10:"nonillion",11:"decillion"},n="minus";function s(e,t){if(1==t.value&&e.value<100)return e;else if(t.value<100&&t.value>e.value)return{title:t.title+"-"+e.title,value:t.value+e.value};else if(t.value>=100&&t.value>e.value)return{title:t.title+" and "+e.title,value:t.value+e.value};return{title:t.title+" "+e.title,value:t.value+e.value}}function o(e){if("-"===e[0])return n+" "+o(e.slice(1));var u=[];return r.iterateNumber(e,function(e,t){var r=e.length,n=[];if("0"!==e[0])n.push({title:i[e[0]]+" hundred",value:100*e[0]});if(e[1]>1)n.push({title:f[e[1]],value:10*e[1]});if(1==e[1])n.push({title:a[e[2]],value:+e.slice(1)});else if(e[2]>0||0===+e&&0===u.length)n.push({title:i[e[2]],value:+e[2]});if(n.length>0){var o=n.reduceRight(s).title;if(t>0&&0!=+e)o+=" "+rk(l[t],+e);u.push(o)}}),u.join(", ")}t.default=o}(i,e,v);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/numberWords"]=true;var y,F=function(){var e={},t=function(e,t,r,n,o){function u(e,t){if(void 0===t)t=false;switch(e=String(e),o.getLang()){case"ru-RU":return r.default(e,t);case"en-US":default:return n.default(e)}}Object.defineProperty(t,"__esModule",{value:true}),t.default=u}(i,e,p,M,n);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();return e.cyrTranslit=r.default,e.date=_.default,e.jsonReplacer=f.default,e.jsonReviver=s.default,e.numberRoman=d.default,e.numberWords=F.default,e.number=h.default,e});