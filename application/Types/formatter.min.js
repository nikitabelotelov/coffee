define("Types/formatter",["Core/i18n","Types/util","Env/Env","Core/helpers/i18n/locales","require","exports"],function(n,i,u,o,a,e){Object.defineProperty(e,"__esModule",{value:true}),e["Types/_formatter/numberRoman"]=true;var f=function(){"use strict";var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var n={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};function r(e){var t="";for(var r in n)if(n.hasOwnProperty(r))while(e>=n[r])t+=r,e-=n[r];return t}t.default=r}(a,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),t=f;e["Types/_formatter/cyrTranslit"]=true;var r,l=function(){"use strict";var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var u={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"j","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"ts","ч":"ch","ш":"sh","щ":"sch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya"," ":"_","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"E","Ж":"J","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"TS","Ч":"CH","Ш":"SH","Щ":"SCH","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"YU","Я":"YA"};function r(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];t[r]=i in u?u[i]:i}return t.join("")}t.default=r}(a,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/number"]=true;var s,c=function(){"use strict";var e={},t=function(e,t,r){function n(e,t){return new Intl.NumberFormat(r.getLang(),t).format(e)}Object.defineProperty(t,"__esModule",{value:true}),t.default=n}(a,e,n);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/dateFromSql"]=true;var d,g=function(){"use strict";var e={},t=function(e,t,v){Object.defineProperty(t,"__esModule",{value:true});var h=/([0-9]{2}:[0-9]{2}:[0-9]{2}(?:\.[0-9]{1,9})?)([+-])([0-9]{2})[:-]*([0-9]{2})*$/;function r(e,t){var r=e.indexOf("-"),n=e.indexOf(":"),i=e.indexOf("."),u=e.match(h),o=u&&u.index+u[1].length||-1,a=new Date,f=null,l,s,c,d;if(a.setHours(0,0,0,0),-1===n&&-1===r)return a;if(n>-1&&r>n)r=-1;if(-1!==i){if((l=e.substr(i+1,(-1===o?e.length:o)-(i+1))).length>3)l=l.substr(0,3);if(f=parseInt(l,10),l.length<3)f*=2===l.length?10:100}if(-1!==r){if(s=parseInt(e.substr(r-4,4),10),c=parseInt(e.substr(r+1,2),10)-1,d=parseInt(e.substr(r+4,2),10),v.constants.compatibility.dateBug&&0===c&&1===d)a.setHours(1);a.setFullYear(s,c,d)}if(-1!==n){a.setHours(parseInt(e.substr(n-2,2),10),parseInt(e.substr(n+1,2),10),parseInt(e.substr(n+4,2),10),f);var g=t;if(u)g=Number(u[2]+"1")*(60*Number(u[3])+(1*Number(u[4])||0));if(void 0!==g)a.setMinutes(a.getMinutes()-g-a.getTimezoneOffset())}return a}t.default=r}(a,e,u);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/jsonReplacer"]=true;var v,h=function(){"use strict";var e={},t=function(e,t){function r(e,t){if(t===1/0)return{$serialized$:"+inf"};else if(t===-1/0)return{$serialized$:"-inf"};else if(void 0===t)return{$serialized$:"undef"};else if(Number.isNaN(t))return{$serialized$:"NaN"};return t}Object.defineProperty(t,"__esModule",{value:true}),t.default=r}(a,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/jsonReviver"]=true;var m,M=function(){"use strict";var e={},t=function(u,e,o){Object.defineProperty(e,"__esModule",{value:true});var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:[0-9\.]+Z$/,a=[],f=[],l={};function s(){for(var e,t,r=0;r<a.length;r++){var n=a[r],i=null;if(l[n.value.id])i=l[n.value.id];else if(n.value.module){try{if(t=n.value.module,!(e=u(t)))throw new Error('The module "'+t+'" is not loaded yet.');if(!e.prototype)throw new Error('The module "'+t+'" is not a constructor.');if("function"!==typeof e.prototype.fromJSON)throw new Error('The prototype of module "'+t+"\" don't have fromJSON() method.");i=e.fromJSON?e.fromJSON.call(e,n.value):e.prototype.fromJSON.call(e,n.value)}catch(e){o.logger.error("Serializer","Can't create an instance of \""+t+'". '+e.toString()),i=null}l[n.value.id]=i}n.scope[n.name]=n.value=i}}function t(e,t){var r=t;if(t instanceof Object&&t.hasOwnProperty("$serialized$"))switch(t.$serialized$){case"inst":a.push({scope:this,name:e,value:t}),f.push(t.id);break;case"+inf":r=1/0;break;case"-inf":r=-1/0;break;case"undef":r=void 0;break;case"NaN":r=NaN;break;default:throw new Error('Unknown serialized type "'+t.$serialized$+'" detected')}if("string"===typeof r)if(i.test(r)){var n;return new Date(r)}if(""===e&&1===Object.keys(this).length)s(),a=[],f=[];return r}e.default=t}(a,e,i);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/_numberWords/utils"]=true;var p=function(){"use strict";var e={},t=function(e,t){function r(e,t){var r=this,n=0,i=[];while(e.length>0){var u=e.substr(Math.max(e.length-3,0),3);if(0!==u.length)i.unshift([u.padStart(3,"0"),n++]);e=e.slice(0,-3)}i.forEach(function(e){t.call.apply(t,[r].concat(e))})}Object.defineProperty(t,"__esModule",{value:true}),t.iterateNumber=r}(a,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/date"]=true;var _=function(){"use strict";var e={},t=function(e,t,r,n){var i;Object.defineProperty(t,"__esModule",{value:true});var u={},o=n.current;function a(e,t){var r=String(Math.abs(e)),n=t-r.length,i;return(e>=0?"":"-")+(String(Math.pow(10,Math.max(0,n))).substr(1)+r)}function f(e){return e.getHours()%12||12}function l(e){return e.getHours()>=12?o.config.pm:o.config.am}function s(e){return o.config.minDays[e.getDay()]}function c(e){return o.config.shortDays[e.getDay()]}function d(e){return o.config.longDays[e.getDay()]}function g(e){return e.getMonth()+1}function v(e){return o.config.shortMonths[e.getMonth()]}function h(e){return o.config.longMonths[e.getMonth()]}function m(e){return o.config.ordinalMonths[e.getMonth()]}function M(e){return 1+Math.floor(e.getMonth()/3)}function p(e){return r.default(M(e))}function _(e){return o.config.minQuarter.replace("$digit$s$",p(e))}function T(e){return o.config.shortQuarter.replace("$digit$s$",p(e))}function y(e){return o.config.longQuarter.replace("$digit$s$",p(e))}function O(e){return e.getFullYear()%100}function F(e){return e.getMonth()<6?1:2}function D(e){return r.default(F(e))}function b(e){return o.config.minHalfYear.replace("$digit$s$",D(e))}function w(e){return o.config.longHalfYear.replace("$digit$s$",D(e))}function E(){if(i)return i;var e=Object.keys(u).sort(function(e,t){return t.length-e.length});return i=new RegExp("\\[[^\\]]+\\]|("+e.join("|")+")","g")}function L(e,t,r){if(void 0===r)r={};u[e]=[t,r],i=null}function S(e,t,r){if("string"===typeof t)n=t,t=function(e){return e[n]()};var n,i=t(e);if(r.lead)i=a(i,r.lead);if(r.lower)i=i.toLowerCase();return i}function H(t,e){return String(e).replace(E(),function(e){if("["===e[0]&&"]"===e[e.length-1])return e.substr(1,e.length-2);return S(t,u[e][0],u[e][1])})}L("SSS","getMilliseconds"),L("s","getSeconds"),L("ss","getSeconds",{lead:2}),L("m","getMinutes"),L("mm","getMinutes",{lead:2}),L("h",f),L("hh",f,{lead:2}),L("H","getHours"),L("HH","getHours",{lead:2}),L("a",l),L("D","getDate"),L("DD","getDate",{lead:2}),L("dd",s),L("ddl",s,{lower:true}),L("ddd",c),L("dddl",c,{lower:true}),L("dddd",d),L("ddddl",d,{lower:true}),L("M",g),L("MM",g,{lead:2}),L("MMM",v),L("MMMl",v,{lower:true}),L("MMMM",h),L("MMMMl",h,{lower:true}),L("MMMMo",m),L("MMMMlo",m,{lower:true}),L("Y",O),L("Yh",F),L("YY",O,{lead:2}),L("YYhr",b),L("YYYY","getFullYear"),L("YYYYhr",w),L("Q",M),L("QQr",_),L("QQQr",T),L("QQQQr",y),Object.assign(H,{get FULL_DATE_DOW(){return o.config.fullDateDayOfWeekFormat},get FULL_DATE(){return o.config.fullDateFormat},get FULL_DATE_FULL_MONTH(){return o.config.fullDateFullMonthFormat},get FULL_DATE_FULL_MONTH_FULL_YEAR(){return o.config.fullDateFullMonthFullYearFormat},get FULL_DATE_FULL_YEAR(){return o.config.fullDateFullYearFormat},get FULL_DATE_SHORT_MONTH(){return o.config.fullDateShortMonthFormat},get FULL_DATE_SHORT_MONTH_FULL_YEAR(){return o.config.fullDateShortMonthFullYearFormat},get FULL_DATETIME(){return o.config.fullDateShortMonthFormat+" "+o.config.shortTimeFormat},get FULL_HALF_YEAR(){return o.config.fullHalfYearFormat},get FULL_MONTH(){return o.config.fullMonthFormat},get FULL_QUATER(){return o.config.fullQuarterFormat},get FULL_TIME(){return o.config.fullTimeFormat},get SHORT_DATE_DOW(){return o.config.shortDateDayOfWeekFormat},get SHORT_DATE(){return o.config.shortDateFormat},get SHORT_DATE_FULL_MONTH(){return o.config.shortDateFullMonthFormat},get SHORT_DATE_SHORT_MONTH(){return o.config.shortDateShortMonthFormat},get SHORT_DATETIME(){return o.config.shortDateShortMonthFormat+" "+o.config.shortTimeFormat},get SHORT_HALF_YEAR(){return o.config.shortHalfYearFormat},get SHORT_MONTH(){return o.config.shortMonthFormat},get SHORT_QUATER(){return o.config.shortQuarterFormat},get SHORT_TIME(){return o.config.shortTimeFormat}}),t.default=H}(a,e,f,o);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),T=_;e["Types/_formatter/_numberWords/ru"]=true;var y=function(){"use strict";var e={},t=function(e,t,r){Object.defineProperty(t,"__esModule",{value:true});var u={0:"ноль",1:"один",2:"два",3:"три",4:"четыре",5:"пять",6:"шесть",7:"семь",8:"восемь",9:"девять"},o={0:"ноль",1:"одна",2:"две",3:"три",4:"четыре",5:"пять",6:"шесть",7:"семь",8:"восемь",9:"девять"},a={0:"десять",1:"одиннадцать",2:"двенадцать",3:"тринадцать",4:"четырнадцать",5:"пятнадцать",6:"шестнадцать",7:"семнадцать",8:"восемнадцать",9:"девятнадцать"},f={2:"двадцать",3:"тридцать",4:"сорок",5:"пятьдесят",6:"шестьдесят",7:"семьдесят",8:"восемьдесят",9:"девяносто"},l={0:"",1:"сто",2:"двести",3:"триста",4:"четыреста",5:"пятьсот",6:"шестьсот",7:"семьсот",8:"восемьсот",9:"девятьсот"},s=["","тысяча","миллион","миллиард","триллион","квадриллион","квинтиллион","сикстиллион","септиллион","октиллион","нониллион","дециллион"],c="минус";function d(e,n){if(void 0===n)n=false;if("-"===e[0])return c+" "+d(e.slice(1));var i=[];return r.iterateNumber(e,function(e,t){if("0"!==e[0])i.push(l[e[0]]);if(e[1]>1)i.push(f[e[1]]);if(1==e[1])i.push(a[e[2]]);else if(e[2]>0||0===+e&&0===i.length){var r=1===t||n?o:u;i.push(r[e[2]])}if(t>0&&0!=+e)i.push(rk(s[t],+e))}),i.join(" ")}t.default=d}(a,e,p);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/_numberWords/en"]=true;var O=function(){"use strict";var e={},t=function(e,t,r){Object.defineProperty(t,"__esModule",{value:true});var u=["zero","one","two","three","four","five","six","seven","eight","nine"],o=["ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],a={2:"twenty",3:"thirty",4:"forty",5:"fifty",6:"sixty",7:"seventy",8:"eighty",9:"ninety"},f={1:"thousand",2:"million",3:"billion",4:"trillion",5:"quadrillion",6:"quintillion",7:"sextillion",8:"septillion",9:"octillion",10:"nonillion",11:"decillion"},n="minus";function l(e,t){if(1==t.value&&e.value<100)return e;else if(t.value<100&&t.value>e.value)return{title:t.title+"-"+e.title,value:t.value+e.value};else if(t.value>=100&&t.value>e.value)return{title:t.title+" and "+e.title,value:t.value+e.value};return{title:t.title+" "+e.title,value:t.value+e.value}}function s(e){if("-"===e[0])return n+" "+s(e.slice(1));var i=[];return r.iterateNumber(e,function(e,t){var r=[];if("0"!==e[0])r.push({title:u[e[0]]+" hundred",value:100*e[0]});if(e[1]>1)r.push({title:a[e[1]],value:10*e[1]});if(1==e[1])r.push({title:o[e[2]],value:+e.slice(1)});else if(e[2]>0||0===+e&&0===i.length)r.push({title:u[e[2]],value:+e[2]});if(r.length>0){var n=r.reduceRight(l).title;if(t>0&&0!=+e)n+=" "+rk(f[t],+e);i.push(n)}}),i.join(", ")}t.default=s}(a,e,p);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/numberWords"]=true;var F,D=function(){"use strict";var e={},t=function(e,t,r,n,i){function u(e,t){if(void 0===t)t=false;switch(e=String(e),i.getLang()){case"ru-RU":return r.default(e,t);case"en-US":default:return n.default(e)}}Object.defineProperty(t,"__esModule",{value:true}),t.default=u}(a,e,y,O,n);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["Types/_formatter/dateToSql"]=true;var b=function(){"use strict";var e={},t=function(e,t,n){Object.defineProperty(t,"__esModule",{value:true});var i={TIME:"time",DATE:"date",DATETIME:"datetime"};t.MODE=i;var u={time:"HH:mm:ss",date:"YYYY-MM-DD",datetime:"YYYY-MM-DD HH:mm:ss"},o=60,a=new Date(0);function f(e,t,r){var n=String(e);if(r.length>0)while(n.length<t)n=r+n;return n}function l(e){var t=e.getTimezoneOffset(),r=t<=0;if(t<0)t=-t;var n=Math.floor(t/o),i=t-o*n,u=2;if(n=f(n,u,"0"),0===i)i="";else i=f(i,u,"0");return(r?"+":"-")+n+(i?":"+i:"")}function r(e,t){if(void 0===t)t=i.DATETIME;var r=n.default(e,u[t]);if(t!==i.DATE&&e>a){if(e.getMilliseconds()>0)r+="."+f(e.getMilliseconds(),3,"0");r+=l(e)}return r}t.default=r}(a,e,_);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),w=b,E=b;return e.cyrTranslit=l.default,e.date=T.default,e.dateToSql=w.default,e.dateFromSql=g.default,e.TO_SQL_MODE=E.MODE,e.jsonReplacer=h.default,e.jsonReviver=M.default,e.numberRoman=t.default,e.numberWords=D.default,e.number=c.default,e});