define("Types/_collection/Enum",["require","exports","tslib","Types/_collection/Dictionary","Types/entity","Types/di","Types/util"],function(t,e,n,o,r,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});var l=function(i){function e(t){var e=i.call(this,t)||this;return r.SerializableMixin.constructor.call(e),e._publish("onChange"),e._checkIndex(),e}return n.__extends(e,i),e.prototype.destroy=function(){r.ManyToManyMixin.destroy.call(this),i.prototype.destroy.call(this)},e.prototype.get=function(){return this._$index},e.prototype.set=function(t){var e,i=void 0!==this._$dictionary[t],n=this._$index!==t;if(null===t||i)this._$index=t,this._checkIndex();else throw new ReferenceError(this._moduleName+'::set(): the index "'+t+'" is out of range');if(n)this._notifyChange(this._$index,this.getAsValue())},e.prototype.getAsValue=function(t){return this._getValue(this._$index,t)},e.prototype.setByValue=function(t,e){var i=this._getIndex(t,e),n=i!==this._$index;if(null===t)this._$index=t;else if(void 0===i)throw new ReferenceError(this._moduleName+'::setByValue(): the value "'+t+"\" doesn't found in dictionary");else this._$index=i;if(n)this._notifyChange(i,t)},e.prototype.isEqual=function(t){if(!(t instanceof e))return false;if(!o.default.prototype.isEqual.call(this,t))return false;return this.get()===t.get()},e.produceInstance=function(t,e){return new this({dictionary:this.prototype._getDictionaryByFormat(e&&e.format),localeDictionary:this.prototype._getLocaleDictionaryByFormat(e&&e.format),index:t})},e.prototype.valueOf=function(){return this.get()},e.prototype.toString=function(){var t=this.getAsValue();return void 0===t||null===t?"":String(t)},e.prototype._checkIndex=function(){if(null===this._$index)return;this._$index=parseInt(String(this._$index),10)},e.prototype._notifyChange=function(t,e){var i={};i[t]=e,this._childChanged(i),this._notify("onChange",t,e)},e}(o.default);e.default=l,s.applyMixins(l,r.ManyToManyMixin,r.SerializableMixin,r.CloneableMixin),l.prototype["[Types/_collection/Enum]"]=true,l.prototype["[Types/_collection/IEnum]"]=true,l.prototype["[Types/_entity/ICloneable]"]=true,l.prototype["[Types/_entity/IProducible]"]=true,l.prototype._moduleName="Types/collection:Enum",l.prototype._$index=null,l.prototype._type="enum",l.prototype["[WS.Data/Type/Enum]"]=true,l.prototype["[WS.Data/Entity/ICloneable]"]=true,i.register("Types/collection:Enum",l,{instantiate:false})});