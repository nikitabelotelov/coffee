define("Types/_collection/Enum",["require","exports","tslib","Types/_collection/Dictionary","Types/entity","Types/di","Types/util"],function(e,t,n,o,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(i){function t(e){var t=i.call(this,e)||this;return r.SerializableMixin.constructor.call(t),t._publish("onChange"),t._checkIndex(),t}return n.__extends(t,i),t.produceInstance=function(e,t){return new this({dictionary:this.prototype._getDictionaryByFormat(t&&t.format),localeDictionary:this.prototype._getLocaleDictionaryByFormat(t&&t.format),index:e})},t.prototype.destroy=function(){r.ManyToManyMixin.destroy.call(this),i.prototype.destroy.call(this)},t.prototype.get=function(){return this._$index},t.prototype.set=function(e){var t,i=void 0!==this._$dictionary[e],n=this._$index!==e;if(null===e||i)this._$index=e,this._checkIndex();else throw new ReferenceError(this._moduleName+'::set(): the index "'+e+'" is out of range');if(n)this._notifyChange(this._$index,this.getAsValue())},t.prototype.getAsValue=function(e){return this._getValue(this._$index,e)},t.prototype.setByValue=function(e,t){var i=this._getIndex(e,t),n=i!==this._$index;if(null===e)this._$index=e;else if(void 0===i)throw new ReferenceError(this._moduleName+'::setByValue(): the value "'+e+"\" doesn't found in dictionary");else this._$index=i;if(n)this._notifyChange(i,e)},t.prototype.isEqual=function(e){if(!(e instanceof t))return false;if(!o.default.prototype.isEqual.call(this,e))return false;return this.get()===e.get()},t.prototype.valueOf=function(){return this.get()},t.prototype.toString=function(){var e=this.getAsValue();return void 0===e||null===e?"":String(e)},t.prototype._checkIndex=function(){if(null===this._$index)return;this._$index=parseInt(String(this._$index),10)},t.prototype._notifyChange=function(e,t){var i={};i[e]=t,this._childChanged(i),this._notify("onChange",e,t)},t}(o.default);t.default=l,s.applyMixins(l,r.ManyToManyMixin,r.SerializableMixin,r.CloneableMixin),Object.assign(l.prototype,{"[Types/_collection/Enum]":true,"[Types/_collection/IEnum]":true,"[Types/_entity/ICloneable]":true,"[Types/_entity/IProducible]":true,_moduleName:"Types/collection:Enum",_$index:null,_type:"enum"}),l.prototype["[WS.Data/Type/Enum]"]=true,l.prototype["[WS.Data/Entity/ICloneable]"]=true,i.register("Types/collection:Enum",l,{instantiate:false})});