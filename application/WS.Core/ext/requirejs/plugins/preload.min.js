(function(){"use strict";var e=function(){return this||(0,eval)("this")}(),r=e.define||e.requirejs&&e.requirejs.define||requirejsVars&&requirejsVars.define,c=false,g=[],p=[];r("preload",["Core/ParallelDeferred","Core/moduleStubs","View/Executor/Utils","Env/Env","Core/i18n","Core/Deferred"],function(n,t,o,i,e){if("undefined"==typeof window)return{load:function(e,r,n){n(function(){})}};var u=/lang\/([a-z]{2}-[A-Z]{2})/,s=e.getLang();function f(){if(c)return;c=true;var e=g.splice(0,100);if(!e.length)return void(c=false);var r=new n({maxRunningCount:1,stopOnFirstError:false});(e=e.filter(function(e){var r=e.module.match(u);return!r||r&&r[1]==s})).forEach(function(e){r.push(function(){return t.require(e.module)})}),r.done().getResult().addCallback(function(){c=false,f()})}function a(e){if(e.length)g=g.concat(e),f()}function r(e){if((e=e.filter(function(e){if(!o.RequireHelper.defined(e)&&-1===p.indexOf(e))return p.push(e),true;return false})).length){var n=new XMLHttpRequest,r=window.wsConfig&&window.wsConfig.appRoot||"/",t=i.constants.buildnumber?"&v="+i.constants.buildnumber:"";n.open("GET",encodeURI(r+"depresolver/?modules="+JSON.stringify(e)+"&lightload=1"+t),true),n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<400)try{var e;a(JSON.parse(n.responseText))}catch(r){l(r)}else{var r=new Error(n.responseText);r.code=n.status,l(r)}},n.send(null)}}function l(e){if(e.message.indexOf("DOCTYPE")>-1)i.IoC.resolve("ILogger").error("Preloader","Unknown error with code: "+e.code);else i.IoC.resolve("ILogger").error("Preloader",e.message)}function d(e){r(e)}return{load:function(e,r,n){if(e=e.split(";"),!window.preprocessor)n(function(){t.require(e)});else n(function(){d(e)})}}})})();