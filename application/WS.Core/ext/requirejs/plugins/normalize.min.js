define("normalize",["require","module"],function(t){var r=/([^:])\/+/g,o=function(t){return t.replace(r,"$1/")},u=/[^\:\/]*:\/\/([^\/])*/;function c(t,r,s){if(0===t.indexOf("data:"))return t;if((t=o(t)).match(/^\//)||t.match(u))return t;var e=s.match(u),i=r.match(u);if(i&&(!e||e[1]!=i[1]||e[2]!=i[2]))return n(t,r);else return a(n(t,r),s)}function n(t,r){if("./"==t.substr(0,2))t=t.substr(2);var s=r.split("/"),e=t.split("/");s.pop();while(curPart=e.shift())if(".."==curPart)s.pop();else s.push(curPart);return s.join("/")}function a(t,r){var s=r.split("/");s.pop(),r=s.join("/")+"/",i=0;while(r.substr(i,1)==t.substr(i,1))i++;while("/"!=r.substr(i,1))i--;r=r.substr(i+1),t=t.substr(i+1),s=r.split("/");var e=t.split("/");out="";while(s.shift())out+="../";while(curPart=e.shift())out+=curPart+"/";return out.substr(0,out.length-1)}var s=function(t,r,s,e){r=o(r),s=o(s);var i=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi,u,n,t;while(u=i.exec(t)){var a;if(n=u[3]||u[2]||u[5]||u[6]||u[4],e&&"/"==n.substr(0,1))a=e+n;else a=c(n,r,s);var l=u[5]||u[6]?1:0;t=t.substr(0,i.lastIndex-n.length-l-1)+a+t.substr(i.lastIndex-l-1),i.lastIndex=i.lastIndex+(a.length-n.length)}return t};return s.convertURIBase=c,s});