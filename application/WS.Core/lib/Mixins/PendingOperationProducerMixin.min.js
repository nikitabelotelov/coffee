define("Lib/Mixins/PendingOperationProducerMixin",["Core/helpers/Array/findIndex"],function(r){var t=[];function n(n,e){var i=r(e,function(e){return e===n});if(-1!==i)e.splice(i,1)}return{$protected:{_producedPendingOperations:[]},_removeOpFromCollections:function(e){n(e,this._producedPendingOperations),n(e,t)},_registerPendingOperation:function(e,n,i){var e,r={name:e=this._moduleName?this._moduleName+"/"+e:e,finishFunc:n,cleanup:null,control:this,registerTarget:i};if(r.cleanup=this._removeOpFromCollections.bind(this,r),r.registerTarget)r.registerTarget.sendCommand("registerPendingOperation",r),this._producedPendingOperations.push(r),t.push(r);return r},_unregisterPendingOperation:function(e){if(e.cleanup(),e.registerTarget)e.registerTarget.sendCommand("unregisterPendingOperation",e)},getAllPendingOperations:function(){return t},getPendingOperations:function(){return this._producedPendingOperations},before:{destroy:function(){var e=this._producedPendingOperations;while(e.length>0)this._unregisterPendingOperation(e[0])}}}});