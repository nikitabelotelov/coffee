!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.SockJS=e()}}(function(){var c,e,t;return function o(s,a,l){function u(n,e){if(!a[n]){if(!s[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(e){var t=s[n][1][e];return u(t?t:e)},i,i.exports,o,s,a,l)}return a[n].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(r,i,e){(function(e){"use strict";var t=r("debug")("sockjs-client:entry");t.enable("sockjs-client:ajax-based"),t.enable("sockjs-client:receiver:xhr"),t.enable("sockjs-client:websocket"),t.enable("sockjs-client:utils:iframe"),t.enable("sockjs-client:main");var n=r("./transport-list");if(i.exports=r("./main")(n),"_sockjs_onload"in e)setTimeout(e._sockjs_onload,1)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./main":14,"./transport-list":16,debug:45}],2:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./event");function o(){i.call(this),this.initEvent("close",false,false),this.wasClean=false,this.code=0,this.reason=""}r(o,i),t.exports=o},{"./event":4,inherits:56}],3:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./eventtarget");function o(){i.call(this)}r(o,i),o.prototype.removeAllListeners=function(e){if(e)delete this._listeners[e];else this._listeners={}},o.prototype.once=function(e,t){var n=this,r=false;function i(){if(n.removeListener(e,i),!r)r=true,t.apply(this,arguments)}this.on(e,i)},o.prototype.emit=function(e){var t=this._listeners[e];if(!t)return;for(var n=Array.prototype.slice.call(arguments,1),r=0;r<t.length;r++)t[r].apply(this,n)},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,t.exports.EventEmitter=o},{"./eventtarget":5,inherits:56}],4:[function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,t.exports=r},{}],5:[function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){if(!(e in this._listeners))this._listeners[e]=[];var n=this._listeners[e];if(-1===n.indexOf(t))n=n.concat([t]);this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(!n)return;var r=n.indexOf(t);if(-1!==r){if(n.length>1)this._listeners[e]=n.slice(0,r).concat(n.slice(r+1));else delete this._listeners[e];return}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t])this["on"+t].apply(this,n);if(t in this._listeners)for(var r=this._listeners[t],i=0;i<r.length;i++)r[i].apply(this,n)},t.exports=r},{}],6:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./event");function o(e){i.call(this),this.initEvent("message",false,false),this.data=e}r(o,i),t.exports=o},{"./event":4,inherits:56}],7:[function(e,t,n){"use strict";var r=e("json3"),i=e("./utils/iframe");function o(e){(this._transport=e).on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",r.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=o},{"./utils/iframe":48,json3:57}],8:[function(r,i,e){(function(e){"use strict";var f=r("./utils/url"),t=r("./utils/event"),d=r("json3"),h=r("./facade"),n=r("./info-iframe-receiver"),p=r("./utils/iframe"),v=r("./location"),m=function(){};if("production"!==e.env.NODE_ENV)m=r("debug")("sockjs-client:iframe-bootstrap");i.exports=function(l,e){var u={},c;e.forEach(function(e){if(e.facadeTransport)u[e.facadeTransport.transportName]=e.facadeTransport}),u[n.transportName]=n,l.bootstrap_iframe=function(){var a;p.currentWindowId=v.hash.slice(1);var e=function(t){if(t.source!==parent)return;if("undefined"===typeof c)c=t.origin;if(t.origin!==c)return;var n;try{n=d.parse(t.data)}catch(e){return void m("bad json",t.data)}if(n.windowId!==p.currentWindowId)return;switch(n.type){case"s":var e;try{e=d.parse(n.data)}catch(e){m("bad json",n.data);break}var r=e[0],i=e[1],o=e[2],s=e[3];if(m(r,i,o,s),r!==l.version)throw new Error("Incompatible SockJS! Main site uses:"+' "'+r+'", the iframe:'+' "'+l.version+'".');if(!f.isOriginEqual(o,v.href)||!f.isOriginEqual(s,v.href))throw new Error("Can't connect to different domain from within an "+"iframe. ("+v.href+", "+o+", "+s+")");a=new h(new u[i](o,s));break;case"m":a._send(n.data);break;case"c":if(a)a._close();a=null}};t.attachEvent("message",e),p.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":47,"./utils/iframe":48,"./utils/url":54,debug:45,json3:57}],9:[function(i,o,e){(function(e){"use strict";var n=i("events").EventEmitter,t=i("inherits"),s=i("json3"),a=i("./utils/object"),l=function(){};if("production"!==e.env.NODE_ENV)l=i("debug")("sockjs-client:info-ajax");function r(e,t){n.call(this);var i=this,o=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var n,r;if(200===e){if(r=+new Date-o,t)try{n=s.parse(t)}catch(e){l("bad json",t)}if(!a.isObject(n))n={}}i.emit("finish",n,r),i.removeAllListeners()})}t(r,n),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},o.exports=r}).call(this,{env:{}})},{"./utils/object":50,debug:45,events:3,inherits:56,json3:57}],10:[function(e,t,n){"use strict";var r=e("inherits"),i=e("events").EventEmitter,o=e("json3"),s=e("./transport/sender/xhr-local"),a=e("./info-ajax");function l(e){var n=this;i.call(this),this.ir=new a(e,s),this.ir.once("finish",function(e,t){n.ir=null,n.emit("message",o.stringify([e,t]))})}r(l,i),l.transportName="iframe-info-receiver",l.prototype.close=function(){if(this.ir)this.ir.close(),this.ir=null;this.removeAllListeners()},t.exports=l},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:56,json3:57}],11:[function(i,f,e){(function(e,r){"use strict";var o=i("events").EventEmitter,t=i("inherits"),s=i("json3"),a=i("./utils/event"),l=i("./transport/iframe"),u=i("./info-iframe-receiver"),c=function(){};if("production"!==e.env.NODE_ENV)c=i("debug")("sockjs-client:info-iframe");function n(t,n){var i=this;o.call(this);var e=function(){var e=i.ifr=new l(u.transportName,n,t);e.once("message",function(t){if(t){var e;try{e=s.parse(t)}catch(e){return c("bad json",t),i.emit("finish"),void i.close()}var n=e[0],r=e[1];i.emit("finish",n,r)}i.close()}),e.once("close",function(){i.emit("finish"),i.close()})};if(!r.document.body)a.attachEvent("load",e);else e()}t(n,o),n.enabled=function(){return l.enabled()},n.prototype.close=function(){if(this.ifr)this.ifr.close();this.removeAllListeners(),this.ifr=null},f.exports=n}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":47,debug:45,events:3,inherits:56,json3:57}],12:[function(n,h,e){(function(e){"use strict";var r=n("events").EventEmitter,t=n("inherits"),i=n("./utils/url"),o=n("./transport/sender/xdr"),s=n("./transport/sender/xhr-cors"),a=n("./transport/sender/xhr-local"),l=n("./transport/sender/xhr-fake"),u=n("./info-iframe"),c=n("./info-ajax"),f=function(){};if("production"!==e.env.NODE_ENV)f=n("debug")("sockjs-client:info-receiver");function d(e,t){f(e);var n=this;r.call(this),setTimeout(function(){n.doXhr(e,t)},0)}t(d,r),d._getReceiver=function(e,t,n){if(n.sameOrigin)return new c(t,a);if(s.enabled)return new c(t,s);if(o.enabled&&n.sameScheme)return new c(t,o);if(u.enabled())return new u(e,t);return new c(t,l)},d.prototype.doXhr=function(e,t){var n=this,r=i.addPath(e,"/info");f("doXhr",r),this.xo=d._getReceiver(e,r,t),this.timeoutRef=setTimeout(function(){f("timeout"),n._cleanup(false),n.emit("finish")},d.timeout),this.xo.once("finish",function(e,t){f("finish",e,t),n._cleanup(true),n.emit("finish",e,t)})},d.prototype._cleanup=function(e){if(f("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo)this.xo.close();this.xo=null},d.prototype.close=function(){f("close"),this.removeAllListeners(),this._cleanup(false)},d.timeout=8e3,h.exports=d}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":54,debug:45,events:3,inherits:56}],13:[function(e,t,n){(function(e){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],14:[function(j,O,e){(function(e,i){"use strict";j("./shims");var l=j("url-parse"),t=j("inherits"),o=j("json3"),u=j("./utils/random"),n=j("./utils/escape"),c=j("./utils/url"),s=j("./utils/event"),r=j("./utils/transport"),a=j("./utils/object"),f=j("./utils/browser"),d=j("./utils/log"),h=j("./event/event"),p=j("./event/eventtarget"),v=j("./location"),m=j("./event/close"),b=j("./event/trans-message"),y=j("./info-receiver"),g=function(){},w=j("stompLogger"),x;if("production"!==e.env.NODE_ENV)g=j("debug")("sockjs-client:main");function _(e,t,n){if(!(this instanceof _))return new _(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");if(p.call(this),this.readyState=_.CONNECTING,this.extensions="",this.protocol="",g.set(n.debug),w.set(n.stompLogger),(n=n||{}).protocols_whitelist)d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.");this._transportsWhitelist=n.transports;var r=n.sessionId||8;if("function"===typeof r)this._generateSessionId=r;else if("number"===typeof r)this._generateSessionId=function(){return u.string(r)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=n.server||u.numberString(1e3);var i=new l(e);if(!i.host||!i.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");else if(i.hash)throw new SyntaxError("The URL must not contain a fragment");else if("http:"!==i.protocol&&"https:"!==i.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+i.protocol+"' is not allowed.");var o="https:"===i.protocol;if("https"===v.protocol&&!o)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");if(!t)t=[];else if(!Array.isArray(t))t=[t];var s=t.sort();s.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<s.length-1&&e===s[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")});var a=c.getOrigin(v.href);this._origin=a?a.toLowerCase():null,i.set("pathname",i.pathname.replace(/\/+$/,"")),this.url=i.href,g("using url",this.url),this._urlInfo={nullOrigin:!f.hasDomain(),sameOrigin:c.isOriginEqual(this.url,v.href),sameScheme:c.isSchemeEqual(this.url,v.href)},this._ir=new y(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function E(e){return 1e3===e||e>=3e3&&e<=4999}t(_,p),_.prototype.close=function(e,t){if(e&&!E(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState===_.CLOSING||this.readyState===_.CLOSED)return;var n=true;this._close(e||1e3,t||"Normal closure",n)},_.prototype.send=function(e){if("string"!==typeof e)e=""+e;if(this.readyState===_.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");if(this.readyState!==_.OPEN)return;this._transport.send(n.quote(e))},_.version=j("./version"),_.CONNECTING=0,_.OPEN=1,_.CLOSING=2,_.CLOSED=3,_.prototype._receiveInfo=function(e,t){if(g("_receiveInfo",t),this._ir=null,!e)return void this._close(1002,"Cannot connect to server");this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=a.extend(e,this._urlInfo),g("info",e);var n=x.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main,g("@info",this._transports.length+" enabled transports"),w("count","attempt"),this._connect()},_.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(g("@info","attempt",e.transportName),w("set","proto",e.transportName),w("runInterval","ms"),e.needBody)if(!i.document.body||"undefined"!==typeof i.document.readyState&&"complete"!==i.document.readyState&&"interactive"!==i.document.readyState)return g("waiting for body"),this._transports.unshift(e),void s.attachEvent("load",this._connect.bind(this));var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),g("@info","using timeout",t);var n=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());g("@info","transport url",n);var r=new e(n,this._transUrl);return r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=e.transportName,void(this._transport=r)}this._close(2e3,"All transports failed",false)},_.prototype._transportTimeout=function(){if(g("_transportTimeout"),this.readyState===_.CONNECTING)this._transportClose(2007,"Transport timed out")},_.prototype._transportMessage=function(e){g("_transportMessage",e);var t=this,n=e.slice(0,1),r=e.slice(1),i;switch(n){case"o":return void this._open();case"h":return this.dispatchEvent(new h("heartbeat")),void g("heartbeat",this.transport)}if(r)try{i=o.parse(r)}catch(e){g("bad json",r)}if("undefined"===typeof i)return void g("empty payload",r);switch(n){case"a":if(Array.isArray(i))i.forEach(function(e){g("message",t.transport,e),t.dispatchEvent(new b(e))});break;case"m":g("message",this.transport,i),this.dispatchEvent(new b(i));break;case"c":if(Array.isArray(i)&&2===i.length)this._close(i[0],i[1],true)}},_.prototype._transportClose=function(e,t){var n=this.transport||this._transport?this._transport.transportName:"";if(g("@info","_transportClose",n,e,t),w("stopInterval","ms"),w("sendFail"),this._transport)this._transport.removeAllListeners(),this._transport.close(),this._transport=null,this.transport=null;if(E(e)||2e3===e||this.readyState!==_.CONNECTING)if(localStorage.getItem("isWebSocketConnectionAlive"))this._close(e,t);else this._connect();else this._connect()},_.prototype._open=function(){if(g("@info","_open",this._transport&&this._transport.transportName,"readyState",this.readyState),this.readyState===_.CONNECTING){if(this._transportTimeoutId)clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null;this.readyState=_.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new h("open")),g("@info","connected",this.transport),w("stopInterval","ms"),w("runInterval","stomp-conn")}else this._close(1006,"Server lost session")},_.prototype._close=function(t,n,r){g("_close",this.transport,t,n,r,this.readyState);var i=false;if(this._ir)i=true,this._ir.close(),this._ir=null;if(this._transport)this._transport.close(),this._transport=null,this.transport=null;if(this.readyState===_.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=_.CLOSING,setTimeout(function(){if(this.readyState=_.CLOSED,i)this.dispatchEvent(new h("error"));var e=new m("close");e.wasClean=r||false,e.code=t||1e3,e.reason=n,this.dispatchEvent(e),this.onmessage=this.onclose=this.onerror=null,g("disconnected")}.bind(this),0)},_.prototype.countRTO=function(e){if(e>100)return 4*e;return 300+e},O.exports=function(e){return x=r(e),j("./iframe-bootstrap")(_,e),_}}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":46,"./utils/event":47,"./utils/log":49,"./utils/object":50,"./utils/random":51,"./utils/transport":53,"./utils/url":54,"./version":55,debug:45,inherits:56,json3:57,stompLogger:52,"url-parse":60}],15:[function(e,t,n){"use strict";var c=Array.prototype,i=Object.prototype,r=Function.prototype,o=String.prototype,u=c.slice,f=i.toString,d=function(e){return"[object Function]"===i.toString.call(e)},s=function e(t){return"[object Array]"===f.call(t)},a=function e(t){return"[object String]"===f.call(t)},l,h;if(Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),true}catch(e){return false}}())h=function(e,t,n,r){if(!r&&t in e)return;Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:n})};else h=function(e,t,n,r){if(!r&&t in e)return;e[t]=n};var p=function(e,t,n){for(var r in t)if(i.hasOwnProperty.call(t,r))h(e,r,t[r],n)},v=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function m(e){var t=+e;if(t!==t)t=0;else if(0!==t&&t!==1/0&&t!==-1/0)t=(t>0||-1)*Math.floor(Math.abs(t));return t}function b(e){return e>>>0}function y(){}p(r,{bind:function e(t){var n=this;if(!d(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var r=u.call(arguments,1),i=function(){if(this instanceof l){var e=n.apply(this,r.concat(u.call(arguments)));if(Object(e)===e)return e;return this}else return n.apply(t,r.concat(u.call(arguments)))},o=Math.max(0,n.length-r.length),s=[],a=0;a<o;a++)s.push("$"+a);var l=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this, arguments); }")(i);if(n.prototype)y.prototype=n.prototype,l.prototype=new y,y.prototype=null;return l}}),p(Array,{isArray:s});var g=Object("a"),w="a"!==g[0]||!(0 in g),x;p(c,{forEach:function e(t){var n=v(this),r=w&&a(this)?this.split(""):n,i=arguments[1],o=-1,s=r.length>>>0;if(!d(t))throw new TypeError;while(++o<s)if(o in r)t.call(i,r[o],o,n)}},!function e(t){var r=true,n=true;if(t)t.call("foo",function(e,t,n){if("object"!==typeof n)r=false}),t.call([1],function(){n="string"===typeof this},"x");return!!t&&r&&n}(c.forEach));var _=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);p(c,{indexOf:function e(t){var n=w&&a(this)?this.split(""):v(this),r=n.length>>>0;if(!r)return-1;var i=0;if(arguments.length>1)i=m(arguments[1]);for(i=i>=0?i:Math.max(0,r+i);i<r;i++)if(i in n&&n[i]===t)return i;return-1}},_);var E=o.split,j;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1)j=void 0===/()??/.exec("")[1],o.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==f.call(e))return E.call(this,e,t);var r=[],i=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),o=0,s,a,l,u;if(e=new RegExp(e.source,i+"g"),n+="",!j)s=new RegExp("^"+e.source+"$(?!\\s)",i);t=void 0===t?-1>>>0:b(t);while(a=e.exec(n)){if((l=a.index+a[0].length)>o){if(r.push(n.slice(o,a.index)),!j&&a.length>1)a[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)if(void 0===arguments[e])a[e]=void 0});if(a.length>1&&a.index<n.length)c.push.apply(r,a.slice(1));if(u=a[0].length,o=l,r.length>=t)break}if(e.lastIndex===a.index)e.lastIndex++}if(o===n.length){if(u||!e.test(""))r.push("")}else r.push(n.slice(o));return r.length>t?r.slice(0,t):r};else if("0".split(void 0,0).length)o.split=function e(t,n){if(void 0===t&&0===n)return[];return E.call(this,t,n)};var O="\t\n\v\f\r   ᠎    "+"         　\u2028"+"\u2029\ufeff",S="​",T="["+O+"]",N=new RegExp("^"+T+T+"*"),C=new RegExp(T+T+"*$"),k=o.trim&&(O.trim()||!S.trim());p(o,{trim:function e(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(N,"").replace(C,"")}},k);var A=o.substr,I="".substr&&"b"!=="0b".substr(-1);p(o,{substr:function e(t,n){return A.call(this,t<0?(t=this.length+t)<0?0:t:t,n)}},I)},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(f,d,e){(function(e,t){"use strict";var o=f("events").EventEmitter,n=f("inherits"),s=f("../../utils/event"),a=f("../../utils/url"),l=t.XMLHttpRequest,u=function(){};if("production"!==e.env.NODE_ENV)u=f("debug")("sockjs-client:browser:xhr");function c(e,t,n,r){u(e,t);var i=this;o.call(this),setTimeout(function(){i._start(e,t,n,r)},0)}n(c,o),c.prototype._start=function(e,t,n,r){var i=this;try{this.xhr=new l}catch(e){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=s.unloadAdd(function(){u("unload cleanup"),i._cleanup(true)});try{if(this.xhr.open(e,t,true),this.timeout&&"timeout"in this.xhr)this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),i.emit("finish",0,""),i._cleanup(false)}}catch(e){return u("exception",e),this.emit("finish",0,""),void this._cleanup(false)}if((!r||!r.noCredentials)&&c.supportsCORS)u("withCredentials");if(r&&r.headers)for(var o in r.headers)this.xhr.setRequestHeader(o,r.headers[o]);this.xhr.onreadystatechange=function(){if(i.xhr){var e=i.xhr,t,n;switch(u("readyState",e.readyState),e.readyState){case 3:try{n=e.status,t=e.responseText}catch(e){}if(u("status",n),1223===n)n=204;if(200===n&&t&&t.length>0)u("chunk"),i.emit("chunk",n,t);break;case 4:if(n=e.status,u("status",n),1223===n)n=204;if(12005===n||12029===n)n=0;u("finish",n,e.responseText),i.emit("finish",n,e.responseText),i._cleanup(false)}}};try{i.xhr.send(n)}catch(e){i.emit("finish",0,""),i._cleanup(false)}},c.prototype._cleanup=function(e){if(u("cleanup"),!this.xhr)return;if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout)this.xhr.ontimeout=null;if(e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null},c.prototype.close=function(){u("close"),this._cleanup(true)},c.enabled=!!l;var r=["Active"].concat("Object").join("X");if(!c.enabled&&r in t)u("overriding xmlhttprequest"),c.enabled=!!new(l=function(){try{return new t[r]("Microsoft.XMLHTTP")}catch(e){return null}});var i=false;try{i="withCredentials"in new l}catch(e){}c.supportsCORS=i,d.exports=c}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/event":47,"../../utils/url":54,debug:45,events:3,inherits:56}],18:[function(e,t,n){(function(e){t.exports=e.EventSource}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],19:[function(e,t,n){(function(e){t.exports=e.WebSocket||e.MozWebSocket}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],20:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/eventsource"),s=e("./sender/xhr-cors"),a=e("eventsource");function l(e){if(!l.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",o,s)}r(l,i),l.enabled=function(){return!!a},l.transportName="eventsource",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:56}],21:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./receiver/htmlfile"),o=e("./sender/xhr-local"),s=e("./lib/ajax-based");function a(e){if(!i.enabled)throw new Error("Transport created when disabled");s.call(this,e,"/htmlfile",i,o)}r(a,s),a.enabled=function(e){return i.enabled&&e.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:56}],22:[function(n,d,e){(function(e){"use strict";var t=n("inherits"),r=n("json3"),o=n("events").EventEmitter,i=n("../version"),s=n("../utils/url"),a=n("../utils/iframe"),l=n("../utils/event"),u=n("../utils/random"),c=function(){};if("production"!==e.env.NODE_ENV)c=n("debug")("sockjs-client:transport:iframe");function f(e,t,n){if(!f.enabled())throw new Error("Transport created when disabled");o.call(this);var r=this;this.origin=s.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=u.string(8);var i=s.addPath(n,"/iframe.html")+"#"+this.windowId;c(e,t,i),this.iframeObj=a.createIframe(i,function(e){c("err callback"),r.emit("close",1006,"Unable to load an iframe ("+e+")"),r.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}t(f,o),f.prototype.close=function(){if(c("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},f.prototype._message=function(t){if(c("message",t.data),!s.isOriginEqual(t.origin,this.origin))return void c("not same origin",t.origin,this.origin);var n;try{n=r.parse(t.data)}catch(e){return void c("bad json",t.data)}if(n.windowId!==this.windowId)return void c("mismatched window id",n.windowId,this.windowId);switch(n.type){case"s":this.iframeObj.loaded(),this.postMessage("s",r.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",n.data);break;case"c":var e;try{e=r.parse(n.data)}catch(e){return void c("bad json",n.data)}this.emit("close",e[0],e[1]),this.close()}},f.prototype.postMessage=function(e,t){c("postMessage",e,t),this.iframeObj.post(r.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},f.prototype.send=function(e){c("send",e),this.postMessage("m",e)},f.enabled=function(){return a.iframeEnabled},f.transportName="iframe",f.roundTrips=2,d.exports=f}).call(this,{env:{}})},{"../utils/event":47,"../utils/iframe":48,"../utils/random":51,"../utils/url":54,"../version":55,debug:45,events:3,inherits:56,json3:57}],23:[function(s,a,e){(function(e){"use strict";var t=s("inherits"),n=s("./lib/sender-receiver"),r=s("./receiver/jsonp"),i=s("./sender/jsonp");function o(e){if(!o.enabled())throw new Error("Transport created when disabled");n.call(this,e,"/jsonp",i,r)}t(o,n),o.enabled=function(){return!!e.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=true,a.exports=o}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:56}],24:[function(r,s,e){(function(e){"use strict";var t=r("inherits"),a=r("../../utils/url"),i=r("./sender-receiver"),l=function(){};if("production"!==e.env.NODE_ENV)l=r("debug")("sockjs-client:ajax-based");function o(s){return function(e,t,n){l("create ajax sender",e,t);var r={};if("string"===typeof t)r.headers={"Content-type":"text/plain"};var i=a.addPath(e,"/xhr_send"),o=new s("POST",i,t,r);return o.once("finish",function(e){if(0==e);if(l("finish",e),o=null,200!==e&&204!==e)return n(new Error("http status "+e));n()}),function(){l("abort"),o.close(),o=null;var e=new Error("Aborted");e.code=1e3,n(e)}}}function n(e,t,n,r){i.call(this,e,t,o(r),n,r)}t(n,i),s.exports=n}).call(this,{env:{}})},{"../../utils/url":54,"./sender-receiver":28,debug:45,inherits:56}],25:[function(o,s,e){(function(e){"use strict";var t=o("inherits"),n=o("events").EventEmitter,r=function(){};if("production"!==e.env.NODE_ENV)r=o("debug")("sockjs-client:buffered-sender");function i(e,t){r(e),n.call(this),this.sendBuffer=[],this.sender=t,this.url=e}t(i,n),i.prototype.send=function(e){if(r("send",e),this.sendBuffer.push(e),!this.sendStop)this.sendSchedule()},i.prototype.sendScheduleWait=function(){r("sendScheduleWait");var e=this,t;this.sendStop=function(){r("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){r("timeout"),e.sendStop=null,e.sendSchedule()},25)},i.prototype.sendSchedule=function(){r("sendSchedule",this.sendBuffer.length);var t=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(e){if(t.sendStop=null,e)r("error",e),t.emit("close",e.code||1006,"Sending error: "+e),t._cleanup();else t.sendScheduleWait()}),this.sendBuffer=[]}},i.prototype._cleanup=function(){r("_cleanup"),this.removeAllListeners()},i.prototype.stop=function(){if(r("stop"),this._cleanup(),this.sendStop)this.sendStop(),this.sendStop=null},s.exports=i}).call(this,{env:{}})},{debug:45,events:3,inherits:56}],26:[function(e,n,t){(function(i){"use strict";var t=e("inherits"),o=e("../iframe"),s=e("../../utils/object");n.exports=function(r){function e(e,t){o.call(this,r.transportName,e,t)}return t(e,o),e.enabled=function(e,t){if(!i.document)return false;var n=s.extend({},t);return n.sameOrigin=true,r.enabled(n)&&o.enabled()},e.transportName="iframe-"+r.transportName,e.needBody=true,e.roundTrips=o.roundTrips+r.roundTrips-1,e.facadeTransport=r,e}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/object":50,"../iframe":22,inherits:56}],27:[function(o,s,e){(function(e){"use strict";var t=o("inherits"),r=o("events").EventEmitter,i=function(){};if("production"!==e.env.NODE_ENV)i=o("debug")("sockjs-client:polling");function n(e,t,n){i(t),r.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}t(n,r),n.prototype._scheduleReceiver=function(){i("_scheduleReceiver");var n=this,r=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);r.on("message",function(e){i("message",e),n.emit("message",e)}),r.once("close",function(e,t){if(i("close",e,t,n.pollIsClosing),n.poll=r=null,!n.pollIsClosing)if("network"===t)n._scheduleReceiver();else n.emit("close",e||1006,t),n.removeAllListeners()})},n.prototype.abort=function(){if(i("abort"),this.removeAllListeners(),this.pollIsClosing=true,this.poll)this.poll.abort()},s.exports=n}).call(this,{env:{}})},{debug:45,events:3,inherits:56}],28:[function(r,i,e){(function(e){"use strict";var t=r("inherits"),a=r("../../utils/url"),l=r("./buffered-sender"),u=r("./polling"),c=function(){};if("production"!==e.env.NODE_ENV)c=r("debug")("sockjs-client:sender-receiver");function n(e,t,n,r,i){var o=a.addPath(e,t);c(o);var s=this;l.call(this,e,n),this.poll=new u(r,o,i),this.poll.on("message",function(e){c("poll message",e),s.emit("message",e)}),this.poll.once("close",function(e,t){c("poll close",e,t),s.poll=null,s.emit("close",e,t),s.close()})}t(n,l),n.prototype.close=function(){if(c("close"),this.removeAllListeners(),this.poll)this.poll.abort(),this.poll=null;this.stop()},i.exports=n}).call(this,{env:{}})},{"../../utils/url":54,"./buffered-sender":25,"./polling":27,debug:45,inherits:56}],29:[function(r,a,e){(function(e){"use strict";var t=r("inherits"),i=r("events").EventEmitter,o=r("eventsource"),s=function(){};if("production"!==e.env.NODE_ENV)s=r("debug")("sockjs-client:receiver:eventsource");function n(e){s(e),i.call(this);var n=this,r=this.es=new o(e);r.onmessage=function(e){s("message",e.data),n.emit("message",decodeURI(e.data))},r.onerror=function(e){s("error",r.readyState,e);var t=2!==r.readyState?"network":"permanent";n._cleanup(),n._close(t)}}t(n,i),n.prototype.abort=function(){s("abort"),this._cleanup(),this._close("user")},n.prototype._cleanup=function(){s("cleanup");var e=this.es;if(e)e.onmessage=e.onerror=null,e.close(),this.es=null},n.prototype._close=function(e){s("close",e);var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},a.exports=n}).call(this,{env:{}})},{debug:45,events:3,eventsource:18,inherits:56}],30:[function(c,f,e){(function(e,r){"use strict";var t=c("inherits"),i=c("../../utils/iframe"),o=c("../../utils/url"),s=c("events").EventEmitter,a=c("../../utils/random"),l=function(){};if("production"!==e.env.NODE_ENV)l=c("debug")("sockjs-client:receiver:htmlfile");function u(e){l(e),s.call(this);var t=this;i.polluteGlobalNamespace(),this.id="a"+a.string(6),e=o.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),l("using htmlfile",u.htmlfileEnabled);var n=u.htmlfileEnabled?i.createHtmlfile:i.createIframe;r[i.WPrefix][this.id]={start:function(){l("start"),t.iframeObj.loaded()},message:function(e){l("message",e),t.emit("message",e)},stop:function(){l("stop"),t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){l("callback"),t._cleanup(),t._close("permanent")})}t(u,s),u.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},u.prototype._cleanup=function(){if(l("_cleanup"),this.iframeObj)this.iframeObj.cleanup(),this.iframeObj=null;delete r[i.WPrefix][this.id]},u.prototype._close=function(e){l("_close",e),this.emit("close",null,e),this.removeAllListeners()},u.htmlfileEnabled=false;var n=["Active"].concat("Object").join("X");if(n in r)try{u.htmlfileEnabled=!!new r[n]("htmlfile")}catch(e){}u.enabled=u.htmlfileEnabled||i.iframeEnabled,f.exports=u}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/iframe":48,"../../utils/random":51,"../../utils/url":54,debug:45,events:3,inherits:56}],31:[function(n,f,e){(function(e,o){"use strict";var r=n("../../utils/iframe"),s=n("../../utils/random"),a=n("../../utils/browser"),i=n("../../utils/url"),t=n("inherits"),l=n("events").EventEmitter,u=function(){};if("production"!==e.env.NODE_ENV)u=n("debug")("sockjs-client:receiver:jsonp");function c(e){u(e);var t=this;l.call(this),r.polluteGlobalNamespace(),this.id="a"+s.string(6);var n=i.addQuery(e,"c="+encodeURIComponent(r.WPrefix+"."+this.id));o[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(n),this.timeoutId=setTimeout(function(){u("timeout"),t._abort(new Error("JSONP script loaded abnormally (timeout)"))},c.timeout)}t(c,l),c.prototype.abort=function(){if(u("abort"),o[r.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},c.timeout=35e3,c.scriptErrorTimeout=1e3,c.prototype._callback=function(e){if(u("_callback",e),this._cleanup(),this.aborting)return;if(e)u("message",e),this.emit("message",e);this.emit("close",null,"network"),this.removeAllListeners()},c.prototype._abort=function(e){u("_abort",e),this._cleanup(),this.aborting=true,this.emit("close",e.code,e.message),this.removeAllListeners()},c.prototype._cleanup=function(){if(u("_cleanup"),clearTimeout(this.timeoutId),this.script2)this.script2.parentNode.removeChild(this.script2),this.script2=null;if(this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete o[r.WPrefix][this.id]},c.prototype._scriptError=function(){u("_scriptError");var e=this;if(this.errorTimer)return;this.errorTimer=setTimeout(function(){if(!e.loadedOkay)e._abort(new Error("JSONP script loaded abnormally (onerror)"))},c.scriptErrorTimeout)},c.prototype._createScript=function(e){u("_createScript",e);var t=this,n=this.script=o.document.createElement("script"),r;if(n.id="a"+s.string(8),n.src=e,n.type="text/javascript",n.charset="UTF-8",n.onerror=this._scriptError.bind(this),n.onload=function(){u("onload"),t._abort(new Error("JSONP script loaded abnormally (onload)"))},n.onreadystatechange=function(){if(u("onreadystatechange",n.readyState),/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=true;try{n.onclick()}catch(e){}}if(n)t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"===typeof n.async&&o.document.attachEvent)if(!a.isOpera()){try{n.htmlFor=n.id,n.event="onclick"}catch(e){}n.async=true}else(r=this.script2=o.document.createElement("script")).text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};",n.async=r.async=false;if("undefined"!==typeof n.async)n.async=true;var i=o.document.getElementsByTagName("head")[0];if(i.insertBefore(n,i.firstChild),r)i.insertBefore(r,i.firstChild)},f.exports=c}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":48,"../../utils/random":51,"../../utils/url":54,debug:45,events:3,inherits:56}],32:[function(i,s,e){(function(e){"use strict";var t=i("inherits"),n=i("events").EventEmitter,o=function(){};if("production"!==e.env.NODE_ENV)o=i("debug")("sockjs-client:receiver:xhr");function r(e,t){o(e),n.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){var n;if(o("finish",e,t),r._chunkHandler(e,t),r.xo=null,200===e)n="network";else n="permanent",o("@info","close","http-status was: "+e);o("close",n),r.emit("close",null,n),r._cleanup()})}t(r,n),r.prototype._chunkHandler=function(e,t){if(o("_chunkHandler",e),200!==e||!t)return;for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);if(-1===(n=r.indexOf("\n")))break;var i=r.slice(0,n);if(i)o("message",i),this.emit("message",i)}},r.prototype._cleanup=function(){o("_cleanup"),this.removeAllListeners()},r.prototype.abort=function(){if(o("abort"),this.xo)this.xo.close(),o("close"),this.emit("close",null,"user"),this.xo=null;this._cleanup()},s.exports=r}).call(this,{env:{}})},{debug:45,events:3,inherits:56}],33:[function(t,n,e){(function(e,r){"use strict";var s=t("../../utils/random"),a=t("../../utils/url"),l=function(){},u,c;if("production"!==e.env.NODE_ENV)l=t("debug")("sockjs-client:sender:jsonp");function f(t){l("createIframe",t);try{return r.document.createElement('<iframe name="'+t+'">')}catch(e){var n=r.document.createElement("iframe");return n.name=t,n}}function d(){l("createForm"),(u=r.document.createElement("form")).style.display="none",u.style.position="absolute",u.method="POST",u.enctype="application/x-www-form-urlencoded",u.acceptCharset="UTF-8",(c=r.document.createElement("textarea")).name="d",u.appendChild(c),r.document.body.appendChild(u)}n.exports=function(e,t,n){if(l(e,t),!u)d();var r="a"+s.string(8);u.target=r,u.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+r);var i=f(r);i.id=r,i.style.display="none",u.appendChild(i);try{c.value=t}catch(e){}u.submit();var o=function(e){if(l("completed",r,e),!i.onerror)return;i.onreadystatechange=i.onerror=i.onload=null,setTimeout(function(){l("cleaning up",r),i.parentNode.removeChild(i),i=null},500),c.value="",n(e)};return i.onerror=function(){l("onerror",r),o()},i.onload=function(){l("onload",r),o()},i.onreadystatechange=function(e){if(l("onreadystatechange",r,i.readyState,e),"complete"===i.readyState)o()},function(){l("aborted",r),o(new Error("Aborted"))}}}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/random":51,"../../utils/url":54,debug:45}],34:[function(u,c,e){(function(e,o){"use strict";var i=u("events").EventEmitter,t=u("inherits"),s=u("../../utils/event"),n=u("../../utils/browser"),a=u("../../utils/url"),l=function(){};if("production"!==e.env.NODE_ENV)l=u("debug")("sockjs-client:sender:xdr");function r(e,t,n){l(e,t);var r=this;i.call(this),setTimeout(function(){r._start(e,t,n)},0)}t(r,i),r.prototype._start=function(e,t,n){l("_start");var r=this,i=new o.XDomainRequest;t=a.addQuery(t,"t="+ +new Date),i.onerror=function(){l("onerror"),r._error()},i.ontimeout=function(){l("ontimeout"),r._error()},i.onprogress=function(){l("progress",i.responseText),r.emit("chunk",200,i.responseText)},i.onload=function(){l("load"),r.emit("finish",200,i.responseText),r._cleanup(false)},this.xdr=i,this.unloadRef=s.unloadAdd(function(){r._cleanup(true)});try{if(this.xdr.open(e,t),this.timeout)this.xdr.timeout=this.timeout;this.xdr.send(n)}catch(e){this._error()}},r.prototype._error=function(){this.emit("finish",0,""),this._cleanup(false)},r.prototype._cleanup=function(e){if(l("cleanup",e),!this.xdr)return;if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null},r.prototype.close=function(){l("close"),this._cleanup(true)},r.enabled=!!(o.XDomainRequest&&n.hasDomain()),c.exports=r}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":47,"../../utils/url":54,debug:45,events:3,inherits:56}],35:[function(e,t,n){"use strict";var r=e("inherits"),i=e("../driver/xhr");function o(e,t,n,r){i.call(this,e,t,n,r)}r(o,i),o.enabled=i.enabled&&i.supportsCORS,t.exports=o},{"../driver/xhr":17,inherits:56}],36:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i;function o(){var e=this;r.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},o.timeout)}e("inherits")(o,r),o.prototype.close=function(){clearTimeout(this.to)},o.timeout=2e3,t.exports=o},{events:3,inherits:56}],37:[function(e,t,n){"use strict";var r=e("inherits"),i=e("../driver/xhr");function o(e,t,n){i.call(this,e,t,n,{noCredentials:true})}r(o,i),o.enabled=i.enabled,t.exports=o},{"../driver/xhr":17,inherits:56}],38:[function(n,u,e){(function(e){"use strict";var r=n("../utils/event"),i=n("../utils/url"),t=n("inherits"),o=n("events").EventEmitter,s=n("./driver/websocket"),a=function(){};if("production"!==e.env.NODE_ENV)a=n("debug")("sockjs-client:websocket");function l(e){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this),a("constructor",e);var t=this,n=i.addPath(e,"/websocket");if("https"===n.slice(0,5))n="wss"+n.slice(5);else n="ws"+n.slice(4);this.url=n,this.ws=new s(this.url),this.ws.onmessage=function(e){a("message event",e.data),t.emit("message",e.data)},this.unloadRef=r.unloadAdd(function(){a("unload"),t.ws.close()}),this.ws.onclose=function(e){a("close event",e.code,e.reason),t.emit("close",e.code,e.reason),t._cleanup()},this.ws.onerror=function(e){a("error event",e),t.emit("close",1006,"WebSocket connection broken"),t._cleanup()}}t(l,o),l.prototype.send=function(e){var t="["+e+"]";a("send",t),this.ws.send(t)},l.prototype.close=function(){if(a("close"),this.ws)this.ws.close();this._cleanup()},l.prototype._cleanup=function(){a("_cleanup");var e=this.ws;if(e)e.onmessage=e.onclose=e.onerror=null;r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return a("enabled"),!!s},l.transportName="websocket",l.roundTrips=2,u.exports=l}).call(this,{env:{}})},{"../utils/event":47,"../utils/url":54,"./driver/websocket":19,debug:45,events:3,inherits:56}],39:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./xdr-streaming"),s=e("./receiver/xhr"),a=e("./sender/xdr");function l(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",s,a)}r(l,i),l.enabled=o.enabled,l.transportName="xdr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:56}],40:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/xhr"),s=e("./sender/xdr");function a(e){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,s)}r(a,i),a.enabled=function(e){if(e.cookie_needed||e.nullOrigin)return false;return s.enabled&&e.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:56}],41:[function(e,t,n){"use strict";var r=e("inherits"),i=e("./lib/ajax-based"),o=e("./receiver/xhr"),s=e("./sender/xhr-cors"),a=e("./sender/xhr-local");function l(e){if(!a.enabled&&!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",o,s)}r(l,i),l.enabled=function(e){if(e.nullOrigin)return false;if(a.enabled&&e.sameOrigin)return true;return s.enabled},l.transportName="xhr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:56}],42:[function(l,u,e){(function(e){"use strict";var t=l("inherits"),n=l("./lib/ajax-based"),r=l("./receiver/xhr"),i=l("./sender/xhr-cors"),o=l("./sender/xhr-local"),s=l("../utils/browser");function a(e){if(!o.enabled&&!i.enabled)throw new Error("Transport created when disabled");n.call(this,e,"/xhr_streaming",r,i)}t(a,n),a.enabled=function(e){if(e.nullOrigin)return false;if(s.isOpera())return false;return i.enabled},a.transportName="xhr-streaming",a.roundTrips=2,a.needBody=!!e.document,u.exports=a}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:56}],43:[function(e,t,n){(function(n){"use strict";if(n.crypto&&n.crypto.getRandomValues)t.exports.randomBytes=function(e){var t=new Uint8Array(e);return n.crypto.getRandomValues(t),t};else t.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],44:[function(e,t,n){(function(e){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return true;try{return!!e.document.domain}catch(e){return false}}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],45:[function(e,t,n){n=t.exports=i;var r={"sockjs-client:entry":true};function i(e){function i(){var e="@info"==arguments[0],t=[],n=i.moduleName;if(e)t.push("@info");if(n)n="["+n+"]",t.push(n);for(var r=e?1:0;r<arguments.length;r++)t.push(arguments[r]);o.apply(this,t)}if(i.set=function(e){o=e},i.enable=function(e){r[e]=true},r[e])return i.moduleName=e,i;else return function(){}}function o(){}},{}],46:[function(e,t,n){"use strict";var r=e("json3"),i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,o,s=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};t.exports={quote:function(e){var t=r.stringify(e);if(i.lastIndex=0,!i.test(t))return t;if(!o)o=s(i);return t.replace(i,function(e){return o[e]})}}},{json3:57}],47:[function(t,a,e){(function(n){"use strict";var r=t("./random"),i={},o=false,s=n.chrome&&n.chrome.app&&n.chrome.app.runtime;a.exports={attachEvent:function(e,t){if("undefined"!==typeof n.addEventListener)n.addEventListener(e,t,false);else if(n.document&&n.attachEvent)n.document.attachEvent("on"+e,t),n.attachEvent("on"+e,t)},detachEvent:function(e,t){if("undefined"!==typeof n.addEventListener)n.removeEventListener(e,t,false);else if(n.document&&n.detachEvent)n.document.detachEvent("on"+e,t),n.detachEvent("on"+e,t)},unloadAdd:function(e){if(s)return null;var t=r.string(8);if(i[t]=e,o)setTimeout(this.triggerUnloadCallbacks,0);return t},unloadDel:function(e){if(e in i)delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}};var e=function(){if(o)return;o=true,a.exports.triggerUnloadCallbacks()};if(!s)a.exports.attachEvent("unload",e)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./random":51}],48:[function(r,v,e){(function(e,d){"use strict";var h=r("./event"),n=r("json3"),t=r("./browser"),p=function(){};if("production"!==e.env.NODE_ENV)p=r("debug")("sockjs-client:utils:iframe");if(v.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){if(!(v.exports.WPrefix in d))d[v.exports.WPrefix]={}},postMessage:function(e,t){if(d.parent!==d)d.parent.postMessage(n.stringify({windowId:v.exports.currentWindowId,type:e,data:t||""}),"*");else p("Cannot postMessage, no parent window.",e,t)},createIframe:function(e,t){var n=d.document.createElement("iframe"),r,i,o=function(){p("unattach"),clearTimeout(r);try{n.onload=null}catch(e){}n.onerror=null},s=function(){if(p("cleanup"),n)o(),setTimeout(function(){if(n)n.parentNode.removeChild(n);n=null},0),h.unloadDel(i)},a=function(e){if(p("onerror",e),n)s(),t(e)},l=function(e,t){p("post",e,t);try{setTimeout(function(){if(n&&n.contentWindow)n.contentWindow.postMessage(e,t)},0)}catch(e){}};return n.src=e,n.style.display="none",n.style.position="absolute",n.onerror=function(){a("onerror")},n.onload=function(){p("onload"),clearTimeout(r),r=setTimeout(function(){a("onload timeout")},2e3)},d.document.body.appendChild(n),r=setTimeout(function(){a("timeout")},15e3),i=h.unloadAdd(s),{post:l,cleanup:s,loaded:o}},createHtmlfile:function(e,t){var n=["Active"].concat("Object").join("X"),r=new d[n]("htmlfile"),i,o,s,a=function(){clearTimeout(i),s.onerror=null},l=function(){if(r)a(),h.unloadDel(o),s.parentNode.removeChild(s),s=r=null,CollectGarbage()},u=function(e){if(p("onerror",e),r)l(),t(e)},c=function(e,t){try{setTimeout(function(){if(s&&s.contentWindow)s.contentWindow.postMessage(e,t)},0)}catch(e){}};r.open(),r.write("<html><s"+"cript>"+'document.domain="'+d.document.domain+'";'+"</s"+"cript></html>"),r.close(),r.parentWindow[v.exports.WPrefix]=d[v.exports.WPrefix];var f=r.createElement("div");return r.body.appendChild(f),s=r.createElement("iframe"),f.appendChild(s),s.src=e,s.onerror=function(){u("onerror")},i=setTimeout(function(){u("timeout")},15e3),o=h.unloadAdd(l),{post:c,cleanup:l,loaded:a}}},v.exports.iframeEnabled=false,d.document)v.exports.iframeEnabled=("function"===typeof d.postMessage||"object"===typeof d.postMessage)&&!t.isKonqueror()}).call(this,{env:{}},"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./browser":44,"./event":47,debug:45,json3:57}],49:[function(e,t,n){(function(n){"use strict";var r={};["log","debug","warn"].forEach(function(e){var t=false;try{t=n.console&&n.console[e]&&n.console[e].apply}catch(e){}r[e]=t?function(){return n.console[e].apply(n.console,arguments)}:"log"===e?function(){}:r.log}),t.exports=r}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],50:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++)for(n in t=arguments[r])if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n];return e}}},{}],51:[function(e,t,n){"use strict";var o=e("crypto"),s="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=s.length,n=o.randomBytes(e),r=[],i=0;i<e;i++)r.push(s.substr(n[i]%t,1));return r.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length,n;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},{crypto:43}],52:[function(e,t,n){function r(){i.apply(null,arguments)}function i(){}(t.exports=r).set=function(e){i=e}},{}],53:[function(t,n,e){(function(e){"use strict";var i=function(){};if("production"!==e.env.NODE_ENV)i=t("debug")("sockjs-client:utils:transport");n.exports=function(e){return{filterToEnabled:function(t,n){var r={main:[],facade:[]};if(!t)t=[];else if("string"===typeof t)t=[t];return e.forEach(function(e){if(!e)return;if("websocket"===e.transportName&&false===n.websocket)return void i("disabled from server","websocket");if(t.length&&-1===t.indexOf(e.transportName))return void i("not in whitelist",e.transportName);if(e.enabled(n)){if(i("enabled",e.transportName),r.main.push(e),e.facadeTransport)r.facade.push(e.facadeTransport)}else i("disabled",e.transportName)}),r}}}}).call(this,{env:{}})},{debug:45}],54:[function(t,n,e){(function(e){"use strict";var r=t("url-parse"),i=function(){};if("production"!==e.env.NODE_ENV)i=t("debug")("sockjs-client:utils:url");n.exports={getOrigin:function(e){if(!e)return null;var t=new r(e);if("file:"===t.protocol)return null;var n=t.port;if(!n)n="https:"===t.protocol?"443":"80";return t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return i("same",e,t,n),n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:45,"url-parse":60}],55:[function(e,t,n){t.exports="1.0.3"},{}],56:[function(e,t,n){if("function"===typeof Object.create)t.exports=function e(t,n){t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})};else t.exports=function e(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],57:[function(e,l,u){(function(a){(function(){var e="function"===typeof c&&c.amd,V={function:true,object:true},t=V[typeof u]&&u&&!u.nodeType&&u,B=V[typeof window]&&window||this,n=t&&V[typeof l]&&l&&!l.nodeType&&"object"==typeof a&&a;if(n&&(n["global"]===n||n["window"]===n||n["self"]===n))B=n;function G(e,l){e||(e=B["Object"]()),l||(l=B["Object"]());var u=e["Number"]||B["Number"],c=e["String"]||B["String"],t=e["Object"]||B["Object"],f=e["Date"]||B["Date"],n=e["SyntaxError"]||B["SyntaxError"],E=e["TypeError"]||B["TypeError"],r=e["Math"]||B["Math"],i=e["JSON"]||B["JSON"];if("object"==typeof i&&i)l.stringify=i.stringify,l.parse=i.parse;var o=t.prototype,j=o.toString,O,S,T,d=new f(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(e){}function h(e){if(h[e]!==T)return h[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=h("json-stringify")&&h("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var i=l.stringify,o="function"==typeof i&&d;if(o){(n=function(){return 1}).toJSON=n;try{o="0"===i(0)&&"0"===i(new u)&&'""'==i(new c)&&i(j)===T&&i(T)===T&&i()===T&&"1"===i(n)&&"[1]"==i([n])&&"[null]"==i([T])&&"null"==i(null)&&"[null,null,null]"==i([T,j,null])&&i({a:[n,true,false,null,"\0\b\n\f\r\t"]})==r&&"1"===i(null,n)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new f(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new f(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new f(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new f(-1))}catch(e){o=false}}t=o}if("json-parse"==e){var s=l.parse;if("function"==typeof s)try{if(0===s("0")&&!s(false)){var a=5==(n=s(r))["a"].length&&1===n["a"][0];if(a){try{a=!s('"\t"')}catch(e){}if(a)try{a=1!==s("01")}catch(e){}if(a)try{a=1!==s("1.")}catch(e){}}}}catch(e){a=false}t=a}}return h[e]=!!t}if(!h("json")){var p="[object Function]",N="[object Date]",C="[object Number]",k="[object String]",A="[object Array]",I="[object Boolean]",a=h("bug-string-char-index");if(!d)var L=r.floor,s=[0,31,59,90,120,151,181,212,243,273,304,334],P=function(e,t){return s[t]+365*(e-1970)+L((e-1969+(t=+(t>1)))/4)-L((e-1901+t)/100)+L((e-1601+t)/400)};if(!(O=o.hasOwnProperty))O=function(e){var t={},n;if((t.__proto__=null,t.__proto__={toString:1},t).toString!=j)O=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n};else n=t.constructor,O=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])};return t=null,O.call(this,e)};if(S=function(e,t){var n=0,r,s,i;for(i in(r=function(){this.valueOf=0}).prototype.valueOf=0,s=new r)if(O.call(s,i))n++;if(r=s=null,!n)s=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],S=function(e,t){var n=j.call(e)==p,r,i,o=!n&&"function"!=typeof e.constructor&&V[typeof e.hasOwnProperty]&&e.hasOwnProperty||O;for(r in e)if(!(n&&"prototype"==r)&&o.call(e,r))t(r);for(i=s.length;r=s[--i];o.call(e,r)&&t(r));};else if(2==n)S=function(e,t){var n={},r=j.call(e)==p,i;for(i in e)if(!(r&&"prototype"==i)&&!O.call(n,i)&&(n[i]=1)&&O.call(e,i))t(i)};else S=function(e,t){var n=j.call(e)==p,r,i;for(r in e)if(!(n&&"prototype"==r)&&O.call(e,r)&&!(i="constructor"===r))t(r);if(i||O.call(e,r="constructor"))t(r)};return S(e,t)},!h("json-stringify")){var v={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},m="000000",D=function(e,t){return(m+(t||0)).slice(-e)},b="\\u00",R=function(e){for(var t='"',n=0,r=e.length,i=!a||r>10,o=i&&(a?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=v[s];break;default:if(s<32){t+=b+D(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},U=function(e,t,n,r,i,o,s){var a,l,u,c,f,d,h,p,v,m,b,y,g,w,x,_;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if((l=j.call(a))==N&&!O.call(a,"toJSON"))if(a>-1/0&&a<1/0){if(P){for(f=L(a/864e5),u=L(f/365.2425)+1970-1;P(u+1,0)<=f;u++);for(c=L((f-P(u,0))/30.42);P(u,c+1)<=f;c++);f=1+f-P(u,c),h=L((d=(a%864e5+864e5)%864e5)/36e5)%24,p=L(d/6e4)%60,v=L(d/1e3)%60,m=d%1e3}else u=a.getUTCFullYear(),c=a.getUTCMonth(),f=a.getUTCDate(),h=a.getUTCHours(),p=a.getUTCMinutes(),v=a.getUTCSeconds(),m=a.getUTCMilliseconds();a=(u<=0||u>=1e4?(u<0?"-":"+")+D(6,u<0?-u:u):D(4,u))+"-"+D(2,c+1)+"-"+D(2,f)+"T"+D(2,h)+":"+D(2,p)+":"+D(2,v)+"."+D(3,m)+"Z"}else a=null;else if("function"==typeof a.toJSON&&(l!=C&&l!=k&&l!=A||O.call(a,"toJSON")))a=a.toJSON(e);if(n)a=n.call(t,e,a);if(null===a)return"null";if((l=j.call(a))==I)return""+a;else if(l==C)return a>-1/0&&a<1/0?""+a:"null";else if(l==k)return R(""+a);if("object"==typeof a){for(w=s.length;w--;)if(s[w]===a)throw E();if(s.push(a),b=[],x=o,o+=i,l==A){for(g=0,w=a.length;g<w;g++)y=U(g,a,n,r,i,o,s),b.push(y===T?"null":y);_=b.length?i?"[\n"+o+b.join(",\n"+o)+"\n"+x+"]":"["+b.join(",")+"]":"[]"}else S(r||a,function(e){var t=U(e,a,n,r,i,o,s);if(t!==T)b.push(R(e)+":"+(i?" ":"")+t)}),_=b.length?i?"{\n"+o+b.join(",\n"+o)+"\n"+x+"}":"{"+b.join(",")+"}":"{}";return s.pop(),_}};l.stringify=function(e,t,n){var r,i,o,s;if(V[typeof t]&&t)if((s=j.call(t))==p)i=t;else if(s==A){o={};for(var a=0,l=t.length,u;a<l;u=t[a++],((s=j.call(u))==k||s==C)&&(o[u]=1));}if(n)if((s=j.call(n))==C){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else if(s==k)r=n.length<=10?n:n.slice(0,10);return U("",((u={})[""]=e,u),i,o,r,"",[])}}if(!h("json-parse")){var y=c.fromCharCode,g={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},w,x,_=function(){throw w=x=null,n()},M=function(){var e=x,t=e.length,n,r,i,o,s;while(w<t)switch(s=e.charCodeAt(w)){case 9:case 10:case 13:case 32:w++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=a?e.charAt(w):e[w],w++,n;case 34:for(n="@",w++;w<t;)if((s=e.charCodeAt(w))<32)_();else if(92==s)switch(s=e.charCodeAt(++w)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=g[s],w++;break;case 117:for(r=++w,i=w+4;w<i;w++)if(!((s=e.charCodeAt(w))>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70))_();n+=y("0x"+e.slice(r,w));break;default:_()}else{if(34==s)break;s=e.charCodeAt(w),r=w;while(s>=32&&92!=s&&34!=s)s=e.charCodeAt(++w);n+=e.slice(r,w)}if(34==e.charCodeAt(w))return w++,n;_();default:if(r=w,45==s)o=true,s=e.charCodeAt(++w);if(s>=48&&s<=57){if(48==s&&((s=e.charCodeAt(w+1))>=48&&s<=57))_();for(o=false;w<t&&((s=e.charCodeAt(w))>=48&&s<=57);w++);if(46==e.charCodeAt(w)){for(i=++w;i<t&&((s=e.charCodeAt(i))>=48&&s<=57);i++);if(i==w)_();w=i}if(101==(s=e.charCodeAt(w))||69==s){if(43==(s=e.charCodeAt(++w))||45==s)w++;for(i=w;i<t&&((s=e.charCodeAt(i))>=48&&s<=57);i++);if(i==w)_();w=i}return+e.slice(r,w)}if(o)_();if("true"==e.slice(w,w+4))return w+=4,true;else if("false"==e.slice(w,w+5))return w+=5,false;else if("null"==e.slice(w,w+4))return w+=4,null;_()}return"$"},q=function(e){var t,n;if("$"==e)_();if("string"==typeof e){if("@"==(a?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];;n||(n=true)){if("]"==(e=M()))break;if(n)if(","==e){if("]"==(e=M()))_()}else _();if(","==e)_();t.push(q(e))}return t}else if("{"==e){for(t={};;n||(n=true)){if("}"==(e=M()))break;if(n)if(","==e){if("}"==(e=M()))_()}else _();if(","==e||"string"!=typeof e||"@"!=(a?e.charAt(0):e[0])||":"!=M())_();t[e.slice(1)]=q(M())}return t}_()}return e},W=function(e,t,n){var r=J(e,t,n);if(r===T)delete e[t];else e[t]=r},J=function(e,t,n){var r=e[t],i;if("object"==typeof r&&r)if(j.call(r)==A)for(i=r.length;i--;)W(r,i,n);else S(r,function(e){W(r,e,n)});return n.call(e,t,r)};l.parse=function(e,t){var n,r;if(w=0,x=""+e,n=q(M()),"$"!=M())_();return w=x=null,t&&j.call(t)==p?J(((r={})[""]=n,r),"",t):n}}}return l["runInContext"]=G,l}if(t&&!e)G(B,t);else{var r=B.JSON,i=B["JSON3"],o=false,s=G(B,B["JSON3"]={noConflict:function(){if(!o)o=true,B.JSON=r,B["JSON3"]=i,r=i=null;return s}});B.JSON={parse:s.parse,stringify:s.stringify}}if(e)c(function(){return s})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],58:[function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e){for(var t=/([^=?&]+)=([^&]*)/g,n={},r;r=t.exec(e);n[decodeURIComponent(r[1])]=decodeURIComponent(r[2]));return n}function o(e,t){var n=[];if("string"!==typeof(t=t||""))t="?";for(var r in e)if(i.call(e,r))n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}n.stringify=o,n.parse=r},{}],59:[function(e,t,n){"use strict";t.exports=function e(t,n){if(n=n.split(":")[0],!(t=+t))return false;switch(n){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return false}return 0!==t}},{}],60:[function(e,t,n){"use strict";var d=e("requires-port"),h=e("./lolcation"),p=e("querystringify"),v=/^\/(?!\/)/,r=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,m=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];function b(e){var t=r.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]?t[3]:""}}function y(e,t,n){if(!(this instanceof y))return new y(e,t,n);var r=v.test(e),i,o,s,a,l=typeof t,u=this,c=0;if("object"!==l&&"string"!==l)n=t,t=null;if(n&&"function"!==typeof n)n=p.parse;t=h(t);var f=b(e);for(u.protocol=f.protocol||t.protocol||"",u.slashes=f.slashes||t.slashes,e=f.rest;c<m.length;c++){if(i=(o=m[c])[0],a=o[1],i!==i)u[a]=e;else if("string"===typeof i){if(~(s=e.indexOf(i)))if("number"===typeof o[2])u[a]=e.slice(0,s),e=e.slice(s+o[2]);else u[a]=e.slice(s),e=e.slice(0,s)}else if(s=i.exec(e))u[a]=s[1],e=e.slice(0,e.length-s[0].length);if(u[a]=u[a]||(o[3]||"port"===a&&r?t[a]||"":""),o[4])u[a]=u[a].toLowerCase()}if(n)u.query=n(u.query);if(!d(u.port,u.protocol))u.host=u.hostname,u.port="";if(u.username=u.password="",u.auth)o=u.auth.split(":"),u.username=o[0]||"",u.password=o[1]||"";u.href=u.toString()}y.prototype.set=function e(t,n,r){var i=this;if("query"===t){if("string"===typeof n&&n.length)n=(r||p.parse)(n);i[t]=n}else if("port"===t){if(i[t]=n,!d(n,i.protocol))i.host=i.hostname,i[t]="";else if(n)i.host=i.hostname+":"+n}else if("hostname"===t){if(i[t]=n,i.port)n+=":"+i.port;i.host=n}else if("host"===t){if(i[t]=n,/\:\d+/.test(n))n=n.split(":"),i.hostname=n[0],i.port=n[1]}else if("protocol"===t)i.protocol=n,i.slashes=!r;else i[t]=n;return i.href=i.toString(),i},y.prototype.toString=function e(t){if(!t||"function"!==typeof t)t=p.stringify;var n,r=this,i=r.protocol;if(i&&":"!==i.charAt(i.length-1))i+=":";var o=i+(r.slashes?"//":"");if(r.username){if(o+=r.username,r.password)o+=":"+r.password;o+="@"}if(o+=r.hostname,r.port)o+=":"+r.port;if(o+=r.pathname,n="object"===typeof r.query?t(r.query):r.query)o+="?"!==n.charAt(0)?"?"+n:n;if(r.hash)o+=r.hash;return o},y.qs=p,y.location=h,t.exports=y},{"./lolcation":61,querystringify:58,"requires-port":59}],61:[function(u,e,t){(function(o){"use strict";var s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a={hash:1,query:1},l;e.exports=function e(t){t=t||o.location||{},l=l||u("./");var n={},r=typeof t,i;if("blob:"===t.protocol)n=new l(unescape(t.pathname),{});else if("string"===r)for(i in n=new l(t,{}),a)delete n[i];else if("object"===r){for(i in t){if(i in a)continue;n[i]=t[i]}if(void 0===n.slashes)n.slashes=s.test(t.href)}return n}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./":60}]},{},[1])(1)});