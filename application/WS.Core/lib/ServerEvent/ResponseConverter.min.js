define("Lib/ServerEvent/ResponseConverter",["require","exports","optional!Types/entity","optional!Types/collection"],function(r,e,t,n){"use strict";var o=a,i=a;if(!!t)o=function(r){if("record"!=r._type)throw new TypeError("Raw data is not Record");return new t.Record({rawData:r,adapter:"adapter.sbis"})};if(!!n)i=function(r){if("recordset"!=r._type)throw new TypeError("Raw data is not RecordSet");return new n.RecordSet({rawData:r,adapter:"adapter.sbis"})};function a(r){return r}function u(r){return r&&r.s&&r.d&&"record"==r._type}function c(r){return r&&r.s&&r.d&&"recordset"==r._type}function f(r){for(var e in r){if(!r.hasOwnProperty(e))continue;r[e]=p(r[e])}return r}function s(r){for(var e=[],t=0,n=r;t<n.length;t++){var o=n[t];e.push(p(o))}return e}function p(r){if(u(r))return o(r);if(c(r))return i(r);if(r instanceof Array)return s(r);return r}function d(r){return p(JSON.parse(r))}return d});