define("Lib/Control/Control",["Core/core-extend","Lib/Control/Control.compatible","Core/helpers/Function/shallowClone","Core/core-hash","Core/core-instance","Core/helpers/String/unEscapeHtml","Core/helpers/Function/memoize","Core/IoC","Core/EventBus","Core/Deferred","Core/CommandDispatcher","Core/detection","Core/Abstract","Lib/Mixins/DataBoundMixin","Core/markup/ParserUtilities","Lib/NavigationController/NavigationController","Core/ControlBatchUpdater","Core/helpers/Hcontrol/configStorage","Core/Context","Core/constants","Core/helpers/Hcontrol/replaceContainer","Core/helpers/Hcontrol/focusControl","Lib/Control/ControlGoodCode","Vdom/Vdom","Core/ContextBinder","Lib/Control/AttributeCfgParser/AttributeCfgParser"],function(t,i,r,p,C,e,n,s,o,h,a,l,_,c,d,f,g,m,u,v,b,O,y,w){"use strict";function A(t){return t.substr(0,1).toUpperCase()+t.substr(1)}var x=n(function t(){var i=document.getElementsByTagName("html")[0].controlNodes,e=i&&i[0]&&i[0].options&&i[0].options.compat||false;return!!i&&!e},"isNewEnvironment").bind({}),N,k,S=/"/gi,W=/\\/gi,P=function(t,i,e){N.prototype._setCompatibleOptions(t,i,e)};if((N=_.extend([i,y],{_$element:null,_$horizontalAlignment:void 0,_$verticalAlignment:void 0,_$name:"",_$enabled:true,_$allowChangeEnable:true,_$width:"",_$height:"",_$minWidth:0,_$minHeight:0,_$maxWidth:1/0,_$maxHeight:1/0,_$owner:null,_$tooltip:"",_$extendedTooltip:false,_$extendedTooltipConfig:{},_$alwaysShowExtendedTooltip:true,_$visible:true,_$tabindex:-1,_$className:"",_$zIndex:void 0,_$autoHeight:true,_$autoWidth:false,_$saveState:false,_$stateKey:"",_$subcontrol:false,_$cssClassName:"",_$content:"",_$isContainerInsideParent:true,_$activableByClick:true,_$buildMarkupWithContext:true,_$linkedContext:null,_$focusOnActivatedOnMobiles:void 0,_$fix165c4103:false,_$emulateClickByTap:false,_$clickThrottleAsynch:false,_parent:null,_container:void 0,_prevEnabled:void 0,_isControlActive:false,_id:"",_context:null,_craftedContext:false,_keysWeHandle:null,_isVisible:true,_minHeight:null,_margins:null,_horizontalAlignment:"Stretch",_verticalAlignment:"Top",_batchUpdateData:void 0,_aliasForContent:"",_checkClickByTap:false,_maxTouchCount:1,_maxTouchTime:300,_clickState:null,_ignoreNativeFocusIn:false,_underCursor:false,_initiatedByCursor:false,_owner:null,_userData:void 0,_tooltipSettings:null,_propertiesChangedLock:0,_propertiesChangedCnt:0,_supportOldJinneeMarkup:false,_rootMarkupByTemplate:false,_enabledOptApplied:void 0,_savedConfigs:null,_savedConfigsMaps:null,_saveConfigFromOption:function(t){if("[object String]"===Object.prototype.toString.call(t)){var i=/config=/gi,e;while(e=i.exec(t)){var n=t.indexOf('"',e.index)+1,s=t.indexOf('"',n),o=t.substring(n,s),a={};if(a[o]=r(m.getData()[o]),!this.isDestroyed())this._savedConfigs=this._savedConfigs||[],this._savedConfigsMaps=this._savedConfigsMaps||[];this._savedConfigs.push(a),this._savedConfigsMaps.push(o)}}},constructor:function t(i,e){for(var n in i)if(i.hasOwnProperty(n))this._saveConfigFromOption(i[n]);this._tooltipSettings=this._tooltipSettings||{},this._keysWeHandle=this._keysWeHandle||[],this._margins=this._margins||{},this._clickState={detected:false,stage:"",timer:void 0,timeout:500,target:null,timeStart:void 0,tapHoldTimeout:900,maxCoordDiff:10},this._tooltipSettings={handleFocus:this._tooltipSettings&&"handleFocus"in this._tooltipSettings?this._tooltipSettings.handleFocus:true,handleHover:this._tooltipSettings&&"handleHover"in this._tooltipSettings?this._tooltipSettings.handleHover:true},t.superclass.constructor.call(this,i,true);var s=this,o,a,r,h,l;if(this._publish("onChange","onKeyPressed","onClick","onFocusIn","onFocusOut","onStateChanged","onTooltipContentRequest","onPropertyChanged","onPropertiesChanged","onCommandCatch"),this._keysWeHandle=p(this._keysWeHandle),i){if("parent"in i&&(i.parent&&i.parent._template||i.parent instanceof t||C.instanceOfModule(i.parent,"Lib/Control/AreaAbstract/AreaAbstract")))this._parent=i.parent;if("id"in i)this._id=i.id;if(void 0!==i.enable)this._setOption("enabled",!!i.enable);if(void 0!==i.hidden)this._setOption("visible",!i.hidden);this._supportOldJinneeMarkup=!!i.supportOldJinneeMarkup,this._initContainer(i)}var _=this._createContext(this._getOptions(),this._parent&&this._parent.getLinkedContext&&this._parent.getLinkedContext());if(this.hasOwnProperty("_compatContext"))this._compatContext=_.context;else this._context=_.context;this._craftedContext=_.craftedContext;var c=this._getOptions();if(o={},"enabled"in c)o.enabled=c.enabled;if("visible"in c)o.visible=c.visible;if("name"in c)o.name=c.name;if("className"in c)o.className=c.className;if("cssClassName"in c)o.cssClassName=c.cssClassName;if(!c.linkedContext)if(this.hasOwnProperty("_compatContext"))c.linkedContext=this._compatContext;else c.linkedContext=this._context;if(this._options)this._options=this._modifyOptions(this._getOptions(),i);if(this._contentAliasing(this._getOptions(),i),this._parent&&!!this._parent.isEnabled&&!this._parent.isEnabled()&&this._getOption("allowChangeEnable"))if(!this._parent._template||!!this.isEnabled&&!this.isEnabled())this._prevEnabled=this._getOption("enabled"),this._setOption("enabled",false);if(s._isCorrectContainer()){if(m.deleteString(this._container.attr("config")),r=this._hasMarkup(),this._rootMarkupByTemplate=true,!r&&this._dotTplFn){h=this._getOption("buildMarkupWithContext")?this._context:null,l=this._buildMarkup(this._dotTplFn,this._getOptions(),null,null,h);var d=function(t){b(this._container,t),i.element=this._container,this._enabledApplied=this._getOption("enabled")};if(l&&l.callback)l.addCallback(function(t){d.call(this,t)}.bind(this));else d.call(this,l)}else if(this._rootMarkupByTemplate="true"===this._container.attr("wasbuildmarkup"),a=!this._rootMarkupByTemplate||Object.keys(o).reduce(function(t,i){return t||this._getOption(i)!==o[i]}.bind(this),false)){if(this._getOption("name"))this._container.attr("sbisname",this._getOption("name"));var f="ws-control-inactive ws-component "+this._getOption("className");if(!this._hasMarkup()&&this._getOption("cssClassName"))f+=" "+this._getOption("cssClassName");var g=this._container.attr("tabindex")||0;this._container.addClass(f).attr({tabindex:g,hideFocus:true})}else this._enabledApplied=this._getOption("enabled");if(!this._getOption("visible"))this.hide();else if("SBIS3.CONTROLS/OperationsPanel"!==this._moduleName&&"SBIS3.CONTROLS/OperationsPanel"!==this._moduleName&&this._container.hasClass("ws-hidden"))this._isVisible=false,this.show();if(void 0!==this._getOption("zIndex"))this._container.css("z-index",this._getOption("zIndex"));if(this._supportOldJinneeMarkup){this._horizontalAlignment=this._getOption("horizontalAlignment")||this._container.attr("HorizontalAlignment")||this._horizontalAlignment,this._verticalAlignment=this._getOption("verticalAlignment")||this._container.attr("VerticalAlignment")||this._verticalAlignment;var u=s._getLinkedLabel();if(u)u.css("z-index",s._getOption("zIndex"))}else this._horizontalAlignment=this._getOption("horizontalAlignment")||this._horizontalAlignment,this._verticalAlignment=this._getOption("verticalAlignment")||this._verticalAlignment;(this._container[0].wsControl=this)._container.bind("click touchend",this._onActionHandler.bind(this)),this._container[0].addEventListener("touchmove",this._onActionHandler.bind(this),v.compatibility.supportPassive?{passive:true}:false),this._container[0].addEventListener("touchstart",this._onActionHandler.bind(this),v.compatibility.supportPassive?{passive:true}:false),this._initKeyboardMonitor(),this._bindExtendedTooltip()}if(this._initSizeOptions(),this._getOption("autoWidth"))this._setOption("width","auto");if(this._getOption("autoHeight"))this._setOption("height","auto");if(this._parent)this._registerToParent(this._parent);if(this._getOption("saveState"))this.subscribe("onStateChanged",this._stateChangeHandler);if(this.subscribe("onPropertyChanged",function(t,i){if(this._hasOption(i))this._notify(i+"Changed",this._getOption(i)),this._notify("onChange"+i,this._getOption(i))}),!e)this._initInstance()},init:function(){this._initFocusCatch(),N.superclass.init.apply(this,arguments)},_createContext:function(t,i){var e,n,s;if((s=t.context||t.linkedContext)&&!(s instanceof u))throw new Error("Опция linkedContext (или context), если указана, и не равна null/undefined, то должна быть объектом типа Core/Context");if(n=!(e=s||i))n=false,e=u.global;return{context:e,craftedContext:n}},_isRelativePosition:n(function(){var t=this._isCorrectContainer()&&this._container.css("position");return"relative"===t||"static"===t},"_isRelativePosition"),_buildMarkup:function(t,i,e,n,s){return d.buildMarkup(t,i,void 0,n,s)},_prepareMarkup:function(t,i,e,n,s){return d.prepareMarkupForNode(t,i,e,n,s)},setTooltip:function(t){this._setOption("tooltip",""+(t?t:"")),this._container.attr("title",e(this._getOption("tooltip"))),this._notifyOnPropertyChanged("tooltip")},getClassName:function(){return this._getOption("className")},setClassName:function(t){this._container.toggleClass(this._getOption("className")),this._setOption("className",t),this._container.addClass(t)},describe:function(){return(this._isCorrectContainer()?this.getContainer().attr("type")||this.getContainer().attr("data-component"):"?Control")+"#"+this.getId()},_contentAliasing:function(t,i){var e;if(this._aliasForContent&&t.content){if(i&&this._aliasForContent in i)e=i[this._aliasForContent];else e=void 0;if(""===e||void 0===e||null===e)t[this._aliasForContent]=t.content}return t},_bindInternals:function(){},onAfterVisibilityChange:function(t,i){this._notify("onAfterVisibilityChange",i)},_registerToParent:function(t){if(t._template){if(this.once("onInit",function(){t._notifyToParentAboutChild(this)}),!t._children)t._children={};(t._children[this.getName()]=this).once("onDestroy",function(){delete t._children[this.getName()]})}if(C.instanceOfModule(t,"Lib/Control/AreaAbstract/AreaAbstract")||t._template){if(t.hasEvent("onResize")||t._template)t.registerChildControl(this)}else if(t)s.resolve("ILogger").error("Control","Incorrect parent ("+(t instanceof Object&&t.getId?t.getId():"not object")+") for control ("+this.getId()+"), parent must be instanceof $ws.proto.AreaAbstract");this.onAfterVisibilityChange=this.onAfterVisibilityChange.bind(this),t.subscribe("onAfterVisibilityChange",this.onAfterVisibilityChange),this.subscribe("onDestroy",function(){t.unsubscribe("onAfterVisibilityChange",this.onAfterVisibilityChange)})},_delayToConstructionFinished:function(t,i,e){var n=Array.prototype.slice.call(arguments,3),s=this;if(this._isInitialized)if(i)this._runInBatchUpdate(t,e,n);else e.apply(s,n);else if(i)g.beginBatchUpdate(t),this.once("onInit",function(){try{e.apply(s,n)}finally{g.endBatchUpdate(t)}});else this.once("onInit",function(){e.apply(s,n)})},_initComplete:function(){if(this._isCorrectContainer())this._setEnabled(this._getOption("enabled"));k.store(this),o.channel("luntik").notify("onInit",this),N.superclass._initComplete.apply(this,arguments)},_notifyBatchDelayedEventLow:function(t,i,e){var n;if(this._haveBatchUpdate())g.addDelayedEvent(t,i,this,e);else n=this._notify.apply(this,e);return n},_notifyBatchDelayedNoMerge:function(t){return this._notifyBatchDelayedEventLow(t,false,arguments)},_notifyBatchDelayed:function(t){return this._notifyBatchDelayedEventLow(t,true,arguments)},_notifyOnSizeChanged:function(t,i,e){var n=g;if(n.ensureBatchUpdate("Control._notifyOnSizeChanged"),1===arguments.length)e=t;n.addBatchSizeChanged(this,e)},_initFocusCatch:function(){var a=this,t=[this._getElementToFocus()];if(!t[0]||t[0].get(0)!==this._container.get(0))t.push(this._container);for(var i=0;i<t.length;++i){var e=t[i];if(e)e.bind("focusin",function(t){if(a._getOption("activableByClick")){if(t.target.wsControl&&t.target.wsControl.iWantVDOM)return;if(!a._ignoreNativeFocusIn&&!a.isActive())a.setActive(true,false,true);t.stopPropagation()}}),e.bind("focusout",function(t){var i=$(t.relatedTarget),e,n,s;if(i.length>0&&0===i.closest(a.getContainer()).length){if("html"!==t.relatedTarget.nodeName.toLowerCase())if(a.isActive()){var o=w.DOMEnvironment._goUpByControlTree(i);if(e=o[0],n=!!o.find(function(t){return t===a}),s=e===a,x()&&o[0]._template)e=null;if(!n&&!s)a.setActive(false,false,true,e)}t.stopPropagation()}})}},applyState:function(t){},applyEmptyState:function(){},setStateKey:function(t){this._setOption("stateKey",t)},getStateKey:function(){return this._getOption("saveState")?this._getOption("stateKey")||this.getName():void 0},_stateChangeHandler:function(t,i,e,n){if(void 0!==i)f.updateState(this.getStateKey(),i,e,n)},_initSizeOptions:function(){this._setOption("minWidth",parseInt(this._getOption("minWidth"),10)||0),this._setOption("minHeight",parseInt(this._getOption("minHeight"),10)||0);var t=this._getOption("maxWidth"),i=this._getOption("maxHeight");this._setOption("maxWidth",void 0!==t&&t!==1/0?parseInt(t,10):1/0),this._setOption("maxHeight",void 0!==i&&i!==1/0?parseInt(i,10):1/0)},_initContainer:function(t){var i;if(t&&t.nodeType)i=$(t);else if("element"in t)if("string"==typeof t.element){var e=t.element;if(0===(i=$("#"+t.element)).length)throw new Error("Вы пытаетесь создать элемент в несуществующем контейнере! Необходимо создать контейнер с указанным id = "+e)}else if("jquery"in t.element)i=t.element;else if(t.element.nodeType)i=$(t.element);if(i){var n="jquery"in i?i[0]&&i[0].wsControl:i.wsControl;if(n&&n!==this)s.resolve("ILogger").error("Control","Вы пытаетесь привязать компоненту (id: "+this.getId()+", module: "+this._moduleName+", "+"name: "+this.getName()+") элемент, который уже привязан к другому компоненту (id: "+this.getId()+" , module: "+n._moduleName+", "+"name: "+n.getName()+")")}this._container=i},_isHeightDependentOnWidth:function(){return false},_clearContainer:function(){if(this._isCorrectContainer())this._container.find("[config]").each(function(t,i){var e,n={};n[i.getAttribute("config")]=void 0,m.merge(n)}),this._container.empty()},_removeContainer:function(){if(this._isCorrectContainer())this._clearContainer(),this._container.remove().get(0).wsControl=null},destroy:function(){if(this._container&&this._container.unbind)this._container.unbind();if(this._savedConfigsMaps)for(var t=0;t<this._savedConfigsMaps.length;t++)if(this._savedConfigsMaps[t])m.deleteString(this._savedConfigsMaps[t]);if(this._savedConfigs=null,this._savedConfigsMaps=null,this.isActive())this._isControlActive=false,this._notify("onFocusOut",true);if(this._removeContainer(),this._invalidateParentCache(),a.deleteCommandsForObject(this),k.remove(this),this._parent&&this._parent.unregisterChildControl)this._parent.unregisterChildControl(this);if(this._hasOption("element")&&this._getOption("element"))this._setOption("element",null);if(this._hasOption("opener")&&this._getOption("opener"))this._setOption("opener",null);if(this._parent=null,this._owner=null,this._userData=void 0,this._batchUpdateData={},this._clickState.target=null,this._getOption("saveState"))this.unsubscribe("onStateChanged",this._stateChangeHandler),f.removeState(this,false);n.clear(this),i.destroy.apply(this,arguments),N.superclass.destroy.apply(this,arguments)},setActive:function(t,i,e,n){var s=this._isControlActive,o;if(this._isControlActive=t,this._updateActiveStyles(),this._isCorrectContainer())if(t){if(t!==s){if(this._callOnFocusInside(),o=this.getParent())o._activate(this);if(this._isControlActive)this._notify("onFocusIn")}else if(this._isCanShowExtendedTooltip()&&this._tooltipSettings.handleFocus)this._showExtendedTooltip();if(this._isControlActive&&!e)if(l.isMobilePlatform)O(this);else g.runBatchedDelayedAction("Control.focus",[this])}else if(t!==s)if(this._notify("onFocusOut",false,n),!this.isActive())if(n){var a=function(t){return t===o};if(o=this.getParent())if(!n.findParent||!n.findParent(a))if(n!==o)o.setActive(false,void 0,void 0,n);else o._activeChildControl=-1,o._activatedWithTabindex=false}else if(o=this.getParent())o.setActive(false),o._activeChildControl=-1,o._activatedWithTabindex=false},_hasMarkup:function(){return this._isCorrectContainer()&&"true"===this._container.attr("hasMarkup")},isVisible:function(){return this._isVisible},setVisible:function(t){this.toggle(t)},_checkDelayedRecalk:function(){var t=g;if(t._needDelayedRecalk(this))t._doDelayedRecalk(this)},_getLinkedLabelLow:n(function(){var t=this._container.parent(),i=this._getOption("name"),e;if(t.hasClass("ws-Label"))e=t.find(".ws-Label-title:first");else if(i){var n=(i+"").replace(W,"\\\\").replace(S,'\\"');if(0===(e=t.find('label[for="fld-'+n+'"]').parent()).length&&t.hasClass("ws-labeled-control"))e=t.find("label:first")}else if(t.hasClass("ws-labeled-control"))e=t.find("label:first");return e&&e.length>0?e:null},"_getLinkedLabelLow"),_hasLinkedLabel:function(){return!!this._getLinkedLabelLow()},_getLinkedLabel:function(){return this._getLinkedLabelLow()},getOwnerId:function(){var t=this.getOwner();return t instanceof N?t.getId():null},setOwner:function(t){if(t instanceof N)this._owner=t;else this._setOption("owner",t),this._owner=null},makeOwnerName:function(){var t=this.findParent(function(t){if(C.instanceOfModule(t,"Deprecated/Controls/TabTemplatedArea/TabTemplatedArea")&&!t.getContainer().hasClass("ws-tabs-generated"))return false;return C.instanceOfModule(t,"Lib/Control/TemplatedAreaAbstract/TemplatedAreaAbstract")});return[t&&t.getCurrentTemplateName(),this.getName()].join(":")},getMinSize:function(){return{minHeight:this.getMinHeight(),minWidth:this.getMinWidth()}},_getAutoHeight:function(){return this._container.outerHeight()},_getAutoWidth:function(){return this._container.outerWidth()},_getFixedHeight:n(function(){return this._container.outerHeight()},"_getFixedHeight"),_getFixedWidth:n(function(){return this._container.outerWidth()},"_getFixedWidth"),getMinHeight:function(){if(this._container&&this.isVisible()){var t,i=this._getOption("autoHeight");if("Stretch"===this._verticalAlignment)t=i?this._calcMinHeight():0;else if(i)t=this._getAutoHeight();else t=this._height&&"100%"!==this._height&&"auto"!==this._height?parseInt(this._height,10):this._getFixedHeight();if(t>this._getOption("maxHeight"))t=this._getOption("maxHeight");if(t<this._getOption("minHeight"))t=this._getOption("minHeight");if(this._margins["top"])t+=this._margins["top"];if(this._margins["bottom"])t+=this._margins["bottom"];return t}return 0},_calcMinHeight:function(){return this._getOption("minHeight")},_calcMinWidth:function(){return this._getOption("minWidth")},getMinWidth:function(){if(this._container&&this.isVisible()){var t,i=this._getOption("autoWidth");if("Stretch"===this._horizontalAlignment)t=i?this._calcMinWidth():0;else if(this._getOption("autoWidth"))t=this._getAutoWidth();else t=this._width&&"100%"!==this._width&&"auto"!==this._width?parseInt(this._width,10):this._getFixedWidth();if(t>this._getOption("maxWidth"))t=this._getOption("maxWidth");if(t<this._getOption("minWidth"))t=this._getOption("minWidth");if(this._margins["left"])t+=this._margins["left"];if(this._margins["right"])t+=this._margins["right"];return t}return 0},getAlignment:function(){return{horizontalAlignment:this._horizontalAlignment,verticalAlignment:this._verticalAlignment}},isSubControl:function(){return this._getOption("subcontrol")},initializeProperty:function(t){var i="initialize"+A(t),e;if("function"===typeof this[i])this[i]();else s.resolve("ILogger").error("Control",'Метод initializeProperty вызвали для несуществующего свойства "'+t+'" (не определено соответствующего ему метода '+i+' ) "')}})).beforeExtend=P,k={_storage:{},_waitingChildren:{},_waitingChildrenByName:{},_storageWithParentName:{},store:function(t){var i=false;if(t instanceof N){if(this._storage[i=t.getId()]=t,this._waitingChildren[i])try{this._waitingChildren[i].callback(t)}finally{delete this._waitingChildren[i]}var e=t.getName(),n,s=t.makeOwnerName().split(":")[0],o;if(this._waitingChildrenByName[e]&&!this._waitingChildrenByName[e].isReady())try{this._waitingChildrenByName[e].callback(t)}finally{delete this._waitingChildrenByName[e]}if(this._storageWithParentName[s]=this._storageWithParentName[s]||{},(o=this._storageWithParentName[s])[e]instanceof h){var a=o[e];o[e]=t,a.callback(t)}else o[e]=t}return i},remove:function(t){if(t instanceof N){var i=t.getId(),e=t.getName(),n,s=t.makeOwnerName().split(":")[0];if(i in this._storage)this._storage[i]=null,delete this._storage[i];if(i in this._waitingChildren)this._waitingChildren[i]=null,delete this._waitingChildren[i];if(e in this._waitingChildrenByName)this._waitingChildrenByName[e]=null,delete this._waitingChildrenByName[e];if(s in this._storageWithParentName)this._storageWithParentName[s][e]=null,delete this._storageWithParentName[s][e]}},get:function(t){if(void 0===this._storage[t])throw new Error("ControlStorage : id = '"+t+"' not stored");return this._storage[t]},contains:function(t){return void 0!==this._storage[t]},getByName:function(t,i){for(var e in this._storage)if(this._storage.hasOwnProperty(e))if(this._storage[e].getName()==t){if(i&&!(this._storage[e]instanceof i))continue;return this._storage[e]}throw new Error("ControlStorage : control with name '"+t+"' is not stored")},getWithParentName:function(t){var i=t.indexOf(":")>-1?t.split(":"):t.split("/"),e=i[1],n=i[0];if(n in this._storageWithParentName&&e in this._storageWithParentName[n])return this._storageWithParentName[n][e];throw new Error("ControlStorage : control with name '"+e+"' is not stored in parent with name "+n)},containsByName:function(t){for(var i in this._storage)if(this._storage.hasOwnProperty(i))if(this._storage[i].getName()==t)return true;return false},waitChild:function(t){if(t in this._storage)return(new h).callback(this._storage[t]);else return t in this._waitingChildren?this._waitingChildren[t]:this._waitingChildren[t]=new h},waitChildByName:function(t){if(this.containsByName(t))return(new h).callback(this.getByName(t));else return t in this._waitingChildrenByName?this._waitingChildrenByName[t]:this._waitingChildrenByName[t]=new h},waitWithParentName:function(t){var i;if(t.indexOf(":")>-1||t.indexOf("/")>-1){i=t.indexOf(":")>-1?t.split(":"):t.split("/"),this._storageWithParentName[i[0]]=this._storageWithParentName[i[0]]||{};var e=this._storageWithParentName[i[0]];if(e[i[1]]instanceof N)return(new h).callback(e[i[1]]);else if(e[i[1]]instanceof h)return e[i[1]];else return e[i[1]]=new h}return k.waitChild(t)},getControls:function(){return this._storage}},window)f.init();var M=t.mixin(N,c);return M.beforeExtend=P,{Control:N,DataBoundControl:M,ControlStorage:k,ControlBatchUpdater:g}});