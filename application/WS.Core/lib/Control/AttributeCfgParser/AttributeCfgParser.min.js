define("Lib/Control/AttributeCfgParser/AttributeCfgParser",["Core/helpers/Object/isEmpty"],function(a){var e,r,i,t=",\"'{}()/:[\\]",n,f,h=RegExp('"(?:[^"\\\\]|\\\\.)*"'+"|"+"'(?:[^'\\\\]|\\\\.)*'"+"|"+"/(?:[^/\\\\]|\\\\.)*/w*"+"|"+("[^\\s:,/][^"+t+"]*[^\\s"+t+"]")+"|"+"[^\\s]","g"),v=/[\])"'A-Za-z0-9_$]+$/,c={in:1,return:1,typeof:1};function s(e){var r=e.trim();if(123===r.charCodeAt(0))r=r.slice(1,-1);var i=[],t=r.match(h),n,f=[],u=0;if(t){t.push(",");for(var l=0,a;a=t[l];++l){var s=a.charCodeAt(0);if(44===s){if(u<=0){if(!n)n=null;i.push({key:n,value:f.join("")}),n=void 0,f=[],u=0;continue}}else if(58===s){if(!u&&!n&&1===f.length){n=f.pop();continue}}else if(47===s&&l&&a.length>1){var o=t[l-1].match(v);if(o&&!c[o[0]])(t=(r=r.substr(r.indexOf(a)+1)).match(h)).push(","),l=-1,a="/"}else if(40===s||123===s||91===s)++u;else if(41===s||125===s||93===s)--u;else if(!n&&!f.length&&(34===s||39===s))a=a.slice(1,-1);f.push(a)}}return i}function u(e){var r=0,i;for(i in e)if(e.hasOwnProperty(i))r++;return r}return function e(r){var i=s(r),t={};if(1==i.length&&null===i[0].key)return i[0]["value"];for(var n=0,f=i.length;n<f;n++)if("key"in i[n]){var u=i[n]["key"],l=i[n]["value"];if(null===u)t[l]=void 0;else t[u]=e(l)}return a(t)?void 0:t}});