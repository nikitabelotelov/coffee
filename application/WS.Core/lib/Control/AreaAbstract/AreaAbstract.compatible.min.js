define("Lib/Control/AreaAbstract/AreaAbstract.compatible",["Core/Context","Core/helpers/Object/isPlainObject","Core/helpers/isNewEnvironment","Core/core-instance","Core/WindowManager","Core/helpers/Object/find","Core/helpers/Array/findIndex","Env/Env","Core/Deferred","Lib/Control/AttributeCfgParser/AttributeCfgParser","Core/helpers/String/escapeHtml","Core/core-classicExtend","Core/helpers/Hcontrol/getChildContainers","Core/helpers/Hcontrol/isElementVisible","Core/helpers/Hcontrol/focusControl","Core/helpers/Hcontrol/setElementCachedSize","Lib/Control/Control","Core/helpers/String/unEscapeHtml","Vdom/Vdom"],function(o,a,t,h,l,n,c,r,d,v,g,s,b,f,i,u,_,p,C){var x=function(){var t=d,i=function(){t.call(this)},e=t.prototype.addCallbacks;function n(e){return e&&function(t){var i=e(t);return void 0===i?t:i}}return s(i,t),i.prototype.addCallbacks=function(t,i){return e.call(this,n(t),n(i))},i}();function A(t,i,e,n){if(!t.isDestroyed())t._activateSiblingControlOrSelfLow(i,e,n)}return _.ControlBatchUpdater.registerDelayedAction("AreaAbstract.activateSiblingControlOrSelf",A,"FocusActions"),{_createContext:function(t,i){var e={},n=t.context,s=t.record,r;if(e.craftedContext=!(n instanceof o),!e.craftedContext)e.context=n;else{if(!((r=t.linkedContext||i||o.global)instanceof o))throw new Error("AreaAbstract._createContext: Опция linkedContext (или аргумент parentContext), если указана, и не равна null/undefined, то должна быть объектом типа Core/Context");e.context=o.createContext(this,null,r)}if(e.context.setRestriction(t.independentContext?"setget":t.contextRestriction||e.context.getRestriction()),h.instanceOfModule(n,"Deprecated/Record"))e.context.replaceRecord(n);else if(a(n))e.context.setValueSelf(n);if(s)if(h.instanceOfModule(s,"Deprecated/Record"))e.context.replaceRecord(s);else e.context.setValueSelf("record",s);return e},getActivationIndex:function(){return this._activationIndex},isShow:function(){return true},getZIndex:function(){return 0},setActivationIndex:function(t){this._activationIndex=t},_markupDataBinding:function(t){var i={attr:0,css:0,style:0},o=this.getLinkedContext(),e=b(this._container,"[data-bind]"),a=[],n,s=this._cleanupMarkupDataBinding;function h(t,i,e,n){switch(e){case"text":t.html(g(i));break;case"html":t.html(i);break;case"attr":if(n)t.attr(n,p(i));break;case"css":if(n)t.toggleClass(n,!!i);break;case"style":if(n)t.css(n,i);break;case"visible":h(t,!i,"css","ws-hidden")}}function r(i,e,n,s){var r=void 0;function t(){var t=o.getValue(e);if(r!==t)h(i,r=t,n,s)}a.push(t)}if(s)this._cleanupMarkupDataBinding=null,s();for(var l=0,c=e.length;l<c;l++){var d=$(e[l]),f=v(d.attr("data-bind")||"");if(t&&d.attr("data-binded"))continue;for(var u in d.attr("data-binded","true"),f)if(f.hasOwnProperty(u))if(u in i){var _=f[u];for(var C in _)if(_.hasOwnProperty(C))r(d,_[C],u,C)}else r(d,f[u],u)}if(a.length>0)n=function(){a.forEach(function(t){t()})},this.subscribeTo(o,"onFieldsChanged",n),this._cleanupMarkupDataBinding=this.unsubscribeFrom.bind(this,o,"onFieldsChanged",n),n()},getContext:function(){return this._context},getReadyDeferred:function(){return this._dChildReady.getResult()},unregisterDefaultButton:function(t){if(this._defaultButton===t)this._defaultButton=null},registerDefaultButton:function(t){var i=this;if(this._defaultButton)this._defaultButton.setDefaultButton(false);this._defaultButton=t,this._defaultButton.subscribe("onDestroy",function(){if(i._defaultButton===this)i._defaultButton=null})},_unregisterDefaultButtonAction:function(){var t=this._defaultButton;this._defaultAction=null,this._defaultButton=null,t&&t.setDefaultButton(false,true)},_registerDefaultButtonAction:function(t,i){this._defaultAction=t,this._defaultButton=i},_onResizeHandler:function(t,i){if(this._restoreSize(),this._resizeChilds(),this._needResizer())if(!this._resizer)this._initResizers();else this._updateResizer();if(this._template){if(false!==this._mounted)this._notify("onResize",i)}else this._notify("onResize",i)},_resizeChilds:function(){var t,i,e;if(this.isVisible()||this._needRecalkInvisible())for(t=0,i=this._childControls.length;t<i;t++)if((e=this._childControls[t])&&e.isVisible())e._onResizeHandler()},validate:function(t,i,e){var n=!this.isVisible(),s;if(n&&!i&&!this._getOption("validateIfHidden"))return true;if(t=void 0===t?true:t,this._childControls.forEach(function(t){if(t&&t.validate)if(t.isVisible()||t._hasOption("validateIfHidden")&&t._getOption("validateIfHidden"))s=!t.validate(false,false,e||n)||s},this),!e&&t&&s&&this.isVisible()&&0===this._container.parents(".ws-hidden").length)this._moveFailValidatedToFocus();return!s},resetValidation:function(){this._childControls.forEach(function(t){if(t&&t.clearMark)t.clearMark();if(t&&t.resetValidation)t.resetValidation()},this)},_moveFailValidatedToFocus:function(){var t=true,i=-1,e=-1,n,s=Object.keys(this._childControls),r=this,o,a;s.sort(function(t,i){var e=r._childControls[t]&&r._childControls[t].getTabindex(),n=r._childControls[i]&&r._childControls[i].getTabindex();if(e=parseInt(e,10),n=parseInt(n,10),!e||-1==e)return 1;if(!n||-1==n)return-1;return e<n?-1:e>n?1:0});for(var h=0;h<s.length;++h){var l=this._childControls[s[h]];if(!l)continue;if(n=l.getTabindex(),o=l.isMarked&&l.isMarked()&&l.getContainer&&f(l.getContainer()),a=l._moveFailValidatedToFocus&&!l._moveFailValidatedToFocus(),o||a){t=false,i=n,e=s[h];break}}if(o)this._childControls[e].setActive(true);return t},setActive:function(t,i,e,n){var s=this._isControlActive,r=document.activeElement,o=this._container[0],a;if(!t||t!==s&&this.getNextActiveChildControl(i))this._isControlActive=t,this._updateActiveStyles();if(t){if(!(this.getNextActiveChildControl&&this.getNextActiveChildControl()))this._callOnFocusInside();if((l=this.getParent())&&l.iWantVDOM)(a=l._container[0].controlNodes[0].environment)._focused=false;if(l)l._activate(this);if(i)this.activateLastControl(e);else this.activateFirstControl(e);if(l&&l.iWantVDOM&&!e)if(!s&&!a._focused)a._handleFocusEvent({target:o,relatedTarget:r})}else if(t!==s)if(this._notify("onFocusOut",false,n),!this.isActive())if(n){var h=function(t){return t===l},l=this.getParent();if(l&&n.findParent)if(!n.findParent(h))if(n!==l)l.setActive(false,void 0,void 0,n);else l._activeChildControl=-1,l._activatedWithTabindex=false}else if(l=this.getParent())if(l.setActive(false),l._activeChildControl=-1,l._activatedWithTabindex=false,l.iWantVDOM)l._blur()},_oldActivateFirstControl:function(t){this._activateSiblingControlOrSelf(false,-1,t)},_activateFirstCtrl:function(){this.activateFirstControl()},getActiveChildControl:function(t,i){var e=this._activatedWithTabindex?this._childsTabindex[this._activeChildControl]:this._activeChildControl,n=this._childControls,s;if(s=t&&n[e]&&!n[e].canAcceptFocus()?this.getNextActiveChildControl(void 0,-1):n[e],i&&s&&h.instanceOfMixin(s,"Lib/Control/AreaAbstract/AreaAbstract.compatible"))s=s.getActiveChildControl(t,true)||s;return s},onBringToFront:function(){if(this._childControls&&this._childControls.length){var t=this.getActiveChildControl(true);if(t&&t.canAcceptFocus())if(h.instanceOfMixin(t,"Lib/Control/AreaAbstract/AreaAbstract.compatible"))t.onBringToFront();else t.setActive(true);else this._activateFirstCtrl()}else this._moveFocusToSelf()},_oldKeyboardHover:function(t){if(t.which in this._keysWeHandle){if(t.which==r.constants.key.enter)if(!(t.altKey||t.shiftKey)&&(t.ctrlKey||t.metaKey)){if(!this._defaultAction)return true;return this._defaultAction(t)}if(t.which==r.constants.key.tab){var i=$(t.target).wsControl(),e=i&&i.getParent();if(e&&!h.instanceOfMixin(e,"Lib/Mixins/CompoundActiveFixMixin")&&e.moveFocus){var n=e.moveFocus(t);if(!n)t.preventDefault();return n}else return this.moveFocus(t)}}return true},_oldActivateLastControl:function(t){this._activateSiblingControlOrSelf(true,this._maxTabindex>0?this._maxTabindex+1:this._childControls.length,t)},_activateSiblingControlOrSelf:function(t,i,e){if(f(this.getContainer()))if(r.detection.isMobilePlatform)A(this,t,i,e);else _.ControlBatchUpdater.runBatchedDelayedAction("AreaAbstract.activateSiblingControlOrSelf",[this,t,i,e])},getOpener:function(){return this._opener},_moveFocusToSelf:function(t){if(this._activeChildControl=-1,!this._activateParent())l.disableLastActiveControl(this);if(this._canAreaAcceptFocus()&&(!this.isEnabled||this.isEnabled())){if(!this._isControlActive)this._isControlActive=true,this._updateActiveStyles(),this._notify("onActivate"),this._notify("onFocusIn");if(!t&&this._isControlActive&&this._container)if(this._container.length){if(!$.contains(this._container[0],document.activeElement))if(r.detection.isMobilePlatform)i(this);else _.ControlBatchUpdater.runBatchedDelayedAction("Control.focus",[this])}else r.IoC.resolve("ILogger").error("AreaAbstract","У компонента '"+this._moduleName+"' неправильно задан контейнер _container. В нем нет ни одного элемента.")}},unregisterChildControl:function(i){var e=c(this._childControls,function(t){return t===i}),t,n;if(-1!==e){var s=i.getId(),r=i.getName();if(this._childControls[this._childsMapId[s]]===i)delete this._childsMapId[s];if(this._childControls[this._childsMapName[r]]===i)delete this._childsMapName[r];if(delete this._childControls[e],-1!==(t=c(this._childContainers,function(t){return t===i})))delete this._childContainers[t];if(this._childsTabindex)if(-1!==(n=c(this._childsTabindex,function(t){return t===e})))delete this._childsTabindex[n]}},_activateParent:function(){var t=this.getParent();if(t&&!t.isActive())t._activate(this,true);return!!t},_activateSiblingControlOrSelfLow:function(t,i,e){if(!this.detectNextActiveChildControl(t,i,e))this._moveFocusToSelf(e)},moveFocus:function(t){if(t.stopPropagation(),!this.detectNextActiveChildControl(t.shiftKey))if(this.focusCatch(t))return true;return false},focusCatch:function(t){var i=this.getParent();if(!i){if(l.disableLastActiveControl(),t.shiftKey)l.focusToFirstElement();else l.focusToLastElement();return true}else return i.moveFocus(t)},_getNextIndexInfo:function(t,i){var e=void 0!==i?i:this._activeChildControl,n=(void 0!==i||this._activatedWithTabindex)&&!!this._childsTabindex,s=this._childControls.length,r=t?e-1:e+1,o=n?t?r>0:r<=this._maxTabindex:t?r>=0:r<s,a,h;if(!o)a=n?this._maxTabindex:s-1,r=t?a:h=n?1:0;return{nextIndex:r,nextIndexIsTabIndex:n,isNextCycle:!o}},detectNextActiveChildControlIndex:function(t,i){function e(t,i){var e=i?s._childsTabindex[t]:t,n=void 0!==e&&s._childControls[e];return n&&n.canAcceptFocus()}var s=this,n=this._getNextIndexInfo(t,i),r=n.nextIndexIsTabIndex,o=n.nextIndex,a=r?1:0,h=r?this._maxTabindex:this._childControls.length-1,l=this._getOption("ignoreTabCycles");if(n.isNextCycle&&l)o=t?a-1:h+1;else{while(t?o>=a:o<=h){if(e(o,r))break;o=t?o-1:o+1}if((o<a||o>h)&&!l){o=t?h:a;while(o>=a&&o<=h){if(e(o,r))break;o=t?o-1:o+1}}}return{index:o,isTabIndex:n.nextIndexIsTabIndex,isValid:o>=a&&o<=h}},getNextActiveChildControl:function(t,i){var e=this.detectNextActiveChildControlIndex(t,i),n=e.index,s,r;if(e.isValid)r=e.isTabIndex?this._childsTabindex[n]:n,s=this._childControls[r]||null;else s=null;return s},_oldDetectNextActiveChildControl:function(t,i,e){var n=this.detectNextActiveChildControlIndex(t,i),s=n.index,r=n.isValid,o;if(r)if(o=n.isTabIndex?this._childsTabindex[s]:s,r=!!this._childControls[o])this._childControls[o].setActive(true,t,e);return r},_activate:function(t,i){var e,n;if(t){var s=l.getActiveWindow(false,true);if(s){var r=s.getActiveChildControl(),o=C.DOMEnvironment._goUpByControlTree(t._container);if(r)if(r!==t&&-1===o.indexOf(r)&&r.getParent()===s)e=true;if(t!==s&&-1===o.indexOf(s))n=true}}else this._activeChildControl=void 0;if(e&&r.isActive())r.setActive(false,void 0,void 0,t);if(n&&s.isActive())s.setActive(false,void 0,void 0,t);if(this.storeActiveChild(t),!i&&!h.instanceOfModule(this,"OnlineSbisRu/Base/View"))this._notify("onActivate")},_storeActiveChildInner:function(){var t=this.getParent();if(t)t.storeActiveChild(this)},storeActiveChild:function(t){this.setChildActive(t),this._storeActiveChildInner()},setChildActive:function(t){var i=t.getId(),e=this._isControlActive;if(t.getTabindex()>0)this._activeChildControl=parseInt(t.getTabindex(),10),this._activatedWithTabindex=true;else for(var n=0,s=this._childControls.length;n<s;n++)if(this._childControls[n]&&this._childControls[n].getId()===i){this._activeChildControl=n,this._activatedWithTabindex=false;break}if(this._isControlActive=true,this._updateActiveStyles(),e!==this._isControlActive&&this._isControlActive)this._notify("onFocusIn")},_canAreaAcceptFocus:function(){var t=!this.isVisible||this.isVisible(),i=this.iWantVDOM?t:f(this.getContainer());return t&&this.getTabindex()&&i},canAcceptFocus:function(){function t(t){return t&&t.canAcceptFocus()}var i=this._childControls||[],e=this._canAreaAcceptFocus();if(i=i.filter(function(t){return t.isVisible()}),e)if(0===i.length)e=!this.isEnabled||this.isEnabled();else e=!!n(this._childControls,t);return e},isReady:function(){return this._isReady},getChildControls:function(t,i,e){for(var n=[],s=0,r=this._childControls.length;s<r;s++)if(s in this._childControls){var o=this._childControls[s];if(o){if("function"===typeof o.getChildControls){if(false!==i)n=n.concat(o.getChildControls(t,i,e));if(t)continue}if(!e||e(o))n.push(o)}}return n},_searchChildren:function(t,i){for(var e=this._childContainers,n=null,s=0,r=e.length;s<r;s++)if(e[s]&&e[s]["_getChildControlBy"])if(n=e[s]["_getChildControlBy"](t,i))break;return n},_checkInCache:function(t,i){if(this["_childsMap"+t+"Cache"][i])return this["_childsMap"+t+"Cache"][i]},_getChildControlBy:function(t,i){var e=this._checkInCache(t,i);if(e)return e;if(void 0!==this["_childsMap"+t][i])return this._childControls[this["_childsMap"+t][i]];return this._searchChildren(t,i)},getChildControlById:function(t){var i=this._getChildControlBy("Id",t);if(i)return this._childsMapIdCache[t]=i;throw new Error("Control with ID "+t+" is not present in this container")},getChildControlByName:function(t){var i=this._getChildControlBy("Name",t);if(i)return this._childsMapNameCache[t]=i;throw new Error("Control with name "+t+" is not present in this container")},_onResizeHandlerBatch:function(){if(this._onResizeHandler(),$.dtPostFilter)$.dtPostFilter({dom:this._container})},_getResizerHeight:function(){var t=!this._getOption("autoHeight"),i=0;if(!t||t&&!this.getParent())for(var e in this._ensureControlsSizes("minHeight"),this._childsSizes){if(!this._childsSizes.hasOwnProperty(e))continue;i=Math.max(i,this._childsSizes[e].minHeight)}if(t&&this.getParent())i=this._container.height();return i},_ensureControlsSizes:function(t){for(var i in this._childsMapId){if(!this._childsMapId.hasOwnProperty(i))continue;var e=this._childControls[this._childsMapId[i]];if(e&&e._isContainerInsideParent()){var n=this._childsSizes[i];if(void 0===n)n=this._childsSizes[i]={};var s={minWidth:"getMinWidth",minHeight:"getMinHeight"};if(void 0===n[t])n[t]=e[s[t]]()}}},_getResizerWidth:function(){var t=!this._getOption("autoWidth"),i=0;if(!t||t&&!this.getParent())for(var e in this._ensureControlsSizes("minWidth"),this._childsSizes){if(!this._childsSizes.hasOwnProperty(e))continue;i=Math.max(i,this._childsSizes[e].minWidth)}if(t&&this.getParent())i=this._container.width();return i},_postUpdateResizer:function(t,i){},_updateResizer:function(){if(this._needResizer()){var t=parseInt(this._getOption("minHeight"),10),i=parseInt(this._getOption("minWidth"),10),e=Math.max(this._getResizerHeight(),t),n=Math.max(this._getResizerWidth(),i);u(this._resizer,{height:e,width:n}),this._postUpdateResizer(n,e)}else if(this._resizer)this._resizer.remove(),this._resizer=null},_onSizeChangedBatch:function(t){if(t.forEach(function(t){delete this._childsSizes[t.getId()]},this),this._needResizer())if(this._resizer)this._updateResizer();else this._initResizers();return true},_needResizer:function(){return!this._getOption("isRelativeTemplate")},_initResizers:function(){if(this._resizer)this._resizer.remove(),this._resizer=null;if(this._needResizer()){if(this._getOption("autoHeight"))this._container.height("auto"),this._container.removeClass("ws-area-height-100-fix");if(this._getOption("autoWidth"))this._container.width("auto");if(this._getOption("autoHeight")||this._getOption("autoWidth")||!this.parent)this._resizer=$("<div />",{class:"r",id:"resizer-"+this.getId()}),this._container.prepend(this._resizer),this._updateResizer()}},_removeControls:function(){var t=[].concat(this._childControls);t.forEach(function(t){t.destroy()}),this._childControls=[],this._childsMapId={},this._childsMapName={},this._childContainers=[],this._childsSizes={},this._childsTabindex={},this._maxTabindex=0,t.forEach(function(t){if(!t.isDestroyed()){var i=rk("Деструктор дочернего контрола (id = "+t.getId()+", name = "+t.getName()+") отработал не полностью. Видимо, где-то забыли вызвать деструктор базового класса. "+"Родитель: (id = "+this.getId()+", name = "+this.getName()+")");throw new Error(i)}},this)},_subscribeOnReady:function(){var i=this;if(i._onReadyHandler)i._container.unbind("onReady",i._onReadyHandler);this._container.bind("onReady",this._onReadyHandler=function(t){if(!i._container.is(t.target))t.stopPropagation()})},destroy:function(t){var i=_.ControlBatchUpdater;if(!t)i.beginBatchUpdate("AreaAbstract_destroy");try{for(var e in this._groupInstances)if(this._groupInstances.hasOwnProperty(e))this._groupInstances[e].destroy();if(this._onReadyHandler)this._container.unbind("onReady",this._onReadyHandler);if(this._childNonControls=null,this._resizer=$(),this._waitersById=null,this._waitersByName=null,this._removeControls(),this.setOpener(null),this._craftedContext&&this._context)this._context.destroy();if(this._container.unbind("mousedown.activate"),this._container.unbind("mousedown.fxselect"),this._container.unbind("onReady"),r.constants.$win.unbind("resize."+this.getId()),r.constants.$doc.unbind("mousedown."+this.getId()),l.removeWindow(this),"function"===typeof this._destroySuperClass){var n;if($(document.activeElement).closest(this._container).length)l._doActivateControl=true;this._destroySuperClass()}}finally{if(!t)for(var s in i.endBatchUpdate("AreaAbstract_destroy"),i._batches)if(i._batches.hasOwnProperty(s)&&"AreaAbstract_destroy"!==s)i.endBatchUpdate(s)}this._cleanupMarkupDataBinding=null},setOpener:function(t){function i(t){function e(t){return t&&t.getOpener&&t.getOpener()}function n(t){return t&&t.getParent&&t.getParent()}function i(t){return e(t)&&t||i(n(t))}function s(t,i){return t&&(t===i||s(t.getParent(),i))}function r(t,i){return t&&(t===i||r(e(t)||n(t),i))}function o(t){return h.instanceOfModule(t,"Lib/Control/LoadingIndicator/LoadingIndicator")||h.instanceOfModule(t,"Lib/Control/Window/Window")&&t._isIndicator}if(o(t))t=l._getActiveWindow(function(t){return!o(t)});if(r(t,this))if(s(t,this))t=this._opener;else i(t).setOpener(null);return t}if(t&&!(t instanceof _.Control||t._template))return void r.IoC.resolve("ILogger").error("AreaAbstract","Ошибка при установке свойства opener, который не является ни контролом, ни null");if(t&&!t.isDestroyed||t&&t.isDestroyed())t=l.getActiveWindow(false);if((t=i.call(this,t))!==this._opener){if(this._opener){if(this._onDestroyOpener)this._opener.unsubscribe("onDestroy",this._onDestroyOpener);if(this._opener.getContainer())this._opener.getContainer().trigger("wsWindowClose",this)}if(this._opener=t,this._opener){if(!this._onDestroyOpener)this._onDestroyOpener=this.setOpener.bind(this,void 0);if(this.subscribeTo(this._opener,"onDestroy",this._onDestroyOpener),this._opener.getContainer())this._opener.getContainer().trigger("wsWindowOpen",this)}}},_checkWaiters:function(t){var i=t.getName(),e=t.getId(),n;if(this._waitersByName&&i in this._waitersByName)n=this._waitersByName[i],delete this._waitersByName[i],n.callback(t);if(this._waitersById&&e in this._waitersById)n=this._waitersById[e],delete this._waitersById[e],n.callback(t);if(null!==this.getParent())this.getParent()._checkWaiters(t)},_waitUtility:function(t,i){var e="_waitersBy"+t,n="getChildControlBy"+t,s,r;if(this.isDestroyed())r=d.fail("Can't wait for controls in destroyed parent");else{try{s=this[n](i)}catch(t){}if(s)r=(new x).callback(s);else{if(!this[e])this[e]={};r=this[e][i]||(this[e][i]=new x)}}return r},waitChildControlByName:function(t){return this._waitUtility("Name",t)},waitChildControlById:function(t){return this._waitUtility("Id",t)},_setupChildByAreaEnabled:function(t){var i=this._getOption("enabled"),e;if(i){if(void 0!==t._prevEnabled)e=t._prevEnabled,t._prevEnabled=void 0,t.setEnabled(e)}else e=void 0===t._prevEnabled?t.isEnabled():t._prevEnabled,t.setEnabled(i),t._prevEnabled=e},registerChildControl:function(t){if(t.getParent){var i=t.getParent();if(i)if(i!==this||this._childsMapId[t.getId()])r.IoC.resolve("ILogger").error("AreaAbstract::registerChildControl",rk("Нельзя зарегистрировать этот контрол:")+" ("+t.getId()+") "+rk("в контроле:")+" "+this.getId()+", "+rk("у него уже есть родитель:")+" "+i.getId());var e=this._childControls.length,n=t.getTabindex();if(n&&!this.iWantVDOM){var s=parseInt(n,10);if(-1==s||void 0!==this._childsTabindex[s])s=this._maxTabindex+1,t.setTabindex(s,true);if(s>0){if(this._maxTabindex=Math.max(this._maxTabindex,s),!this._childsTabindex)this._childsTabindex={};this._childsTabindex[s]=e}}if(this._childsMapId[t.getId()]=e,this._childsMapName[t.getName()]=e,this._childControls.push(t),h.instanceOfModule(t,"Lib/Control/AreaAbstract/AreaAbstract")||t._template)this._childContainers.push(t);t.once("onInit",this._notifyOnChildAdded.bind(this,t))}},_notifyOnChildAdded:function(t){var i=this.getParent();if(this._checkWaiters(t),h.instanceOfModule(i,"Lib/Control/AreaAbstract/AreaAbstract"))i._notifyOnChildAdded(t)},changeControlTabIndex:function(i,n){var s=i.getTabindex(),t=c(this._childControls,function(t){return t===i}),a=function(){if(!this._childsTabindex)return 0;else return Object.keys(this._childsTabindex).reduce(function(t,i){return Math.max(t,i)},0)}.bind(this),e=function(i,t){var e,n,s,r=a();function o(t){if(void 0!==this._childsTabindex[t])if(s=this._childsTabindex[t],n=this._childControls[s])i.call(this,n,s)}if(t)for(e=r;e>0;e--)o.call(this,e);else for(e=1;e<=r;e++)o.call(this,e)}.bind(this);if(0!==s)delete this._childsTabindex[s],e(function(t,i){var e=t.getTabindex();if(e>s)delete this._childsTabindex[e],this._childsTabindex[e-1]=i,this._childControls[i].setTabindex(e-1,true)},false);if(-1===n)this._maxTabindex=a()+1,i.setTabindex(this._maxTabindex,true),this._childsTabindex[this._maxTabindex]=t;else{if(0!==n)e(function(t,i){var e=t.getTabindex();if(e>=n)delete this._childsTabindex[e],this._childsTabindex[e+1]=i,this._childControls[i].setTabindex(e+1,true)},true),this._childsTabindex[n]=t;i.setTabindex(n,true),this._maxTabindex=a()}},hasChildControlByName:function(t){if(void 0!==this._childsMapName[t])return true;return!!this._searchChildren("Name",t)}}});