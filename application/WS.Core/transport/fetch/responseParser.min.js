define("Transport/fetch/responseParser",["require","exports","Transport/Errors"],function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:true});var a=function(e){switch(e){case"XML":return"xml";case"JSON":return"json";case"TEXT":return"text";case"BLOB":return"blob";default:return"text"}},u={xml:function(e){return e.text().then(function(e){var r;if(!e)return null;if("undefined"!==typeof DOMParser)try{r=(new DOMParser).parseFromString(e,"text/xml")}catch(e){r=void 0}if(!r||r.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return r})}};r.parse=function(r,e){var t=a(e),n;if(t in r)n=r[t];else n=u[t];return n.call(r,r).catch(function(e){throw new s.Parse({url:r.url,details:e.message})})},r.RESPONSE_TYPE={TEXT:"TEXT",JSON:"JSON",BLOB:"BLOB",XML:"XML"}});