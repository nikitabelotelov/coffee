define("Core/app-init",["Core/load-contents","Core/core-merge","Core/constants","Core/Themes/ThemesController","native-css","Core/patchRequireJS","View/Request","View/_Request/createDefault","Controls/Application/StateReceiver","Core/polyfill","Core/polyfill/PromiseAPIDeferred","Core/ConsoleLogger"],function(e,t,s,o,n,r,i,a,c){"use strict";r();var l=new i(a.default(i));if(l.setStateReceiver(new c),i.setCurrent(l),window.receivedStates&&window.receivedStates.indexOf){var d=window.receivedStates.indexOf("ThemesController");if(d>-1){var f=window.receivedStates.indexOf(",",d),u=window.receivedStates;if(f>-1)u="{"+window.receivedStates.substring(d-1,f)+"}";l.stateReceiver.deserialize(u)}}function h(){return NodeFilter.FILTER_ACCEPT}function C(e){var t=[],s=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,h,false),n=s.nextNode();while(n)t.push(n),n=s.nextNode();return t}function m(e){var t=e.split("theme?"),s;if(t.length>1)s={name:t[1],hasTheme:true};else s={name:e,hasTheme:false};return s}if(window.themesActive)n.load=function(e,t,s,n){var r=m(e),i=false;if(r.hasTheme)if(o.getInstance().pushCssThemedAsyncAllThemes)i=true,o.getInstance().pushCssThemedAsyncAllThemes(r.name.replace(/\.css$/,""),s);else o.getInstance().pushThemedCss(r.name.replace(/\.css$/,""));else if(o.getInstance().pushCssAsync)i=true,o.getInstance().pushCssAsync(e.replace(/\.css$/,""),s);else o.getInstance().pushSimpleCss(e.replace(/\.css$/,""));if(!i)s(null)};else{var w=n.load;n.load=function(e,t,s,n){var r=e;if(~r.indexOf("theme?"))r=r.replace("theme?","");return w(r,t,s,n)}}return function(){t(s,window.wsConfig||{},{rec:false}),C(document.body).forEach(function(e){e.parentNode.removeChild(e)}),e(window.contents,false,{resources:wsConfig.resourceRoot})}});