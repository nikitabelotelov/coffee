define("Core/core-init-min",["Core/patchRequireJS","Core/nativeExtensions","Core/apply-contents","Core/cookie","Core/BodyClasses","Core/Deferred","Core/constants","Core/compatibility","Core/core-config-min","Core/Context","Core/ConsoleLogger","Core/polyfill/PromiseAPIDeferred","is!browser?Lib/Control/CompoundControl/CompoundControl","Transport/RPCJSON"],function(e,t,n,o,r,a,i,s){function l(){var e=location.href;if(~e.indexOf("carry.html")||~e.indexOf("carry_minimal.html"))return"carry";else if(~e.indexOf("newpresto")||~e.indexOf("presto.html"))return"presto";else if(~e.indexOf("booking.html"))return"carrynew";else if(~e.indexOf("cloud.html"))return null;else if(~e.indexOf("genie"))return null;else return null}var d={moveInRow:1,state:s.touch,lastState:void 0,touchHandler:function(){d.state=true,d.moveInRow=0,d.updateClasses()},moveHandler:function(){if(d.moveInRow>0)d.state=false;d.moveInRow++,d.updateClasses()},updateClasses:function(){if(d.state!==d.lastState)$("body").removeClass("ws-is-touch ws-is-no-touch"),$("body").addClass(d.state?"ws-is-touch":"ws-is-no-touch"),d.lastState=d.state}};function c(){var e=a.success(true);if(window)Error.stackTraceLimit&&(Error.stackTraceLimit=40),e.addCallback(function(){i.$win=$(window),i.$doc=$(document)}).addCallback(function(){var e=l(),t=window.wsConfig;if(t)if(t.themeName&&!e)e=t.themeName;if(e)o.set("thmname",e,{path:"/"}),o.set("thmname",e);else o.set("thmname","",{path:"/"}),o.set("thmname",null,{path:"/"}),o.set("thmname","",e),o.set("thmname",null,e);o.set("tz",null),o.set("tz",(new Date).getTimezoneOffset(),{path:"/",expires:30}),i.$win.bind("orientationchange",function(){i.$win.trigger("resize")})}).addCallback(function(){i.$doc.ready(function e(){var t=$("body"),n=r();if(n.length)t.addClass(n);i.$body=t})}).addCallback(function(){var t=new a;return require(["Core/core-extensions"],function(e){if(e instanceof a)t.dependOn(e);else t.callback(e)}),t}).addCallback(function(){if(document&&document.body)d.updateClasses(),document.body.addEventListener("mousemove",d.moveHandler),document.body.addEventListener("touchstart",d.touchHandler)});return e}return e(),c.applyContents=n,c.nativeExtensions=t,c()});