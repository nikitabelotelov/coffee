define("Core/core-init-min",["Core/patchRequireJS","Core/apply-contents","Core/nativeExtensions","Core/BodyClasses","Core/Deferred","Env/Env","Core/core-config-min","Core/Context","Core/polyfill/PromiseAPIDeferred","is!browser?Lib/Control/CompoundControl/CompoundControl","Browser/Transport"],function(e,t,n,o,a,s){function i(){var e=location.href;if(~e.indexOf("carry.html")||~e.indexOf("carry_minimal.html"))return"carry";else if(~e.indexOf("newpresto")||~e.indexOf("presto.html"))return"presto";else if(~e.indexOf("booking.html"))return"carrynew";else if(~e.indexOf("cloud.html"))return null;else if(~e.indexOf("genie"))return null;else return null}var r={moveInRow:1,state:s.compatibility.touch,lastState:void 0,touchHandler:function(){r.state=true,r.moveInRow=0,r.updateClasses()},moveHandler:function(){if(r.moveInRow>0)r.state=false;r.moveInRow++,r.updateClasses()},updateClasses:function(){if(r.state!==r.lastState)$("body").removeClass("ws-is-touch ws-is-no-touch"),$("body").addClass(r.state?"ws-is-touch":"ws-is-no-touch"),r.lastState=r.state}};function c(){var e=a.success(true);if(window)Error.stackTraceLimit&&(Error.stackTraceLimit=40),e.addCallback(function(){s.constants.$win=$(window),s.constants.$doc=$(document)}).addCallback(function(){var e=i(),t=window.wsConfig;if(t)if(t.themeName&&!e)e=t.themeName;if(e)s.cookie.set("thmname",e,{path:"/"}),s.cookie.set("thmname",e);else s.cookie.set("thmname","",{path:"/"}),s.cookie.set("thmname",null,{path:"/"}),s.cookie.set("thmname","",e),s.cookie.set("thmname",null,e);s.cookie.set("tz",null),s.cookie.set("tz",(new Date).getTimezoneOffset(),{path:"/",expires:30}),s.constants.$win.bind("orientationchange",function(){s.constants.$win.trigger("resize")})}).addCallback(function(){s.constants.$doc.ready(function e(){var t=$("body"),n=o();if(n.length)t.addClass(n);s.constants.$body=t})}).addCallback(function(){var t=new a;return require(["Core/core-extensions"],function(e){if(e instanceof a)t.dependOn(e);else t.callback(e)}),t}).addCallback(function(){if(document&&document.body)r.updateClasses(),document.body.addEventListener("mousemove",r.moveHandler),document.body.addEventListener("touchstart",r.touchHandler)});return e}return e(),c.applyContents=n,c.nativeExtensions=t,c()});