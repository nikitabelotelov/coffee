define("Core/htmlparser2",[],function(){return function(s){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:false};return s[t].call(e.exports,e,e.exports,o),e.loaded=true,e.exports}return o.m=s,o.c=i,o.p="",o(0)}([function(t,e,s){var i=s(1),o={input:true,option:true,optgroup:true,select:true,button:true,datalist:true,textarea:true},n={tr:{tr:true,th:true,td:true},th:{th:true},td:{thead:true,th:true,td:true},body:{head:true,link:true,script:true},li:{li:true},p:{p:true},h1:{p:true},h2:{p:true},h3:{p:true},h4:{p:true},h5:{p:true},h6:{p:true},select:o,input:o,output:o,button:o,datalist:o,textarea:o,optgroup:{optgroup:true}};function r(t,e){if(t&&"select"===t.toLowerCase())if(!e)n.option={option:true};else delete n.option}var a={__proto__:null,area:true,base:true,basefont:true,br:true,col:true,command:true,embed:true,frame:true,hr:true,img:true,input:true,isindex:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true,path:true,circle:true,ellipse:true,line:true,rect:true,use:true,stop:true,polyline:true,polygon:true},_=/\s|\//;function h(t,e){if(this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._attribssequence=null,this._attribsquotes=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,!!this._options.Tokenizer)i=this._options.Tokenizer;if(this._tokenizer=new i(this._options,this),this._cbs.onparserinit)this._cbs.onparserinit(this)}h.prototype._updatePosition=function(t){if(null===this.endIndex)if(this._tokenizer._sectionStart<=t)this.startIndex=0;else this.startIndex=this._tokenizer._sectionStart-t;else this.startIndex=this.endIndex+1;this.endIndex=this._tokenizer.getAbsoluteIndex()},h.prototype.ontext=function(t){if(this._updatePosition(1),this.endIndex--,this._cbs.ontext)this._cbs.ontext(t)},h.prototype.onopentagname=function(t){if(this._lowerCaseTagNames)t=t.toLowerCase();if(this._tagname=t,!this._options.xmlMode&&t in n)for(var e;(e=this._stack[this._stack.length-1])in n[t];this.onclosetag(e));if(this._options.xmlMode||!(t in a))this._stack.push(t);if(this._cbs.onopentagname)this._cbs.onopentagname(t);if(this._cbs.onopentag)this._attribs={},this._attribssequence=[],this._attribsquotes={}},h.prototype.onopentagend=function(t){if(this._updatePosition(1),this._attribs){if(this._cbs.onopentag)this._cbs.onopentag(this._tagname,this._attribs,this._attribsquotes,this._attribssequence,t);r(this._tagname,false),this._attribs=null,this._attribssequence=null,this._attribsquotes=null}if(!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a)this._cbs.onclosetag(this._tagname,true);this._tagname=""},h.prototype.onclosetag=function(t){var e=t.toLowerCase();if(this._updatePosition(1),this._lowerCaseTagNames)t=e;if(r(t,true),this._stack.length&&(!(t in a)||this._options.xmlMode)){var s=this._stack.length-1;while(s>=0&&this._stack[s].toLowerCase()!==e)s--;if(-1!==s)if(this._cbs.onclosetag){s=this._stack.length-s;while(s--){var i=this._stack.pop();if(i.toLowerCase()===e)this._cbs.onclosetag(t);else{if(this._tokenizer.generateTagErrors)this._cbs.onerror(new Error('Тег "'+t+'" пытается закрыть последний открытый тег "'+i+'", названия этих тегов не совпадают.'));this._cbs.onclosetag(null)}}}else this._stack.length=s;else if(this._tokenizer.generateTagErrors)this._cbs.onerror(new Error('Тег "'+t+'" пытается закрыть последний открытый тег "'+this._stack[s]+'", названия этих тегов не совпадают.'))}else if(!this._options.xmlMode&&("br"===t||"p"===t))this.onopentagname(t),this._closeCurrentTag()},h.prototype.onselfclosingtag=function(){if(this._options.xmlMode||this._options.recognizeSelfClosing)this._closeCurrentTag(true);else this.onopentagend()},h.prototype._closeCurrentTag=function(t){var e=this._tagname;if(this.onopentagend(t),this._stack[this._stack.length-1]===e){if(this._cbs.onclosetag)this._cbs.onclosetag(e,false,t);this._stack.pop()}},h.prototype.onattribname=function(t){if(this._lowerCaseAttributeNames)t=t.toLowerCase();this._attribname=t},h.prototype.onattribdata=function(t){this._attribvalue+=t},h.prototype.onattribend=function(t){if(this._cbs.onattribute)this._cbs.onattribute(this._attribname,this._attribvalue);if(this._attribs){if('"'!==t&&"'"!==t)t="";this._attribssequence.push(this._attribname),this._attribs[this._attribname]=this._attribvalue,this._attribsquotes[this._attribname]=t}this._attribname="",this._attribvalue=""},h.prototype.ondotattributeend=function(t){this._attribssequence.push(t)},h.prototype._getInstructionName=function(t){var e=t.search(_),s=e<0?t:t.substr(0,e);if(this._lowerCaseTagNames)s=s.toLowerCase();return s},h.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},h.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},h.prototype.oncomment=function(t){if(this._updatePosition(4),this._cbs.oncomment)this._cbs.oncomment(t);if(this._cbs.oncommentend)this._cbs.oncommentend()},h.prototype.onerror=function(t){if(this._cbs.onerror)this._cbs.onerror(t)},h.prototype.onend=function(){if(this._cbs.onclosetag){var t=this._stack.length;while(t--)this._cbs.onclosetag(null)}if(this._cbs.onend)this._cbs.onend()},h.prototype.reset=function(){if(this._cbs.onreset)this._cbs.onreset();if(this._tokenizer.reset(),this._tagname="",this._attribname="",this._tmplDepth=0,this._attribs=null,this._attribssequence=null,this._attribsquotes=null,this._stack=[],this._cbs.onparserinit)this._cbs.onparserinit(this)},h.prototype.parseComplete=function(t){this.reset(),this.end(t)},h.prototype.write=function(t){this._tokenizer.write(t)},h.prototype.end=function(t){this._tokenizer.end(t)},h.prototype.pause=function(){this._tokenizer.pause()},h.prototype.resume=function(){this._tokenizer.resume()},h.prototype.parseChunk=h.prototype.write,h.prototype.done=h.prototype.end,t.exports=h},function(t,e,s){t.exports=it;var i=0,o=i++,n=i++,r=i++,a=i++,_=i++,h=i++,p=i++,f=i++,c=i++,u=i++,l=i++,b=i++,d=i++,y=i++,g=i++,m=i++,x=i++,S=i++,T=i++,A=i++,C=i++,I=i++,k=i++,w=i++,B=i++,N=i++,v=i++,E=i++,M=i++,z=i++,q=i++,D=i++,L=i++,P=i++,O=i++,V=i++,Q=i++,R=i++,W=i++,Y=i++,X=i++,$=i++,j=i++,F=i++,G=i++,H=0,J=H++,K=H++,U=H++;function Z(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function tt(e,s,i){var o=e.toLowerCase();if(e===o)return function(t){if(t===o)this._state=s;else this._state=i,this._index--};else return function(t){if(t===o||t===e)this._state=s;else this._state=i,this._index--}}function et(e,s){var i=e.toLowerCase();return function(t){if(t===i||t===e)this._state=s;else this._state=r,this._index--}}function st(t){return/(^[\wА-я]([\wА-я.:\-]?)+$)/gi.test(t)}function it(t,e){this._state=o,this._returnToState=o,this._buffer="",this._sectionStart=0,this._index=0,this._tmplDepth=0,this._bufferOffset=0,this._special=J,this._cbs=e,this._running=true,this._ended=false,this._ignoreAttrib=false,this._xmlMode=!!(t&&t.xmlMode),this._decodeEntities=!!(t&&t.decodeEntities),this.failOnInnerCurlyBrace=t.failOnInnerCurlyBrace,this.generateTagErrors=t.generateTagErrors}it.prototype.ignoreAttrib=function(t){this._ignoreAttrib=t},it.prototype._stateText=function(t){if("<"===t){if(this._index>this._sectionStart)this._cbs.ontext(this._getSection());this._state=n,this._sectionStart=this._index}else if("{"===t)this._state=O,this._returnToState=o},it.prototype._stateBeforeTagName=function(t){if("/"===t)this._state=_;else if("<"===t)this._cbs.ontext(this._getSection()),this._sectionStart=this._index;else if(">"===t||this._special!==J||Z(t))this._state=o;else if("!"===t)this._state=g,this._sectionStart=this._index+1;else if("?"===t)this._state=x,this._sectionStart=this._index+1;else this._state=!this._xmlMode&&("s"===t||"S"===t)?k:r,this._sectionStart=this._index},it.prototype._stateInTagName=function(t){if("/"===t||">"===t||"{"===t||Z(t))if(st(this._getSection()))this._emitToken("onopentagname"),this._state=f,this._index--;else this._state=o,this._sectionStart=this._sectionStart-1},it.prototype._stateBeforeCloseingTagName=function(t){if(Z(t));else if(">"===t)this._state=o;else if(this._special!==J)if("s"===t||"S"===t)this._state=w;else this._state=o,this._index--;else this._state=h,this._sectionStart=this._index},it.prototype._stateInCloseingTagName=function(t){if(">"===t||Z(t))this._emitToken("onclosetag"),this._state=p,this._index--},it.prototype._stateAfterCloseingTagName=function(t){if(">"===t)this._state=o,this._sectionStart=this._index+1},it.prototype._stateBeforeAttributeName=function(t){if(">"===t)this._cbs.onopentagend(),this._state=o,this._sectionStart=this._index+1;else if("/"===t)this._state=a;else if("{"===t)this._returnToState=f,this._state=O,this._sectionStart=this._index;else if("}"===t&&"{"===this._buffer[this._sectionStart])this._cbs.ondotattributeend(this._buffer.substring(this._sectionStart,this._index+1));else if(!Z(t))this._state=c,this._sectionStart=this._index},it.prototype._stateInSelfClosingTag=function(t){if(">"===t)this._cbs.onselfclosingtag(),this._state=o,this._sectionStart=this._index+1;else if(!Z(t))this._state=f,this._index--},it.prototype._stateInAttributeName=function(t){if("="===t||"/"===t||">"===t||Z(t))this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=u,this._index--},it.prototype._stateAfterAttributeName=function(t){if("="===t)this._state=l;else if("/"===t||">"===t)this._cbs.onattribend(),this._state=f,this._index--;else if(!Z(t))this._cbs.onattribend(),this._state=c,this._sectionStart=this._index},it.prototype._stateBeforeAttributeValue=function(t){if('"'===t)this._state=b,this._sectionStart=this._index+1;else if("'"===t)this._state=d,this._sectionStart=this._index+1;else if(!Z(t)){var e=this._buffer.slice(Math.max(this._index-100,0),Math.min(this._index+100,this._buffer.length));this._cbs.onerror(new Error("Quotes are missing in the attribute value. Error was found here: "+e)),this._state=y,this._sectionStart=this._index,this._index--}},it.prototype._stateInAttributeValueDoubleQuotes=function(t){if('"'===t)!this._ignoreAttrib&&this._emitToken("onattribdata"),this._cbs.onattribend(t),this._state=f;else if("{"===t)this._state=O,this._returnToState=b},it.prototype._stateInAttributeValueSingleQuotes=function(t){if("'"===t)!this._ignoreAttrib&&this._emitToken("onattribdata"),this._cbs.onattribend(t),this._state=f;else if("{"===t)this._state=O,this._returnToState=d},it.prototype._stateInAttributeValueNoQuotes=function(t){if(Z(t)||">"===t)!this._ignoreAttrib&&this._emitToken("onattribdata"),this._cbs.onattribend(t),this._state=f,this._index--;else if("{"===t)this._state=O,this._returnToState=y},it.prototype._stateBeforeDeclaration=function(t){this._state="-"===t?S:m},it.prototype._stateInDeclaration=function(t){if(">"===t)this._cbs.ondeclaration(this._getSection()),this._state=o,this._sectionStart=this._index+1},it.prototype._stateInProcessingInstruction=function(t){if(">"===t)this._cbs.onprocessinginstruction(this._getSection()),this._state=o,this._sectionStart=this._index+1},it.prototype._stateBeforeComment=function(t){if("-"===t)this._state=T,this._sectionStart=this._index+1;else this._state=m},it.prototype._stateInComment=function(t){if(this._index-this._sectionStart===9&&"WS-EXPERT"==this._buffer.substring(this._sectionStart,this._index))this._state=A;else if("-"===t)this._returnToState=T,this._state=C},it.prototype._stateInWsExpertComment=function(t){if("-"===t&&"WS-EXPERT-"===this._buffer.substring(this._index-10,this._index))this._returnToState=A,this._state=I},it.prototype._stateAfterComment1=function(t){if("-"===t)this._state=I;else this._state=this._returnToState},it.prototype._stateAfterComment2=function(t){if(">"===t)this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=o,this._sectionStart=this._index+1;else if("-"!==t)this._state=this._returnToState},it.prototype._stateBeforeSpecial=function(t){if("c"===t||"C"===t)this._state=B;else if("t"===t||"T"===t)this._state=R;else this._state=r,this._index--},it.prototype._stateBeforeSpecialEnd=function(t){if(this._special===K&&("c"===t||"C"===t))this._state=z;else if(this._special===U&&("t"===t||"T"===t))this._state=$;else this._state=o},it.prototype._stateBeforeScript1=et("R",N),it.prototype._stateBeforeScript2=et("I",v),it.prototype._stateBeforeScript3=et("P",E),it.prototype._stateBeforeScript4=et("T",M),it.prototype._stateBeforeScript5=function(t){if("/"===t||">"===t||Z(t))this._special=K;this._state=r,this._index--},it.prototype._stateAfterScript1=tt("R",q,o),it.prototype._stateAfterScript2=tt("I",D,o),it.prototype._stateAfterScript3=tt("P",L,o),it.prototype._stateAfterScript4=tt("T",P,o),it.prototype._stateAfterScript5=function(t){if(">"===t||Z(t))this._special=J,this._state=h,this._sectionStart=this._index-6,this._index--;else this._state=o},it.prototype._stateBeforeTmpl=function(t){if("{"===t)this._state=V,this._expressionStart=this._index-6;else this._state=this._returnToState,this._index--},it.prototype._stateInTmpl=function(t){if("{"===t&&"{"===this._buffer[this._index-1]){if(this._tmplDepth++,this.failOnInnerCurlyBrace)this._cbs.onerror(new Error("You haven't closed curly brace expression. "+this._buffer.slice(this._expressionStart,this._index)),this._state)}else if("}"===t)this._state=Q},it.prototype._stateAfterTmpl=function(t){if("}"===t)if(0===this._tmplDepth){if(this._state=this._returnToState,this._returnToState===f)this._index--}else this._tmplDepth--,this._state=V;else this._state=V,this._index--},it.prototype._stateBeforeStyle1=et("Y",W),it.prototype._stateBeforeStyle2=et("L",Y),it.prototype._stateBeforeStyle3=et("E",X),it.prototype._stateBeforeStyle4=function(t){if("/"===t||">"===t||Z(t))this._special=U;this._state=r,this._index--},it.prototype._stateAfterStyle1=tt("Y",j,o),it.prototype._stateAfterStyle2=tt("L",F,o),it.prototype._stateAfterStyle3=tt("E",G,o),it.prototype._stateAfterStyle4=function(t){if(">"===t||Z(t))this._special=J,this._state=h,this._sectionStart=this._index-5,this._index--;else this._state=o},it.prototype._cleanup=function(){if(this._sectionStart<0)this._buffer="",this._index=0,this._bufferOffset+=this._index;else if(this._running){if(this._state===o){if(this._sectionStart!==this._index)this._cbs.ontext(this._buffer.substr(this._sectionStart));this._buffer="",this._index=0,this._bufferOffset+=this._index}else if(this._sectionStart===this._index)this._buffer="",this._index=0,this._bufferOffset+=this._index;else this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart;this._sectionStart=0}},it.prototype.write=function(t){if(this._ended)this._cbs.onerror(Error(".write() after done!"));this._buffer+=t,this._parse()};var ot={};ot[o]=it.prototype._stateText,ot[n]=it.prototype._stateBeforeTagName,ot[r]=it.prototype._stateInTagName,ot[_]=it.prototype._stateBeforeCloseingTagName,ot[h]=it.prototype._stateInCloseingTagName,ot[p]=it.prototype._stateAfterCloseingTagName,ot[a]=it.prototype._stateInSelfClosingTag,ot[f]=it.prototype._stateBeforeAttributeName,ot[c]=it.prototype._stateInAttributeName,ot[u]=it.prototype._stateAfterAttributeName,ot[l]=it.prototype._stateBeforeAttributeValue,ot[b]=it.prototype._stateInAttributeValueDoubleQuotes,ot[d]=it.prototype._stateInAttributeValueSingleQuotes,ot[y]=it.prototype._stateInAttributeValueNoQuotes,ot[g]=it.prototype._stateBeforeDeclaration,ot[m]=it.prototype._stateInDeclaration,ot[x]=it.prototype._stateInProcessingInstruction,ot[S]=it.prototype._stateBeforeComment,ot[T]=it.prototype._stateInComment,ot[A]=it.prototype._stateInWsExpertComment,ot[C]=it.prototype._stateAfterComment1,ot[I]=it.prototype._stateAfterComment2,ot[k]=it.prototype._stateBeforeSpecial,ot[w]=it.prototype._stateBeforeSpecialEnd,ot[B]=it.prototype._stateBeforeScript1,ot[N]=it.prototype._stateBeforeScript2,ot[v]=it.prototype._stateBeforeScript3,ot[E]=it.prototype._stateBeforeScript4,ot[M]=it.prototype._stateBeforeScript5,ot[z]=it.prototype._stateAfterScript1,ot[q]=it.prototype._stateAfterScript2,ot[D]=it.prototype._stateAfterScript3,ot[L]=it.prototype._stateAfterScript4,ot[P]=it.prototype._stateAfterScript5,ot[O]=it.prototype._stateBeforeTmpl,ot[V]=it.prototype._stateInTmpl,ot[Q]=it.prototype._stateAfterTmpl,ot[R]=it.prototype._stateBeforeStyle1,ot[W]=it.prototype._stateBeforeStyle2,ot[Y]=it.prototype._stateBeforeStyle3,ot[X]=it.prototype._stateBeforeStyle4,ot[$]=it.prototype._stateAfterStyle1,ot[j]=it.prototype._stateAfterStyle2,ot[F]=it.prototype._stateAfterStyle3,ot[G]=it.prototype._stateAfterStyle4,it.prototype._parse=function(){while(this._index<this._buffer.length&&this._running){var t=this._buffer.charAt(this._index),e=ot[this._state];if(e)e.call(this,t);else this._cbs.onerror(Error("unknown _state"),this._state);this._index++}this._cleanup()},it.prototype.pause=function(){this._running=false},it.prototype.resume=function(){if(this._running=true,this._index<this._buffer.length)this._parse();if(this._ended)this._finish()},it.prototype.end=function(t){if(this._ended)this._cbs.onerror(Error(".end() after done!"));if(t)this.write(t);if(this._ended=true,this._running)this._finish()},it.prototype._finish=function(){if(this._sectionStart<this._index)this._handleTrailingData();this._cbs.onend()},it.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);if(this._state===T||this._state===C||this._state===I)this._cbs.oncomment(t);else if(this._state!==r&&this._state!==f&&this._state!==l&&this._state!==u&&this._state!==c&&this._state!==d&&this._state!==b&&this._state!==y&&this._state!==h){var e="</maintag>",s=t.indexOf(e);if(s>=0)t=t.substring(0,s);this._cbs.ontext(t)}},it.prototype.reset=function(){it.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},it.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},it.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},it.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1}}])});