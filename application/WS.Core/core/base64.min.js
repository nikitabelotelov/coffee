define("Core/base64",["Core/iconv"],function(o){return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",utf8:"UTF-8",win1251:"WINDOWS-1251",auto:"AUTO",noConvert:"NOCONVERT",encode:function(e,t){var i;if((t=!t||"string"!==typeof t?this.utf8:t.toUpperCase())===this.utf8)e=o.unicode2utf(e);else if(t===this.win1251)e=o.unicode2win(e);else if(t===this.auto)e=o.autoDetect(e,true);else if(t===this.noConvert);else e=encodeURIComponent(e);if("function"!==typeof btoa||t===this.noConvert)i=this._encode(e);else i=btoa(e);return i},decode:function(e,t){var i;if(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),"function"!==typeof atob)i=this._decode(e);else i=atob(e);if((t=!t||"string"!==typeof t?this.utf8:t.toUpperCase())===this.utf8)i=o.utf2unicode(i);else if(t===this.win1251)i=o.win2unicode(i);else if(t===this.auto)i=o.autoDetect(i);else if(t===this.noConvert);else i=decodeURIComponent(i);return i},_encode:function(e){var t="",i=0,o,n,r,f,h,s,a;while(i<e.length){if(f=(o=e.charCodeAt(i++))>>2,h=(3&o)<<4|(n=e.charCodeAt(i++))>>4,s=(15&n)<<2|(r=e.charCodeAt(i++))>>6,a=63&r,isNaN(n))s=a=64;else if(isNaN(r))a=64;t=t+this._keyStr.charAt(f)+this._keyStr.charAt(h)+this._keyStr.charAt(s)+this._keyStr.charAt(a)}return t},_decode:function(e){var t="",i=0,o,n,r,f,h,s,a;while(i<e.length){if(o=(f=this._keyStr.indexOf(e.charAt(i++)))<<2|(h=this._keyStr.indexOf(e.charAt(i++)))>>4,n=(15&h)<<4|(s=this._keyStr.indexOf(e.charAt(i++)))>>2,r=(3&s)<<6|(a=this._keyStr.indexOf(e.charAt(i++))),t+=String.fromCharCode(o),64!=s)t+=String.fromCharCode(n);if(64!=a)t+=String.fromCharCode(r)}return t}}});