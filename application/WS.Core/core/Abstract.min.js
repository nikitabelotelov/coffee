define("Core/Abstract",["Core/core-extend","Core/Abstract.compatible","Core/helpers/Function/shallowClone","Core/EventBus","Core/IoC"],function(t,i,e){var o=t([i],{_$eventBusId:null,_handlers:null,_moduleName:"Core/Abstract",_eventBusChannel:null,_isDestroyed:false,_isInitialized:false,_isAbstractInitialized:false,_subscriptions:null,_subDestroyControls:null,constructor:function t(o,i){if(!(o=o||{}).handlers)o.handlers={};if(this._handlers=this._handlers||(o.handlers&&"object"==typeof o.handlers?e(o.handlers):{}),this._subscriptions=this._subscriptions||[],this._subDestroyControls=this._subDestroyControls||[],!this._options)this._setOptions(o,true);for(var n in this._publish("onInit","onInitComplete","onReady","onDestroy"),o)if(~n.indexOf("on:"))(function(e,t){t.subscribe(e.split("on:")[1],function t(){var i=[];for(var n in arguments)if(arguments.hasOwnProperty(n))i[n]=arguments[n];i=i.concat(o[e][0].args),o[e][0].fn.apply(o.logicParent,i),o.logicParent&&o.logicParent._forceUpdate&&o.logicParent._forceUpdate()})})(n,this);if(!i)this._initInstance()},_initInstance:function(){if(this.$constructor)return;this.init(),this._initComplete(),this._isInitialized=true,this._allowEvents(),this._constructionDone()},init:function(){if(this._isAbstractInitialized)throw new Error('При инициализации компонента "'+(this.getName&&this.getName())+'"  функция init была вызвана более одного раза.');else this._isAbstractInitialized=true;this._notify("onInit")},_initComplete:function(){},_constructionDone:function(){this._notify("onInitComplete")},describe:function(){return"Abstract"},_setCompatibleOptions:function(t,i,n){i=i||[];var e=t.prototype,o="_$",s,r,c,l,a,u,p,f;for(f=0;f<i.length;f++)if((l=i[f]).$protected&&l.$protected._options)for(a in p=l.$protected._options)if(p.hasOwnProperty(a)){if(!s)s={};s[a]=true}if(!(c=s||n.$protected||n.$constructor||n._dotTplFn))return;if(!n.$protected)n.$protected={};if(!n.$protected._options)n.$protected._options={};for(a in r=n.$protected._options,e)if(a.substring(0,2)===o){if(u=a.substring(2),s&&s.hasOwnProperty(u))continue;if(r.hasOwnProperty(u))continue;r[u]=e[a]}}});return o.beforeExtend=function(t,i,n){o.prototype._setCompatibleOptions(t,i,n)},o});