define("Core/detection/isIncognito",["Core/detection"],function(r){function t(e,t){var n=window.RequestFileSystem||window.webkitRequestFileSystem;if(!n)return t();n(window.TEMPORARY,10,function(){e(false)},function(){e(true)})}function n(t,e){if(window.indexedDB&&r.firefox){var n;try{n=window.indexedDB.open("test")}catch(e){return t(true)}return setTimeout(function(){if("done"===n.readyState)return t(!n.result);e()},300)}else if(r.IEVersion>=10){try{if(!window.indexedDB)return t(true)}catch(e){return t(true)}return t(false)}e()}function i(t,e){if(!r.safari)e();try{window.openDatabase(null,null,null,null),t(false)}catch(e){t(true)}}function o(e,t){if(!r.safari)t();e(!navigator.doNotTrack)}function u(t,e){if(window.localStorage&&r.safari){try{window.localStorage.setItem("test",1)}catch(e){return t(true)}return window.localStorage.removeItem("test"),t(false)}e()}function f(e){if("undefined"===typeof window)throw new Error("This feature available only in browser");t(e,function(){n(e,function(){i(e,function(){o(e,function(){u(e,function(){throw new Error("Feature is not supported at this browser")})})})})})}return function e(){return new Promise(function(e,t){try{f(e)}catch(e){t(e)}})}});