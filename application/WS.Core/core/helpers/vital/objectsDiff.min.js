define("Core/helpers/vital/objectsDiff",[],function(){return function e(t,r){var u="created",o="updated",c="deleted",f="unchanged",a="moved",n,i;function p(e,t){if(e===t)return f;if(e!==t&&"undefined"!==typeof e&&"undefined"!==typeof t)return o;if("undefined"==typeof e)return u;if("undefined"==typeof t)return c;return o}function y(e){return"[object Function]"==={}.toString.apply(e)}function d(e){return"[object Array]"==={}.toString.apply(e)}function s(e){return"[object Object]"==={}.toString.apply(e)}function v(e){return!s(e)&&!d(e)}function l(e,t,r,n){for(var f=e.length;f>t;f--)e[f]=JSON.parse(JSON.stringify(e[f-1]));e[t]={},e[t][r]=n}function O(e,t){for(var r in e)if(Object.keys(e[r])[0]==t)return r;return false}function b(e,t){for(var r in e){var n=Object.keys(e[r])[0],f=t[r]&&Object.keys(t[r])[0],i=O(t,n);if(n!=f&&false===i)l(t,r,n,e[r][n]),t[r].type=c}for(var r in t){var n=Object.keys(t[r])[0],f=e[r]&&Object.keys(e[r])[0],i=O(e,n);if(n!=f&&false===i)l(e,r,n,t[r][f]),t[r].type=u;if(n!=f&&false!==i)t[r].type=a,t[r].fromRowNum=i}return m(j(e,t,0))}function j(e,t,r){if(y(e)||y(t))throw"Invalid argument. Function given, object expected.";if(v(e)||v(t))return{type:p(e,t)};var n=false,f={};for(var i in t){if(y(t[i])||t[i]&&void 0!==t[i].type)continue;if((f=j(e[i],t[i],r+1)).type===o)if(n=true,1==r)t.type=o}if(n&&r>1)return{type:o};if(0==r)return t;return f}function m(e){var t=[];if(e.type==f)return t;for(var r in e){if(!e[r].type)continue;var n={};if(n.op=e[r].type,e[r].fromRowNum)n.fromRowNum=e[r].fromRowNum;n.rowNum=r,n.id=Object.keys(e[r])[0],t.push(n)}return t}return b(JSON.parse(JSON.stringify(t)),JSON.parse(JSON.stringify(r)))}});