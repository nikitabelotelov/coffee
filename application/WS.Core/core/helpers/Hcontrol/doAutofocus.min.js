define("Core/helpers/Hcontrol/doAutofocus",["Env/Env","Core/helpers/Hcontrol/isElementVisible"],function(r,u){var n=function(o){function t(o,t){var e;if(o.is(t)&&u(o))e=o;else e=o.find(t).filter(function(o,t){return u(t)});return e}var e;if((e=t(o=$(o),".ws-autofocus")).length){if(e.length>1)r.IoC.resolve("ILogger").info("doAutofocus","Внимание, потенциальная ошибка! В процессе автофокусировки было найдено несколько элементов с классом ws-autofocus")}else{if((e=t(o,".ws-bootup-autofocus")).length)r.IoC.resolve("ILogger").info("doAutofocus","Пожалуйста замените класс ws-bootup-autofocus на класс ws-autofocus");if(e.length>1)r.IoC.resolve("ILogger").info("doAutofocus","Внимание, потенциальная ошибка! В процессе автофокусировки было найдено несколько элементов с классом ws-bootup-autofocus")}return e},o=function(o){return o.querySelectorAll('[ws-autofocus="true"]')},t=function(o){o=$(o);var t=n(o);if(!t.length)t=$(o);else if(!t[0].wsControl)t=$(o);else if(!t[0].wsControl.canAcceptFocus())t=$(o);var e=t[0];if(e&&e.wsControl&&e.wsControl.setActive){if(e.wsControl.activateFirstControl)e.wsControl.activateFirstControl();else e.wsControl.setActive(true);return true}};return t.findAutofocus=n,t.findAutofocusForVDOM=o,t});