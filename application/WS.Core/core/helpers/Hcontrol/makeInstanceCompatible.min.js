define("Core/helpers/Hcontrol/makeInstanceCompatible",["Core/Control","Core/Abstract.compatible","Lib/Control/Control.compatible","Lib/Control/AreaAbstract/AreaAbstract.compatible","Lib/Control/BaseCompatible/BaseCompatible"],function(n,r,i,a,s){var e=["Core/CompoundContainer","Controls/Popup/Compatible/CompoundAreaForOldTpl/CompoundArea","Controls/Popup/Manager/Popup"],o=["Controls/Popup/Compatible/CompoundAreaForNewTpl/CompoundArea"];function p(t){return e.indexOf(t)>=0}function l(t,e){for(var n in e)if(e.hasOwnProperty(n)&&!t[n])t[n]=e[n]}function _(t,e,n){if(l(t,e),t["["+n+"]"]=true,!t._mixins)t._mixins=[]}function u(t){var e=t._container.length?t._container[0]:t._container,n=function(){r._notify.apply(this,["beforeItemEndEdit",Array.prototype.slice.call(arguments,1)])}.bind(t);n.control=t,e.eventProperties=e.eventProperties||{},e.eventProperties["on:beforeitemendedit"]=e.eventProperties["on:beforeitemendedit"]||[],e.eventProperties["on:beforeitemendedit"].push({args:[],fn:n,name:"event",value:"onBeforeItemEndEditHandler"})}function c(o,t,e){_(o,s,"Lib/Control/BaseCompatible/BaseCompatible"),_(o,a,"Lib/Control/AreaAbstract/AreaAbstract.compatible"),_(o,i,"Lib/Control/Control.compatible"),_(o,r,"Core/Abstract.compatible"),o.isCompatibleLayout=function(t){if(!this.$constructor)return false;var e=t&&t.parent&&t.parent.isCompatibleLayout&&t.parent.isCompatibleLayout(t.parent._options);return void 0===e?!!this.$constructor:e},o._saveOptionsBase=o.saveOptions,o.saveOptions=function(t,e){return this._saveOptionsBase(t,e),s.saveOptions.call(this,t,e)},o._getInternalOption=function(t){var e;if(this._internalOptions&&void 0!==this._internalOptions[t])e=this._internalOptions[t];else e=s._getInternalOption.call(this,t);return e},o._compatBaseDestroy=o.destroy,o.destroy=function(){if(o._compatBaseDestroy.apply(this,arguments),!this._isDestroyed)s.destroy.apply(this,arguments),i.destroy.apply(this,arguments)},o._setInternalOptionBase=o._setInternalOption,o._setInternalOption=function(t,e){o._setInternalOptionBase.call(this,t,e),s._setInternalOption.call(this,t,e)},o._setInternalOptionsBase=o._setInternalOptions,o._setInternalOptions=function(t){o._setInternalOptionsBase.call(this,t),s._setInternalOptions.call(this,t)},o._base_blur=o._blur,o._blur=function(){o._base_blur.apply(this,arguments);var t=document.activeElement,e,n=$(t).wsControl();if(n&&n.isActive()&&!n.iWantVDOM)n.setActive(false)},o._getDecOptions=function(){return this._decOptions},o.hasCompatible=function(){return true};var n=o._container;if(o.deprecatedContr)o.deprecatedContr(t||o._options);if(n&&n instanceof Node)if(o._container=$(n),!o._options.element)o._options.element=n;if(!o._decOptions)o._decOptions=o._prepareDecOptions();if(!o.isCompatibleLayout(t||o._options)&&e)o._savedOptions=t||o._options,o._options={};if("EDO3/Opener/Dialog"===o._moduleName&&o._$createdFromCode)u(o)}function f(t){if(t.parent&&o.indexOf(t.parent._moduleName)>=0)return false;if(t.parent&&t.parent.hasCompatible&&t.parent.hasCompatible())return true;if(t.parent&&t.parent._dotTplFn)return true;if(t._logicParent&&t._logicParent.hasCompatible&&t._logicParent.hasCompatible())return true;if(t._logicParent&&t._logicParent._dotTplFn)return true;return t.parent&&t.parent._options?f(t.parent._options):false}var t=function(t,e){if(!n.prototype.__pathedByMandatoryProfessor)n.prototype.__pathedByMandatoryProfessor=true,n.prototype._afterCreateBase=n.prototype._afterCreate,n.prototype._afterCreate=function(t){if(n.prototype._afterCreateBase)n.prototype._afterCreateBase.apply(this,arguments);if(!p(this._moduleName)&&(f(t)||t.iWantBeWS3)){var e={};l(e,t),c(this,e,true),this._doneCompat=true}},n._getInheritOptionsDefault=n._getInheritOptions,n._getInheritOptions=function(t){var e=n._getInheritOptionsDefault(t);if(!e.theme)e.theme="online";return e};else if(t._doneCompat)return;c(t,e),t._doneCompat=true};return t.newWave=true,t});