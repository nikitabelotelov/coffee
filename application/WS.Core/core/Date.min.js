define("Core/Date",["Core/helpers/Date/toSql","Core/helpers/Date/fromSql","Core/helpers/Date/strftime","Core/helpers/i18n/locales","Core/constants","Core/i18n"],function(e,o,r,t,i,n){"use strict";Date.SQL_SERIALIZE_MODE_DATE=void 0,Date.SQL_SERIALIZE_MODE_DATETIME=true,Date.SQL_SERIALIZE_MODE_TIME=false,Date.SQL_SERIALIZE_MODE_AUTO=null,Date.prototype.toSQL=function(t){if(t===Date.SQL_SERIALIZE_MODE_AUTO)t=this._serializeMode;switch(t){case Date.SQL_SERIALIZE_MODE_DATETIME:t=e.MODE_DATETIME;break;case Date.SQL_SERIALIZE_MODE_DATE:t=e.MODE_DATE;break;case Date.SQL_SERIALIZE_MODE_TIME:t=e.MODE_TIME}return e(this,t)},Date.fromSQL=function(t,e){return o(t,e||void 0===e?i.moscowTimeOffset:void 0)},Date.prototype.setSQLSerializationMode=function(t){this._serializeMode=t},Date.prototype.getSQLSerializationMode=function(){return this._serializeMode},Date.prototype.equals=function(t){var e=false;if(t instanceof Date)e=this.getTime()===t.getTime();return e},Date.prototype.rollback=function(t){this.setTime(t)},Date.prototype.strftime=function(t){return r(this,t)},Date.prototype.toServerTime=function(){return this.setMinutes(this.getMinutes()+this.getTimezoneOffset()+i.moscowTimeOffset),this},Date.prototype.setLastMonthDay=function(t){return t=void 0===t?this.getMonth():parseInt(t,10),this.setDate(1),this.setMonth(t+1),this.setDate(0),this};var a=function(){return this||(0,eval)("this")}();if(i.isNodePlatform){var s=(new Date).getTimezoneOffset();Date.prototype._getTimezoneOffset=Date.prototype.getTimezoneOffset,Date.prototype.getTimezoneOffset=function(){var t=a.process&&a.process.domain&&a.process.domain.req&&a.process.domain.req.cookies&&a.process.domain.req.cookies.tz;return parseInt(t||s,10)}}if(n.isEnabled()&&a.Intl)Date.prototype._toLocaleString=Date.prototype.toLocaleString,Date.prototype._toLocaleDateString=Date.prototype.toLocaleDateString,Date.prototype._toLocaleTimeString=Date.prototype.toLocaleTimeString,Date.prototype.toLocaleString=function(t,e){return this._toLocaleString(t||n.getLang()||[],e)},Date.prototype.toLocaleDateString=function(t,e){return this._toLocaleDateString(t||n.getLang()||[],e)},Date.prototype.toLocaleTimeString=function(t,e){return this._toLocaleTimeString(t||n.getLang()||[],e)};return Object.defineProperty(i,"Locales",{configurable:true,get:function(){return t.available}}),Object.defineProperty(i,"Date",{configurable:true,get:function(){return t.current.config}}),Date});