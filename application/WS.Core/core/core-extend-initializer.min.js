define("Core/core-extend-initializer",["Core/helpers/Object/isPlainObject","Core/helpers/Function/shallowClone","Core/core-merge","Core/property-merge"],function(o,p,i,n){var s=[],a=/"REF\((\d+)\)"/g,l=/"CUSTOMTYPE\((\d+)\)"/g,c=/"\+INF"/g,f=/"\-INF"/g,u=/"UNDEF!"/g,y=/^[_a-zA-Z][_a-zA-Z0-9]*$/,g=function(e){return!!("function"===typeof e||e&&"object"===typeof e&&!o(e)&&!Array.isArray(e))},h=function(e){if((s[s.length]=e).prototype&&e.prototype.isCustomType)return"CUSTOMTYPE("+(s.length-1)+")";else return"REF("+(s.length-1)+")"},d=function(e,t){if(t&&"object"===typeof t){var r;for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(g(n))(r=r||p(t))[i]=h(n)}if(r)return r}if(t===1/0)return"+INF";else if(t===-1/0)return"-INF";else if(!isNaN(Number(e))&&Number(e)>=0&&void 0===t)return"UNDEF!";else return t},v=function(e,t,r){var i,n;if(g(e))i='"'+h(e)+'"';else i=JSON.stringify(e,d);if(i)i=(i=(i=(i=(i=i.replace(a,"storage[$1]")).replace(l,"new storage[$1]()")).replace(c,"Infinity")).replace(f,"-Infinity")).replace(u,"undefined");if(!y.test(t))t='["'+t+'"]';else t="."+t;if(o(e))if("{}"===i||"[]"===i)r.push("this"+t+"= this"+t+" || "+i+";");else r.push("compVal = "+i+";"),r.push("this"+t+" !== undefined ? propertyMerge(compVal, this"+t+") : this"+t+"= compVal;");else r.push("this"+t+"="+i+";")},N=function(e){var t=["var compVal;"];for(var r in e.$protected)if(e.$protected.hasOwnProperty(r))v(e.$protected[r],r,t);return new Function("propertyMerge","storage",t.join("\n"))},e=function(e,t){var r;t._initializer=function(){if(e&&e._initializer)e._initializer.call(this,n,s);(r=r||N(t)).call(this,n,s)}},r=function(e){var t;if(e)if(e.prototype._initializer){var r={};e.prototype._initializer.call(r,n),t=r}else t=i(_(e.superclass&&e.superclass.$constructor),e.prototype.$protected&&e.prototype.$protected._options||{},{clone:true});else t={};return t},_=function(e,t){if(e)return F(e,t,r(e));return{}},F=function(e,t,r){var i=r&&r._options||{};if(n(t,i),e.prototype._contentAliasing)i=e.prototype._contentAliasing.apply(r,[i,i]);return i};return{build:N,extend:e,call:r,getInstanceOptions:_,getInstanceOptionsByDefaults:F}});