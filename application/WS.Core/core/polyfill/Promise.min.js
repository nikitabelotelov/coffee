(function(i){var e=i["Promise"],t=e&&"resolve"in e&&"reject"in e&&"all"in e&&"race"in e&&(new e(function(e){n=e}),"function"===typeof n),n,r,f=function(e,t,n){if("undefined"===typeof r&&"undefined"===typeof window){var o=i.requirejs;if(o&&o.defined("Core/core-debug"))r=o("Core/core-debug")}if("undefined"!==typeof r&&true===t._logCallbackExecutionTime)return r.methodExecutionTime(e,t,n);else return e.apply(t,n)};if("undefined"!==typeof exports&&exports)exports.Promise=t?e:x,exports.Polyfill=x;else{if("function"===typeof define&&define.amd)define(function(){return t?e:x});if(!t)i["Promise"]=x}var o="pending",u="sealed",c="fulfilled",a="rejected",s=function(){};function l(e){return"[object Array]"===Object.prototype.toString.call(e)}var h="undefined"!==typeof setImmediate?setImmediate:setTimeout,d=[],p=function(){if("function"===typeof getPromiseAsyncQueue)return getPromiseAsyncQueue();else return d};function y(){for(var e=p(),t=0;t<e.length;t++)e[t][0](e[t][1]);e.length=0,e.timer=false}function m(e,t){var n=p();if(n.push([e,t]),!n.timer)n.timer=true,h(y,0)}function w(e,t){function n(e){g(t,e)}function o(e){P(t,e)}try{e(n,o)}catch(e){o(e)}}function v(e){var t=e.owner,n=t.state_,o=t.data_,i=e[n],r=e.then;if("function"===typeof i){n=c;try{o=f(i,i,[o])}catch(e){P(r,e)}}if(!_(r,o)){if(n===c)g(r,o);if(n===a)P(r,o)}}function _(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"===typeof n||"object"===typeof n)){var e=n.then;if("function"===typeof e)return e.call(n,function(e){if(!o)if(o=true,n!==e)g(t,e);else b(t,e)},function(e){if(!o)o=true,P(t,e)}),true}}catch(e){if(!o)P(t,e);return true}return false}function g(e,t){if(e===t||!_(e,t))b(e,t)}function b(e,t){if(e.state_===o)e.state_=u,e.data_=t,m(j,e)}function P(e,t){if(e.state_===o)e.state_=u,e.data_=t,m(E,e)}function T(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)v(t[n])}function j(e){e.state_=c,T(e)}function E(e){e.state_=a,T(e)}function x(e){if("function"!==typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof x===false)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],w(e,this)}x.prototype={constructor:x,state_:o,then_:null,data_:void 0,_logCallbackExecutionTime:false,then:function(e,t){var n={owner:this,then:new this.constructor(s),fulfilled:e,rejected:t};if(this.state_===c||this.state_===a)m(v,n);else this.then_.push(n);return n.then},catch:function(e){return this.then(null,e)},logCallbackExecutionTime:function(e){this._logCallbackExecutionTime=!!e}},x.all=function(u){var e=this;if(!l(u))throw new TypeError("You must pass an array to Promise.all().");return new e(function(n,e){var o=[],i=0;function t(t){return i++,function(e){if(o[t]=e,!--i)n(o)}}for(var r=0,f;r<u.length;r++)if((f=u[r])&&"function"===typeof f.then)f.then(t(r),e);else o[r]=f;if(!i)n(o)})},x.race=function(i){var e=this;if(!l(i))throw new TypeError("You must pass an array to Promise.race().");return new e(function(e,t){for(var n=0,o;n<i.length;n++)if((o=i[n])&&"function"===typeof o.then)o.then(e,t);else e(o)})},x.resolve=function(t){var e=this;if(t&&"object"===typeof t&&t.constructor===e)return t;return new e(function(e){e(t)})},x.reject=function(n){var e;return new this(function(e,t){t(n)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);