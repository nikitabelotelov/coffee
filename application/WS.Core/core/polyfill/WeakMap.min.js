(function(e){"use strict";if(e.WeakMap)return;var n=Object.prototype.hasOwnProperty,o=function(e,t,r){if(Object.defineProperty)Object.defineProperty(e,t,{configurable:true,writable:true,value:r});else e[t]=r};function u(e){return Object(e)===e}e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id",t("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function i(e,t){if(!u(e)||!n.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function t(e){return e+"_"+r()+"."+r()}function r(){return Math.random().toString().substring(2)}return o(e.prototype,"delete",function(e){if(i(this,"delete"),!u(e))return false;var t=e[this._id];if(t&&t[0]===e)return delete e[this._id],true;return false}),o(e.prototype,"get",function(e){if(i(this,"get"),!u(e))return;var t=e[this._id];if(t&&t[0]===e)return t[1];return}),o(e.prototype,"has",function(e){if(i(this,"has"),!u(e))return false;var t=e[this._id];if(t&&t[0]===e)return true;return false}),o(e.prototype,"set",function(e,t){if(i(this,"set"),!u(e))throw new TypeError("Invalid value used as weak map key");var r=e[this._id];if(r&&r[0]===e)return r[1]=t,this;return o(e,this._id,[e,t]),this}),o(e,"_polyfill",true),e}()})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this);