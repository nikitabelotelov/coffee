define("Core/polyfill/PromiseAPIDeferred",["require","exports","Core/Deferred","Core/polyfill"],function(n,e,t){"use strict";function r(e){var r=(new t).addCallback(e);return this.then(function(e){if(e instanceof Error)return void r.errback(e);r.callback(e)}),r}function o(e){var r=(new t).addErrback(e);return this.catch(function(e){return r.errback(e)}),r}function c(e,r){var n=(new t).addCallbacks(e,r);return this.then(function(e){if(e instanceof Error)return void n.errback(e);n.callback(e)},function(e){return n.errback(e)}),n}function i(e){var r=(new t).addBoth(e);return this.then(function(e){if(e instanceof Error)return void r.errback(e);r.callback(e)},function(e){return r.errback(e)}),r}function u(){throw new Error("Нельзя вызвать метод callback у Promise")}function a(){throw new Error("Нельзя вызвать метод errback у Promise")}function l(e){if(e instanceof Promise)throw new Error("Нельзя вызвать метод dependOn у Promise");var n=function(e){return e},t=function(e){throw e},r=new Promise(function(e,r){n=e,t=r});return e.addCallbacks(function(e){return n(e),e},function(e){return t(e),e}),r}function f(){return this.then(function(e){return e},function(e){throw e})}function s(){return false}function d(e){if(void 0===e)e=false;return true}function v(){throw new Error("Вызыван метод cancel у Promise")}function b(){h("Вызыван метод getResult у Promise")}function k(){h("Вызыван метод isSuccessful у Promise")}function h(r){new Promise(function(e,r){n(["Core/IoC"],e,r)}).then(function(e){e.resolve("ILogger").warn("Core/polyfill/PromiseAPIDeferred",r)})}Object.defineProperty(e,"__esModule",{value:true}),Object.defineProperties(Promise.prototype,{addCallback:{value:r},addCallbacks:{value:c},addErrback:{value:o},addBoth:{value:i},callback:{value:u},cancel:{value:v},createDependent:{value:f},dependOn:{value:l},errback:{value:a},getResult:{value:b},isCallbacksLocked:{value:s},isReady:{value:d},isSuccessful:{value:k}})});