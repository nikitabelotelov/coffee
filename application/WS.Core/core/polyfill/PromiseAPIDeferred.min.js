define("Core/polyfill/PromiseAPIDeferred",["require","exports","Core/Deferred","Core/polyfill"],function(n,e,t){"use strict";function r(e){var r;return P(this,(new t).addCallback(e))}function o(e){var r;return P(this,(new t).addErrback(e))}function u(e,r){var n;return P(this,(new t).addCallbacks(e,r))}function i(e){var r;return P(this,(new t).addBoth(e))}function a(){throw new Error("Нельзя вызвать метод callback у Promise")}function c(){throw new Error("Нельзя вызвать метод errback у Promise")}function l(e){if(e instanceof Promise)throw new Error("Нельзя вызвать метод dependOn у Promise");var n,t,r=new Promise(function(e,r){n=e,t=r});return e.addCallbacks(function(e){return n(e),e},function(e){return t(e),e}),r}function f(){return this.then(function(e){return e},function(e){throw e})}function s(){return false}function d(e){if(void 0===e)e=false;return true}function v(){throw new Error("Вызыван метод cancel у Promise")}function b(){w("Вызыван метод getResult у Promise")}function k(){w("Вызыван метод isSuccessful у Promise")}function w(r){new Promise(function(e,r){n(["Core/IoC"],e,r)}).then(function(e){e.resolve("ILogger").warn("Core/polyfill/PromiseAPIDeferred",r)})}function P(e,r){return e.then(function(e){if(e instanceof Error)return void r.errback(e);r.callback(e)},function(e){r.errback(e)}),r}Object.defineProperty(e,"__esModule",{value:true}),Object.defineProperties(Promise.prototype,{addCallback:{value:r},addCallbacks:{value:u},addErrback:{value:o},addBoth:{value:i},callback:{value:a},cancel:{value:v},createDependent:{value:f},dependOn:{value:l},errback:{value:c},getResult:{value:b},isCallbacksLocked:{value:s},isReady:{value:d},isSuccessful:{value:k}})});