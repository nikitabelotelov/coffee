(function(t){function e(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function n(){this.listeners={}}function o(){var t=n.call(this)||this;t.aborted=false,t.onabort=null}function i(){this.signal=new o}if(n.prototype.addEventListener=function(t,e){if(!(t in this.listeners))this.listeners[t]=[];this.listeners[t].push(e)},n.prototype.removeEventListener=function(t,e){if(!(t in this.listeners))return;for(var n=this.listeners[t],o=0,i=n.length;o<i;o++)if(n[o]===e)return void n.splice(o,1)},n.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return;for(var n=this,t=function(t){setTimeout(function(){t.call(n,e)})},o=this.listeners[e.type],i=0,r=o.length;i<r;i++)t(o[i]);return!e.defaultPrevented},i.prototype.dispatchEvent=function(t){if("abort"===t.type)if(this.aborted=true,"function"===typeof this.onabort)this.onabort.call(this,t);n.prototype.dispatchEvent.call(this,t)},i.prototype.toString=function(){return"[object AbortSignal]"},e(o,n),i.prototype.abort=function(){var e;try{e=new Event("abort")}catch(t){if("undefined"!==typeof document)(e=document.createEvent("Event")).initEvent("abort",false,false);else e={type:"abort",bubbles:false,cancelable:false}}this.signal.dispatchEvent(e)},i.prototype.toString=function(){return"[object AbortController]"},!t.AbortController)t.AbortController=i,t.AbortSignal=o})(this||(0,eval)("this"));