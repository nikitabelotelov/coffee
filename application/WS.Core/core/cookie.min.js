define("Core/cookie",["require","exports","Core/constants"],function(e,r,s){"use strict";var p=24*60*60*1e3,i;function c(){return process&&process.domain&&process.domain.req||{}}function u(e,r,i){var o=i.expires?"; expires="+i.expires:"",n=i.path?"; path="+i.path:"",t=i.domain?"; domain="+i.domain:"",s=i.secure?"; secure":"";return[e,"=",encodeURIComponent(r),o,n,t,s].join("")}return{get:function(e){if(s.isNodePlatform||s.isServerScript){var r=c();return r.cookies?r.cookies[e]:null}var i=null;if(document.cookie)for(var o=document.cookie.split(";"),n=void 0,t=0;t<o.length;t++)if((n=String(o[t]).trim()).substring(0,e.length+1)===e+"="){i=decodeURIComponent(n.substring(e.length+1));break}return i},set:function(e,r,i){var o=Object.assign({},i),n=r;if(s.isServerScript)throw new Error("Set cookie on server is not supported");if(null===n)n="",o.expires=-1;if(o.expires){var t=void 0;if("number"===typeof o.expires)(t=new Date).setTime(t.getTime()+o.expires*p);else if(o.expires.toUTCString)t=o.expires;else throw new TypeError('Option "expires" should be a Number or Date instance');o.expires=t}if(s.isNodePlatform)process.domain.res.cookie(e,r,o);else o.expires=o.expires&&o.expires.toUTCString(),document.cookie=u(e,r,o)}}});