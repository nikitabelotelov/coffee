define("Browser/_Event/Server/_class/Notifier",["require","exports","Env/Event","Browser/_Event/Server/ResponseConverter","Browser/_Event/Server/_class/logger/WatchDogAggregator"],function(e,t,n,i,r){"use strict";var s,o;Object.defineProperty(t,"__esModule",{value:true}),(o=s||(s={}))["READY"]="onready",o["DISCONNECT"]="ondisconnect";var a=function(){function e(e){if(this.watcher=e,this.readyStatuses={},!e)this.watcher=new r.WatchDogAggregator}return e.prototype.setWatcher=function(e){this.watcher=e},e.prototype.fire=function(e,t,r){if(this.isSkip(e,t))return;var s;if(r)s=i(r);this.watcher.logEvent(e,t,s),n.Bus.channel(e).notify(t,s,r)},e.prototype.isSkip=function(e,t){if(t!==s.READY&&t!==s.DISCONNECT)return false;if(t===s.READY&&this.readyStatuses[e])return true;if(t===s.READY)this.readyStatuses[e]=true,n.Bus.channel(e).setEventQueueSize(s.READY,1);if(t===s.DISCONNECT)this.readyStatuses[e]=false,n.Bus.channel(e).setEventQueueSize(s.READY,0);return false},e}();t.Notifier=a});