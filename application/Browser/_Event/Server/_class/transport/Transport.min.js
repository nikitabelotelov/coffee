define("Browser/_Event/Server/_class/transport/Transport",["require","exports","Browser/_Event/Server/_class/logger/WatchDogAggregator"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function e(){this.watcher=new r.WatchDogAggregator,this.messageHandler=this.messageHandler.bind(this)}return e.prototype.messageHandler=function(e){if(!("event-type"in e.headers))return;var t=e.headers["event-type"].toLocaleLowerCase();this.watcher.logStomp(e),this.delivery&&this.delivery.deliver(t,"onmessage",e.body)},e.prototype.destructor=function(){this.delivery&&this.delivery.destroy()},e.prototype.setDelivery=function(e){this.delivery=e},e.prototype.setWatchDog=function(e){this.watcher=e},e}();t.Transport=s});