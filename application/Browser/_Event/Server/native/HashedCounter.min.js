define("Browser/_Event/Server/native/HashedCounter",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var i=function(){function t(t){if(void 0===t)t=true;if(this.counter=Object.create(null),this.list=[],!t)this.add=this.addWithoutCount.bind(this)}return t.prototype.add=function(t){var e=this.counter[t.hash()]||0;e+=1,this.counter[t.hash()]=e,this.list.push(t)},t.prototype.addWithoutCount=function(t){var e;if((this.counter[t.hash()]||0)>0)return;this.counter[t.hash()]=1,this.list.push(t)},t.prototype.remove=function(e){var t=this.counter[e.hash()]||0;if(0===t)return;if(t-=1,0===(this.counter[e.hash()]=t))return this.list=this.list.filter(function(t){return t.hash()!==e.hash()}),void delete this.counter[e.hash()];var i=this.list.indexOf(e);if(i>-1)return void this.list.splice(i,1);var r=-1,s=0;while(-1===r&&s<this.list.length){var h;if(this.list[s].hash()===e.hash())r=s;s+=1}if(r>-1)this.list.splice(r,1)},t.prototype.has=function(t){return!!this.counter[t.hash()]},t.prototype.getSubscribes=function(){return this.list.slice()},t.prototype.getByName=function(t){for(var e=[],i=0,r=this.list;i<r.length;i++){var s=r[i];if(s.getChannelName()!==t)continue;e.push(s)}return e},t.prototype.getCount=function(t){return this.counter[t.hash()]||0},t.prototype.clear=function(){this.list=[],this.counter=Object.create(null)},t}();e.HashedCounter=i});