define("Browser/_Event/Server/native/_IndexedDB/Reader",["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var t=function(){function e(e,r,t){this.db=e,this.storeName=r,this.adapter=t}return e.prototype.query=function(){for(var r=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var u=this.adapter.query.apply(this.adapter.query,e.slice());return new Promise(function(n,e){var o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).openCursor(u.getKeyRange()),i=[];o.onsuccess=function(e){var r=o.result,t;if(!r)return n(i);if(r.value)i.push(r.value);r.continue()},o.onerror=e}).then(function(e){var r=u.getFilter();if(!r)return e;return e.filter(r)})},e}();r.Reader=t});