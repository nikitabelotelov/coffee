define("Browser/_Event/Server/DebugUtils",["require","exports"],function(i,e){"use strict";var n;return function(e){function n(){if("function"!==typeof Promise)return;var t=function(e){var n="";if(e["headers"]&&e["headers"]["event-type"])n=e["headers"]["event-type"];console.log("[EventLog]",new Date(e.timestamp).toLocaleString(),n,e)},o=function(e,n){e.query(n).then(function(e){e.forEach(t)})},a;window["sharedBusLog"]=function(r){if(a)return void o(a,r);i(["Browser/_Event/Server/native/_IndexedDB"],function(e){var n=e.Connector,t=e.AdapterStomp;n.connect(n.DB_DEBUG,n.DEBUG_STORE_NAME,new t).addCallback(function(e){a=e.createReader(),o(a,r)})})}}var t=false;function r(){if(t)return;t=true,i(["Browser/_Event/Server/Bus","Browser/_Event/Server/_class/logger/ConsoleWatchDog"],function(e,n){e["addWatchDog"](new n.ConsoleWatchDog)})}function o(){if(!window)return;n(),window["sharedBusWatch"]=r}e.attachDebugFn=o}(n||(n={})),n});