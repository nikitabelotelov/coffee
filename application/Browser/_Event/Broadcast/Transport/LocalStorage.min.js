define("Browser/_Event/Broadcast/Transport/LocalStorage",["require","exports","Browser/Storage","Env/Env"],function(e,t,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n="TabMessage",s={},i=function(){function e(e){var r=this;this.channel=e,this.storage=new o.LocalStorage(n,void 0,false),this.storage.subscribe("onChange",function(e,t,o){r.channel.notify(t,o)})}return e.prototype.notify=function(e,t){var o=this;if(this.storage.setItem(e,t),!r.detection.isIE)return this.storage.removeItem(e);if(s[e])clearTimeout(s[e]);s[e]=setTimeout(function(){o.storage.removeItem(e)},500)},e.prototype.destroy=function(){this.storage.destroy()},e}();t.LocalStorageTransport=i});