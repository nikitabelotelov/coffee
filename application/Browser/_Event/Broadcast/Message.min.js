define("Browser/_Event/Broadcast/Message",["require","exports","Env/Event","Env/Constants","Core/helpers/createGUID","Browser/_Event/Broadcast/Transport/LocalStorage","Browser/_Event/Broadcast/Transport/BroadCast","Browser/_Event/Broadcast/Transport/Fake","Browser/_Event/Broadcast/FakeMessage"],function(t,r,e,n,s,o,a,i,c){"use strict";Object.defineProperty(r,"__esModule",{value:true});var u="TabMessage",h=function(){if(!n.constants.isBrowserPlatform)return i.FakeTransport;if("undefined"!==typeof BroadcastChannel)return a.BroadCastTransport;return o.LocalStorageTransport},f,p=function(){if(!f)f=h();return f},l=function(){function t(){this._channel=e.Bus.channel(u+"-"+s());var t=p();this._transport=new t(this._channel)}return t.prototype.destroy=function(){this._transport.destroy(),this._channel.unsubscribeAll(),this._channel.destroy()},t.prototype.subscribe=function(t,r){return this._channel.subscribe(t,r,this),this},t.prototype.once=function(t,r){return this._channel.once(t,r,this),this},t.prototype.unsubscribe=function(t,r){return this._channel.unsubscribe(t,r),this},t.prototype.notify=function(t,r){if(void 0==r)r=""+r;this._transport.notify(t,r)},t}(),d=n.constants.isBrowserPlatform?l:c.default;r.default=d});