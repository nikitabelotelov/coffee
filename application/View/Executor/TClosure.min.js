define("View/Executor/TClosure",["require","exports","Core/Serializer","Core/i18n","Core/IoC","Core/constants","View/config","View/Executor/Markup","View/Executor/Expressions","View/Executor/Utils"],function(o,e,n,r,i,t,a,u,c,f){var l;function s(){if(l)return l;else return l=o("View/decorators")}function p(){return i.resolve("ILogger").error("Использование контентной опции компонента или шаблона в качестве строки","Необходимо использовать контентные опции с помощью конструкции ws:partial или "+"обратитесь в отдел Инфраструктура представления."),this.join("")}var d=function e(r,t){if(r&&"object"===typeof r)r.__lastGetterPath=t;for(var n=0;n<t.length;n++){var o=t[n];if(void 0!=r){if(r.has&&r.get&&r.has(o))r=r.get(o);else if("_options"!==o||r[o])r=r[o]}else return}return r},g=function e(r,t,n){var o=t.pop(),i=d(r,t);if(i){if(i.set)i.set(o,n);else i[o]=n;return true}return false},m=["_parent"],_=function e(r){return-1===m.indexOf(r)},b=function e(r,t,n,o){if(o.key)t[o.key]=n;return t[o.value]=r,t},v=function e(r){return Object.create(r&&r._getRawData?r._getRawData():r||null)},w=function e(r){return"[object Function]"===Object.prototype.toString.call(r)},y=function e(r){return"[object Object]"===Object.prototype.toString.call(r)},S=function e(r){if(void 0===r||null===r)return"";else{if(x(r))return j[r._moduleName](r);return r}},O=function e(o,i){var r=function e(r){var t;if("object"===typeof o){for(var n in t=Object.create(o||{}),o)if(o.hasOwnProperty(n))t[n]=o[n];if(!t["__$$__originObject"])Object.defineProperty(t,"__$$__originObject",{value:o,enumerable:false,configurable:false})}else t=o;return r(t,i)};return r.__$unite=true,r},h=function(e,r){var t=n.getFuncFromDeclaration(e?e.trim():e);if("function"===typeof t&&Object.keys(r).length)t=t.bind(void 0,r);if("function"!==typeof t)i.resolve("ILogger").error('Function "'+e+'" has not been loaded yet! Add this function to the module definition');return t},C=function e(r){return String(r)},j={"Types/collection:Enum":C,"Data/collection:Enum":C,"Data/_collection/Enum":C,"WS.Data/Type/Enum":C},E=function(e,r,t){t.call(this,r)},x=function e(r){return r&&r._moduleName&&j.hasOwnProperty(r._moduleName)},P=function(e,r,t){if(!e["___$patched$"+t]){var n=e[t];if(void 0!==n){if(y(r))r=Object.create(r);r[t]=n}else e["___$wasundef$"+t]=true;e[t]=r,e["___$patched$"+t]=true}else{if(!e["___$wasundef$"+t]){if(y(r))r=Object.create(r);r[t]=e[t][t]}e[t]=r}return e[c.Scope.propertyNameToIdentifyIsolatedScope]=t,e},F=function(e){return"name"!==e},$=function(e){var r={};if(!y(e))return e;for(var t in e)if(e.hasOwnProperty(t)&&F(t))r[t]=e[t];return r},T=function e(r,t,n){if(n.__lastGetterPath&&t.message.indexOf("apply")>-1)i.resolve("ILogger").error("Template "+r+" failed to generate html.",new Error("Field "+n.__lastGetterPath.toString().replace(/,/g,".")+" is not a function!"));i.resolve("ILogger").error("Template "+r+" failed to generate html.",t,t)},V=function e(){try{if("undefined"!==typeof window)throw new Error("Использование функции в качестве строковой переменной! Необходимо обернуть в тег ws:partial. ")}catch(e){}},A=function(e){var r;if(!e)if(t.isNodePlatform){if(!process.domain)r=o("View/Executor/GeneratorCompatible");else if(process.domain.req&&false!==process.domain.req.compatible)r=o("View/Executor/GeneratorCompatible")}else if(t.isServerScript)r=o("View/Executor/GeneratorCompatible");return r=r||(e?u.GeneratorVdom:u.GeneratorText)},D=function e(r,t){var n="";if("undefined"===typeof window)n=r.toString();if((r=r.bind(t)).toStringOrigin=r.toString,r.toString=function(){if("undefined"===typeof window&&n.indexOf("createControl")>-1)V();return r(this)}.bind(t),"undefined"===typeof window)r.toJSON=function(){return"TEMPLATEFUNCTOJSON="+n};return r},G=function e(r,t){return Object.defineProperty(r,"isDataArray",{value:true,configurable:true,enumerable:false,writable:true}),Object.defineProperty(r,"toString",{value:function e(){return i.resolve("ILogger").error("Использование контентной опции компонента или шаблона в качестве строки","Необходимо использовать контентные опции с помощью конструкции ws:partial или "+"обратитесь в отдел Инфраструктура представления. Шаблон: "+t),this.join("")},configurable:true,enumerable:false,writable:true}),r},I=function e(r){var t=o("Core/Sanitize"),n=s()._sanitizeOpts();if("undefined"!==typeof process&&!process.versions)r=f.Common.escapeParenthesis(r);return t(r,n)},e;return{createDataArray:G,isolateScope:P,filterOptions:$,configResolver:f.ConfigResolver,calcParent:f.ConfigResolver.calcParent,wrapUndef:S,getDecorators:s,Sanitize:I,iterators:a.iterators,templateError:T,partialError:V,makeFunctionSerializable:D,isFunction:w,createScope:v,presetScope:b,getter:d,setter:g,rk:r.rk.bind(r),IoC:i,config:a,utils:f.Common,uniteScope:O,plainMerge:f.Common.plainMerge,plainMergeAttr:f.Common.plainMergeAttr,plainMergeContext:f.Common.plainMergeContext,calculateScope:c.Scope.calculateScope,getTypeFunc:h,getMarkupGenerator:A,bindProxy:E,isObject:y,prepareAttrsForFocus:c.Focus.prepareAttrsForFocus,attrExpressions:c.Attr,_isTClosure:true}});