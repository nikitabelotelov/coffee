define("View/Executor/TClosure",["require","exports","Core/Serializer","Core/i18n","Env/Env","View/config","View/Executor/Markup","View/Executor/Expressions","View/Executor/Utils"],function(o,e,n,t,i,r,a,u,c){var f;function l(){if(f)return f;else return f=o("View/decorators")}function s(){return i.IoC.resolve("ILogger").error("Использование контентной опции компонента или шаблона в качестве строки","Необходимо использовать контентные опции с помощью конструкции ws:partial или "+"обратитесь в отдел Инфраструктура представления."),this.join("")}var p=function e(t,r){if(t&&"object"===typeof t)t.__lastGetterPath=r;for(var n=0;n<r.length;n++){var o=r[n];if(void 0!=t){if(t.has&&t.get&&t.has(o))t=t.get(o);else if("_options"!==o||t[o])t=t[o]}else return}return t},d=function e(t,r,n){var o=r.pop(),i=p(t,r);if(i){if(i.set)i.set(o,n);else i[o]=n;return true}return false},g=["_parent"],m=function e(t){return-1===g.indexOf(t)},_=function e(t,r,n,o){if(o.key)r[o.key]=n;return r[o.value]=t,r},b=function e(t){return Object.create(t&&t._getRawData?t._getRawData():t||null)},v=function e(t){return"[object Function]"===Object.prototype.toString.call(t)},w=function e(t){return"[object Object]"===Object.prototype.toString.call(t)},y=function e(t){if(void 0===t||null===t)return"";else{if(j(t))return h[t._moduleName](t);return t}},S=function e(o,i){var t=function e(t){var r;if("object"===typeof o){for(var n in r=Object.create(o||{}),o)if(o.hasOwnProperty(n))r[n]=o[n];if(!r["__$$__originObject"])Object.defineProperty(r,"__$$__originObject",{value:o,enumerable:false,configurable:false})}else r=o;return t(r,i)};return t.__$unite=true,t},C=function(e,t){var r=n.getFuncFromDeclaration(e?e.trim():e);if("function"===typeof r&&Object.keys(t).length)r=r.bind(void 0,t);if("function"!==typeof r)i.IoC.resolve("ILogger").error('Function "'+e+'" has not been loaded yet! Add this function to the module definition');return r},O=function e(t){return String(t)},h={"Types/collection:Enum":O,"Data/collection:Enum":O,"Data/_collection/Enum":O,"WS.Data/Type/Enum":O},E=function(e,t,r){r.call(this,t)},j=function e(t){return t&&t._moduleName&&h.hasOwnProperty(t._moduleName)},x=function(e,t,r){if(!e["___$patched$"+r]){var n=e[r];if(void 0!==n){if(w(t))t=Object.create(t);t[r]=n}else e["___$wasundef$"+r]=true;e[r]=t,e["___$patched$"+r]=true}else{if(!e["___$wasundef$"+r]){if(w(t))t=Object.create(t);t[r]=e[r][r]}e[r]=t}return e[u.Scope.propertyNameToIdentifyIsolatedScope]=r,e},P=function(e){return"name"!==e},F=function(e){var t={};if(!w(e))return e;for(var r in e)if(e.hasOwnProperty(r)&&P(r))t[r]=e[r];return t},I=function e(t,r,n){if(n.__lastGetterPath&&r.message.indexOf("apply")>-1)i.IoC.resolve("ILogger").error("Template "+t+" failed to generate html.",new Error("Field "+n.__lastGetterPath.toString().replace(/,/g,".")+" is not a function!"));i.IoC.resolve("ILogger").error("Template "+t+" failed to generate html.",r,r)},$=function e(){try{if("undefined"!==typeof window)throw new Error("Использование функции в качестве строковой переменной! Необходимо обернуть в тег ws:partial. ")}catch(e){}},T=function(e){var t;if(!e)if(i.constants.isNodePlatform){if(!process.domain)t=o("View/Executor/GeneratorCompatible");else if(process.domain.req&&false!==process.domain.req.compatible)t=o("View/Executor/GeneratorCompatible")}else if(i.constants.isServerScript)t=o("View/Executor/GeneratorCompatible");return t=t||(e?a.GeneratorVdom:a.GeneratorText)},V=function e(t,r){var n="";if("undefined"===typeof window)n=t.toString();if((t=t.bind(r)).toStringOrigin=t.toString,t.toString=function(){if("undefined"===typeof window&&n.indexOf("createControl")>-1)$();return t(this)}.bind(r),"undefined"===typeof window)t.toJSON=function(){return"TEMPLATEFUNCTOJSON="+n};return t},A=function e(t,r){return Object.defineProperty(t,"isDataArray",{value:true,configurable:true,enumerable:false,writable:true}),Object.defineProperty(t,"toString",{value:function e(){return i.IoC.resolve("ILogger").error("Использование контентной опции компонента или шаблона в качестве строки","Необходимо использовать контентные опции с помощью конструкции ws:partial или "+"обратитесь в отдел Инфраструктура представления. Шаблон: "+r),this.join("")},configurable:true,enumerable:false,writable:true}),t},D=function e(t){var r=o("Core/Sanitize"),n=l()._sanitizeOpts();if("undefined"!==typeof process&&!process.versions)t=c.Common.escapeParenthesis(t);return r(t,n)},e;return{createDataArray:A,isolateScope:x,filterOptions:F,configResolver:c.ConfigResolver,calcParent:c.ConfigResolver.calcParent,wrapUndef:y,getDecorators:l,Sanitize:D,iterators:r.iterators,templateError:I,partialError:$,makeFunctionSerializable:V,isFunction:v,createScope:b,presetScope:_,getter:p,setter:d,rk:t.rk.bind(t),IoC:i.IoC,config:r,utils:c.Common,uniteScope:S,plainMerge:c.Common.plainMerge,plainMergeAttr:c.Common.plainMergeAttr,plainMergeContext:c.Common.plainMergeContext,calculateScope:u.Scope.calculateScope,getTypeFunc:C,getMarkupGenerator:T,bindProxy:E,isObject:w,prepareAttrsForFocus:u.Focus.prepareAttrsForFocus,attrExpressions:u.Attr,_isTClosure:true}});