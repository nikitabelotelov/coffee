define("View/Executor/_Utils/Vdom",["Core/helpers/Object/isPlainObject","Core/RightsManager","Env/Env","require","exports","View/Request","View/Logger","Inferno/third-party/index.min","View/Executor/Expressions","Inferno/third-party/hydrate.min"],function(n,i,o,s,e,a,c,u,f,r){Object.defineProperty(e,"__esModule",{value:true}),e["View/Executor/_Utils/OptionsResolver"]=true;var t,l=function(){"use strict";var e={},t=function(e,t,s){function i(e,t){for(var r in t)if("undefined"===typeof e[r])e[r]=t[r]}function o(e,t,r,n){for(var i in r){var o=r[i].call(null,t[i]);if(o instanceof Error)return o.message='"'+i+'"'+" option error: "+o.message,s.IoC.resolve("ILogger").error(o,"\nIn component "+e.prototype._moduleName+"\nParent name "+n),false}return true}function r(e,t,r,n){return i(r,t),u(e,r,n)}function n(e){return e.getDefaultOptions?e.getDefaultOptions():{}}function u(e,t,r){if(!s.constants.isProduction){var n;return o(e,t,e.getOptionTypes&&e.getOptionTypes(),r)}else return true}function a(e,t,r,n){if(!e)return;var i=e._getInheritOptions&&e._getInheritOptions(e)||{};if(!t.inheritOptions)t.inheritOptions={};var o={};for(var s in t.inheritOptions)if(t.inheritOptions.hasOwnProperty(s)){if(void 0===r[s])r[s]=t.inheritOptions[s];o[s]=r[s]}for(var u in i)if(i.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&!n){if(r.hasOwnProperty(u))i[u]=r[u];o[u]=i[u],r[u]=i[u]}else if(i.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&n&&r&&r.hasOwnProperty(u))o[u]=r[u];t.inheritOptions=o}Object.defineProperty(t,"__esModule",{value:true}),t.resolveDefaultOptions=i,t.resolveOptions=r,t.getDefaultOptions=n,t.validateOptions=u,t.resolveInheritOptions=a}(s,e,o);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["View/Executor/_Utils/RequireHelper"]=true;var p=function(){"use strict";var e={},t=function(n,e){Object.defineProperty(e,"__esModule",{value:true});var i={};function o(e){return-1===e.indexOf("<")&&-1===e.indexOf(">")&&e.indexOf("/")>-1&&"."!==e}function t(e){var t=false;if("string"!==typeof e)return false;if(i[e])return true;else if(o(e))if(t=n.defined(e)){var r=n(e);if(void 0===r||r&&"object"===typeof r&&0===Object.keys(r).length)return false;i[e]=r}return t}function r(e){if(!i[e])i[e]=n(e);return i[e]}e.defined=t,e.require=r}(s,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["View/Executor/_Utils/Common"]=true;var d,v=function(){"use strict";var e={},t=function(i,e,o,s,u,a,c){Object.defineProperty(e,"__esModule",{value:true});var r=function e(){return Object.__proto__},t=function e(t){return t&&t.prototype||r()},f=function e(t){return c.defined(t)&&c.require(t)},l=function e(t,r){if(G(t)){var n=ee(t),i=r&&r[n.library]||f(n.library);return i&&te(i,n.module)}return null},p=function e(t,r,n){return r&&r[t]||n&&(n[t]||n["optional!"+t])||f(t)||l(t,n)},d=function e(t,r,n,i){if(i&&i.moduleMaxNameLength)if(t.length>i.moduleMaxNameLength)return false;return p(t,r,n)},v=function e(t,r,n,i){if(t&&t.length)return d(t,r,n,i)},y={object:{getMinAccessLevel:function(e,t){var r;if("undefined"!==typeof e["data-access-min-level"])r=e["data-access-min-level"];else if("undefined"!==typeof e["dataAccessMinLevel"])u.IoC.resolve("ILogger").info("entityHelpers","Для задания минимального уровня доступа для опции, используйте data-access-min-level вместо dataAccessMinLevel."),r=e["dataAccessMinLevel"];if("string"===typeof r)r=parseInt(r,10);if("number"!==typeof r||isNaN(r))r=t;return r},isAccessible:function(e,t){var r,n;if("undefined"===typeof t)t=1;if(n=t,"undefined"!==typeof e["data-access"])r=e["data-access"];else if("undefined"!==typeof e["dataAccess"])u.IoC.resolve("ILogger").info("entityHelpers","Для задания зоны доступа для опции, используйте data-access вместо dataAccess."),r=e["dataAccess"];if("string"===typeof r)n=o.checkAccessRights(r.split(","));return n>=t},iterate:function(e,t){for(var r in e)if(e.hasOwnProperty(r))t(e[r],r,e);return e},remove:function(e,t){delete e[t]}},array:{getMinAccessLevel:function(e,t){return t},isAccessible:function(){return true},iterate:function(e,t){for(var r=e.length-1;r>=0;r--)t(e[r],r,e);return e},remove:function(e,t){e.splice(t,1)}}};function n(e,t){var r=e.length,n=new Array(r),i;for(i=0;i<r;i++)n[i]=t(e[i],i,e);return n}function g(e,t){var r;for(r in e)if(e.hasOwnProperty(r))e[r]=t(e[r],r);return e}function h(e,t){var r;for(r=0;r<e.length;r++)if(e[r]===t)return true;return false}function b(){return"undefined"!==typeof global&&"[object process]"===Object.prototype.toString.call(global.process)}function O(e){return/^((?=\.\d|\d)(?:\d+)?(?:\.?\d*)(?:[eE][+-]?\d+)?)$/.test(e.trim())}function m(e){return"[object String]"===Object.prototype.toString.call(e)}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function x(e){return"[object Function]"===Object.prototype.toString.call(e)}function C(e){return"[object Array]"===Object.prototype.toString.call(e)}function j(e){return e.replace(/\s/g,"")}function P(e){return e||0===e||""===e||false===e}function R(e,t){return e&&void 0!==e[t]}function A(e){for(var t in e)if(e.hasOwnProperty(t))return false;return true}function _(e){function t(e,t,r){var n,i,o,s={};for(n in t)if(i=t[n],!(n in e)||e[n]!==i&&(!(n in s)||s[n]!==i))e[n]=r?r(i):i;return e}if(!e||"object"!=typeof e||"[object Function]"===Object.prototype.toString.call(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(true);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var r,n,i;if(e instanceof Array){for(r=[],n=0,i=e.length;n<i;++n)if(n in e)r.push(_(e[n]))}else r=e.constructor?new e.constructor:{};return t(r,e,_)}function N(e,t){return T(e,t)}function E(e){if(e&&"string"===typeof e){var r={"<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;","{{":"&lcub;&lcub;","}}":"&rcub;&rcub;"};return(e=e.replace(/&([^#])/g,function e(t,r){return"&amp;"+r})).replace(/({{)|(}})|([<>'"])/g,function e(t){return r[t]||t})}return e}function M(e){if(e&&"string"===typeof e){var r={"{{":"&lcub;&lcub;","}}":"&rcub;&rcub;"};return e.replace(/({{)|(}})/g,function e(t){return r[t]||t})}return e}function S(e){return{__rootScope:e}}function L(e,t){if(!e)e=[];return e.push(t),e}function k(e,t){return e===t}function F(e,t){for(var r in t)if(t.hasOwnProperty(r))return 0===e.indexOf(r)?r:void 0}function I(e,t){var r=F(e,t);if(r)return t[r]}function T(e,t,r){var n={},i;if(!e)e={};if(!t)t={};if(r){for(i in e)if(e.hasOwnProperty(i))n[i]=e[i]}else n=e;for(i in t)if(t.hasOwnProperty(i))n[i]=t[i];return n}function V(e,t){var r;if(!e)e={};if(!t)t={};var n=false,i;if(t.attributes&&2===Object.keys(t.attributes).length&&t.attributes["name"]===t.attributes["sbisname"]&&void 0!==t.attributes["sbisname"])t={};if(t.attributes&&t.attributes["attr:key"])i=t.attributes["attr:key"];return i=i||t.key||e.key,{inheritOptions:t.inheritOptions,context:e.context,internal:e.internal,systemOptions:{},domNodeProps:{},key:i,attributes:a.Attr.processMergeAttributes(e.attributes,t.attributes),events:a.Attr.processMergeAttributes(e.events,t.events)}}function q(e,t){if(!e)e={};if(!t)t={};var r;if(t.attributes&&t.attributes["attr:key"])r=t.attributes["attr:key"];return r=r||t.key||e.key,{attributes:t.attributes||{},events:t.events||{},inheritOptions:e.inheritOptions,internal:e.internal,context:e.context,key:r}}function D(e,t){var r=Array.prototype.slice.call(t);if(void 0===r[0])r[0]=void 0;if(void 0===r[1])r[1]=void 0;if(void 0===r[2])r[2]=void 0;return r[3]=r[3]&&!u.constants.isBuildOnServer,r.push(e),r}function U(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function H(e,t){return t&&~t.indexOf(e)}function $(e,t){var r=e&&e["data-access"],n=o.rightsNeeded();if(r&&n)switch(o.checkAccessRights(r.split(","))){case 0:return false;case 1:var i;if(t["display"])t["readOnly"]=true,t["enabled"]=true,t["allowChangeEnable"]=false;else t["enabled"]=false,t["allowChangeEnable"]=false;return true}return this.applyRightsToEntity(t,1),this.removeBindCutOption(t),true}function B(e,n){var i=this,o;if(Array.isArray(e))o=y.array;else if(s(e))o=y.object;else return e;if(n=o.getMinAccessLevel(e,n),!o.isAccessible(e,n))return;return e=o.iterate(e,function(e,t,r){if(e&&e["__isRightsChecked"])return;if(s(e))Object.defineProperty(e,"__isRightsChecked",{enumerable:false,value:true});if(r[t]=i.applyRightsToEntity(e,n),void 0===r[t])o.remove(r,t)})}function z(e){var t=false,r=[],n,i,o,s;if(e&&e.bindings&&e.bindings.length){for(var u=0,a=(i=e.bindings).length;u<a;u++){if(t=false,n=e,(o=i[u]).propPath&&o.propPath.length)s=o.propName.split("/");else s=[];if(s.length)for(var c=0,f=s.length;c<f;c++)if(n.hasOwnProperty(s[c])){if(n=n[s[c]],c+2===f)t=true}else break;else t=true;if(t)r.push(i[u])}e.bindings=r}}function J(e){return 0===e.indexOf("wml!")||0===e.indexOf("tmpl!")||0===e.indexOf("html!")||0===e.indexOf("optional!tmpl!")}function W(e){return 0===e.indexOf("js!")}function Y(e){return 0===e.indexOf("optional!")}function G(e){var t=0===e.indexOf("ws:")?e.replace("ws:",""):e;return t.indexOf(":")>=0&&-1===t.indexOf("<")&&-1===t.indexOf(" ")}function K(e){return e.split("/").length>1&&!J(e)&&-1===e.indexOf("<")&&-1===e.indexOf(" ")}function Q(e,t){return Y(e)||J(e)||W(e)||K(e)||F(e,t&&t.resolvers)}function X(e){var t=e&&e.prototype;if(t&&"undefined"!==typeof t)return t.$constructor||t._template||e.isWasaby;return false}function Z(e){return e&&e.library&&e.module}function ee(e){var t,r=(0===e.indexOf("ws:")?e.replace("ws:",""):e).split(":",2),n=r[0],i=r[1]&&r[1].replace(/\//g,"."),o;return{library:n,module:i.split("."),fullName:n+":"+i}}function te(e,t){var r=e;return t.forEach(function(e){if(r&&r[e])r=r[e];else throw new Error('Module "'+t.join(".")+'" does not exist in the specified library')}),r}function re(e){var t;return(t=e.split("optional!"))[1]}function ne(e){var t;return(t=e.split("js!"))[1]}function ie(e){var t;if(void 0!==e&&0===e.indexOf("ws:"))return(t=e.split("ws:"))[1];return}function oe(e){var t=ie(e);if(t)return t;return e}function se(e,t){var r=e&&e["js!"+t]||c.defined("js!"+t)?i("js!"+t):i(t);if(!r&&/optional!/.test(t)){var n=t.split("optional!")[1];if(c.defined(n))r=i(n)}return r}function ue(e){return e.prototype.$constructor&&!e.prototype._template||e.prototype._dotTplFn||e.prototype._isCoreCompound}function ae(e){return!ue(e)}function ce(e){u.IoC.resolve("ILogger").error("ASYNC RENDER ERROR",e?e.toString():e,e)}function fe(e,t,r,n){var i=v(e,t,r,n);if(Y(e)&&!i)i=v(re(e));return i}function le(e){var t;return e.xmlns||"http://www.w3.org/1999/xhtml"}function pe(){if(u.constants.isNodePlatform)return!process.domain||process.domain.req&&false!==process.domain.req.compatible;else return u.constants.compat}function de(e){return e&&e.name&&"_options"===e.name.string}e.mapForLoop=n,e.eachObject=g,e.inArray=h,e.isNode=b,e.isNumber=O,e.isString=m,e.isObject=w,e.isFunction=x,e.isArray=C,e.removeAllSpaces=j,e.notUndefOrNull=P,e.checkProp=R,e.isEmpty=A,e.clone=_,e.plainMergeAttrs=N,e.escape=E,e.escapeParenthesis=M,e.createNewScope=S,e.bindingArrayHolder=L,e.toEqual=k,e.hasResolver=F,e.findResolverInConfig=I,e.plainMerge=T,e.plainMergeAttr=V,e.plainMergeContext=q,e.addArgument=D,e.capitalize=U,e.findInArray=H,e.applyRights=$,e.applyRightsToEntity=B,e.removeBindCutOption=z,e.isTemplateString=J,e.isControlString=W,e.isOptionalString=Y,e.isLibraryModuleString=G,e.isSlashedControl=K,e.isStringModules=Q,e.isControlClass=X,e.isLibraryModule=Z,e.splitModule=ee,e.extractLibraryModule=te,e.splitOptional=re,e.splitJs=ne,e.splitWs=ie,e.correctName=oe,e.getConstructor=se,e.isCompound=ue,e.isNewControl=ae,e.asyncRenderErrorLog=ce,e.depsTemplateResolver=fe,e.getNamespace=le,e.isCompat=pe,e.isOptionsExpression=de,e.componentOptsReArray=[{toFind:/\\/g,toReplace:"\\\\"},{toFind:/<\/(script)/gi,toReplace:"<\\/$1"},{toFind:/'/g,toReplace:"\\u0027"},{toFind:/\u2028/g,toReplace:"\\u000a"},{toFind:/\u2029/g,toReplace:"\\u000a"},{toFind:/\n/g,toReplace:"\\u000a"},{toFind:/\r/g,toReplace:"\\u000d"}]}(s,e,i,n,o,f,p);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),y="",g="cfg-";function h(e){return(e+"").replace(g,"").split(",")[0]}function b(e,t,r){e._saveContextObject(r),e.saveFullContext(f.ContextResolver.wrapContext(e,t.context||{}))}function O(e,t,r,n){var i,o=a.getCurrent().stateReceiver;if(o&&o.register)o.register(e,{setState:function(e){i=e},getState:function(){return{}}});if(!i&&window["inline"+e])if(i=JSON.parse(window["inline"+e],n.deserialize),window["inline"+e])window["inline"+e]=void 0;var s=f.ContextResolver.resolveContext(t.constructor,r.context||{},t),u;try{u=i?t._beforeMountLimited(r.controlProperties,s,i):t._beforeMountLimited(r.controlProperties,s)}catch(e){c.catchLifeCircleErrors("_beforeMount",e)}if(u&&u.then)u.then(function(e){return b(t,r,s),e});else b(t,r,s);if(!r.inheritOptions)r.inheritOptions={};if(l.resolveInheritOptions(r.controlClass,r,r.controlProperties),t.saveInheritOptions(r.inheritOptions),o&&o.unregister)o.unregister(e);return u}function m(e,t,r,n,i){var o=u.createVNode(_(e),e,t&&t.attributes&&t.attributes.class||"",r,r&&r.length?n?8:4:0,t.attributes,n,i);return o.hprops=t,o}function w(e,t){return u.createTextVNode(e,t)}function x(e,t,r){return{controlClass:e,controlProperties:t,key:r,controlNodeIdx:-1}}function C(e){return e&&!v.isString(e.children)&&"number"!==typeof e.children&&e.hasOwnProperty("dom")}function j(e){return e&&(v.isString(e.children)||"number"===typeof e.children)&&e.hasOwnProperty("dom")}function P(e){return e&&"object"===typeof e&&"controlClass"in e}function R(e){return e&&"object"===typeof e&&"TemplateNode"===e.type}function A(e,t,r){var n=e.control,i=e.key?h(e.key):"";if(n._beforeMountLimited)return O(i,n,t,r)}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.getFlagsForElementVnode.apply(u,[].slice.call(arguments))}function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.patch.apply(u,[].slice.call(arguments))}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.render.apply(u,[].slice.call(arguments))}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u.createRenderer.apply(u,[].slice.call(arguments))}function S(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.hydrate.apply(r,[].slice.call(arguments))}return e.htmlNode=m,e.textNode=w,e.controlNode=x,e.isVNodeType=C,e.isTextNodeType=j,e.isControlVNodeType=P,e.isTemplateVNodeType=R,e.getReceivedState=A,e.getFlagsForElementVnode=_,e.patch=N,e.render=E,e.createRenderer=M,e.hydrate=S,e});