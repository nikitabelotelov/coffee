define("View/Executor/_Expressions/Attr",["require","exports"],function(s,e){Object.defineProperty(e,"__esModule",{value:true}),e["View/Executor/_Expressions/Event"]=true;var t,n=function(){"use strict";var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var r={mozmousepixelscroll:"MozMousePixelScroll",domautocomplete:"DOMAutoComplete"};function s(e){return/^(on:[A-z0-9])\w*$/.test(e)}function n(e){return e.slice(3).toLowerCase()}function a(e){var t;return r[e]||e}t.isEvent=s,t.getEventName=n,t.fixUppercaseDOMEventName=a}(s,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e["View/Executor/_Expressions/AttrHelper"]=true;var a=function(){"use strict";var e={},t=function(e,t){function r(e){return 0===e.indexOf("attr:")}function s(e){for(var t in e)if(r(t))return true;return false}Object.defineProperty(t,"__esModule",{value:true}),t.isAttr=r,t.checkAttr=s}(s,e);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}(),f=a;e["View/Executor/_Expressions/Focus"]=true;var r,c=function(){"use strict";var e={},t=function(e,t,s){function r(e,t){while(e){if(e===t)return true;e=e.parentElement}return false}function f(e,t){if(!e)return;var r="";if(s.checkAttr(e)||s.checkAttr(t))r="attr:";if(e[r+"ws-creates-context"]=e[r+"ws-creates-context"]||"default",e[r+"ws-delegates-tabfocus"]=e[r+"ws-delegates-tabfocus"]||"default","true"===t[r+"ws-creates-context"])e[r+"ws-creates-context"]="true";if("true"===t[r+"ws-delegates-tabfocus"])e[r+"ws-delegates-tabfocus"]="true";if("true"===t[r+"ws-tab-cycling"])e[r+"ws-tab-cycling"]="true";if("true"===t[r+"ws-autofocus"])e[r+"ws-autofocus"]="true";if("true"===t[r+"ws-no-focus"])e[r+"ws-no-focus"]="true";if(t.hasOwnProperty(r+"tabindex"))e[r+"tabindex"]=t[r+"tabindex"]+""}function c(e){if("true"===e["ws-creates-context"])if(!e.hasOwnProperty("tabindex"))e.tabindex="0"}function l(e,t){if("default"===e["ws-creates-context"])e["ws-creates-context"]=t&&t["ws-creates-context"]||"true";if("default"===e["ws-delegates-tabfocus"])e["ws-delegates-tabfocus"]=t&&t["ws-delegates-tabfocus"]||"true";if("default"===e["attr:ws-creates-context"])e["attr:ws-creates-context"]=t&&t["attr:ws-creates-context"]||"true";if("default"===e["attr:ws-delegates-tabfocus"])e["attr:ws-delegates-tabfocus"]=t&&t["attr:ws-delegates-tabfocus"]||"true"}function n(e,t){var r=(e=e[0]?e[0]:e).attributes,s={},n=["ws-delegates-focus","ws-creates-context","ws-autofocus","tabindex","ws-no-focus"];for(var a in n){var i=n[a],o=r.getNamedItem(i);if(o)s[i]=o.value}for(var u in f(s,t),l(s,t),c(s),s)e.setAttribute(u,s[u])}Object.defineProperty(t,"__esModule",{value:true}),t.closest=r,t.prepareAttrsForFocus=f,t.prepareTabindex=c,t.resetDefaultValues=l,t.patchDom=n}(s,e,a);if(t instanceof Function)return t;else for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r];return e}();e.isAttr=f.isAttr,e.checkAttr=f.checkAttr;var i=/\s+/g;function o(e,t){var r=e.class||e["attr:class"],s=t.class||t["attr:class"],n=r?s+" "+r:s;if("string"===typeof n)n=n.replace(i," ").trim();return n}function u(e,t){var r=e.style||e["attr:style"],s=t.style||t["attr:style"],n=r?s+" "+r:s;if("string"===typeof n)n=n.replace(i," ").trim();return n}function l(e){var t={};for(var r in e)if(f.isAttr(r))t[r.split(":")[1]]=e[r];else if(n.isEvent(r))t[r]=e[r];return t}function w(e,t){var r={};for(var s in e)if(e.hasOwnProperty(s))r[s]=e[s];for(var s in t)if(t.hasOwnProperty(s)&&void 0!==t[s]&&"undefined"!==t[s])if("class"===s)r.class=o(r,t);else if("style"===s)r.style=u(r,t);else if(n.isEvent(s))r[s]=r[s]?t[s].concat(r[s]):t[s];else if(!r.hasOwnProperty(s))r[s]=t[s];for(s in r)if(r.hasOwnProperty(s)&&(void 0===r[s]||"undefined"===r[s]))delete r[s];return r}function d(e,t,r,s){e=e||{},t=t||{};var n=false,a=false;if(f.checkAttr(e))e=l(e),n=true;if(f.checkAttr(t))t=l(t),a=true;var i=w(e,t);if(!r&&(n||a)){var o={};for(var u in i)if(!s)o["attr:"+u]=i[u];else o[u]=i[u];return o}return c.resetDefaultValues(i,t),i}function v(e,t){e=e||{},t=t||{};var r={},s,n;for(n in e)if(e.hasOwnProperty(n)&&void 0!==e[n]&&"undefined"!==e[n]&&null!==e[n])r[n.replace("attr:","")]=""!==e[n]?e[n]:void 0;for(n in t)if(t.hasOwnProperty(n)&&void 0!==t[n]&&"undefined"!==t[n]&&null!==t[n])if("attr:class"===n||"class"===n)r.class=o(r,t);else if("attr:style"===n||"style"===n)r.style=u(r,t);else if(s=n.replace("attr:",""),!r.hasOwnProperty(s)||("ws-creates-context"===s||"ws-delegates-tabfocus"===s)&&"default"===r[s])r[s]=t[n]?t[n]:void 0;return c.resetDefaultValues(r,t),r}function p(e,t){var r={},s;for(s in e)if(e.hasOwnProperty(s))r[s]=e[s];for(s in t)if(t.hasOwnProperty(s))r[s]=r[s]?t[s].concat(r[s]):t[s];return r}return e.joinAttrs=w,e.processMergeAttributes=d,e.mergeAttrs=v,e.mergeEvents=p,e});