define("View/Executor/_Expressions/ContextResolver",["require","exports","Core/IoC","Core/DataContext"],function(t,e,s,i){Object.defineProperty(e,"__esModule",{value:true});var l={"UserActivity/ActivityContextField":true,"Notes/VDOM/Context":true,"Controls/Application/AppData":true,"Controls/Container/Scroll/Context":true,"Controls/Context/TouchContextField":true,"Controls/StickyHeader/Context":true,"Controls/Container/Data/ContextOptions":true,"Controls/Selector/__ControllerContext":true,"Controls/Container/Filter/FilterContextField":true,"Controls/Container/Search/SearchContextField":true,"Controls/Filter/Button/Panel/Wrapper/_FilterPanelOptions":true,"Controls/Container/Suggest/Layout/_SuggestOptionsField":true,"WSTests/unit/tmpl/sync-tests/context/contextField":true,"WSTests/unit/tmpl/sync-tests/context/updateConsumers/ctxField":true,"WSTests/unit/tmpl/sync-tests/context/contextField2":true,"WSTests/unit/tmpl/sync-tests/context/dirtyCheckingUpdate/contextField":true};function u(){var t=0;for(var e in this)if(this.hasOwnProperty(e)&&this[e])if(this[e].getVersion)t+=this[e].getVersion();return t}function o(t,e){if(t&&t._getChildContext){e=Object.create(e);var o=t._getChildContext();for(var r in o)if(o.hasOwnProperty(r)){if(o[r]&&o[r]._moduleName&&!l[o[r]._moduleName])s.resolve("ILogger").error("Wrong context field",o[r]._moduleName+". In control: "+t._moduleName+". Only allowed context fields: "+Object.keys(l));if(e[r]=o[r],o[r]&&o[r].getVersion===i.prototype.getVersion)for(var n in o[r])if(o[r].hasOwnProperty(n)&&o[r][n])if(o[r][n].getVersion)o[r].getVersion=u}}return e}function r(t,e,o){if("undefined"===typeof e)return{};var r=t.contextTypes?t.contextTypes():{},n={};if(!r)s.resolve("ILogger").error(null,"Context types are not defined");else for(var i in r)if(!(e[i]instanceof r[i]));else if(n[i]=e[i],o)n[i].registerConsumer(o);return n}return e.wrapContext=o,e.resolveContext=r,e});