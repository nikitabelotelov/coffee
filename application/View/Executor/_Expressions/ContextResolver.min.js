define("View/Executor/_Expressions/ContextResolver",["require","exports","Core/IoC","Core/DataContext"],function(t,e,s,i){Object.defineProperty(e,"__esModule",{value:true});var l={"UserActivity/ActivityContextField":true,"Notes/VDOM/Context":true,"Controls/Application/AppData":true,"Controls/Container/Scroll/Context":true,"Controls/Context/TouchContextField":true,"Controls/StickyHeader/Context":true,"Controls/Container/Data/ContextOptions":true,"Controls/Selector/__ControllerContext":true,"Controls/Container/Filter/FilterContextField":true,"Controls/Container/Search/SearchContextField":true,"Controls/Filter/Button/Panel/Wrapper/_FilterPanelOptions":true,"Controls/Container/Suggest/Layout/_SuggestOptionsField":true,"WSTests/unit/tmpl/sync-tests/context/contextField":true,"WSTests/unit/tmpl/sync-tests/context/updateConsumers/ctxField":true,"WSTests/unit/tmpl/sync-tests/context/contextField2":true,"WSTests/unit/tmpl/sync-tests/context/dirtyCheckingUpdate/contextField":true};function u(){var t=0;for(var e in this)if(this.hasOwnProperty(e)&&this[e])if(this[e].getVersion)t+=this[e].getVersion();return t}function r(t,e){if(t&&t._getChildContext){e=Object.create(e);var r=t._getChildContext();for(var o in r)if(r.hasOwnProperty(o)){if(r[o]._moduleName&&!l[r[o]._moduleName])s.resolve("ILogger").error("Wrong context field",r[o]._moduleName+". Only allowed context fields: "+Object.keys(l));if(e[o]=r[o],r[o]&&r[o].getVersion===i.prototype.getVersion)for(var n in r[o])if(r[o].hasOwnProperty(n)&&r[o][n])if(r[o][n].getVersion)r[o].getVersion=u}}return e}function o(t,e,r){if("undefined"===typeof e)return{};var o=t.contextTypes?t.contextTypes():{},n={};if(!o)s.resolve("ILogger").error(null,"Context types are not defined");else for(var i in o)if(!(e[i]instanceof o[i]));else if(n[i]=e[i],r)n[i].registerConsumer(r);return n}return e.wrapContext=r,e.resolveContext=o,e});