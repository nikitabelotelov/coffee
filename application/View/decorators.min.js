define("View/decorators",["Env/Env","Core/markup/ParserUtilities","Core/helpers/i18n/wordCaseByNumber","Core/Sanitize","Core/helpers/String/escapeHtml","Core/helpers/String/linkWrap","Core/helpers/String/escapeTagsFromStr","View/Executor/GeneratorCompatible"],function e(o,a,r,u,l,t,n){"use strict";function s(e,r,t,n){var i="fromContext",o="/",s=e.split(o),a=s[0],u=s.slice(1),l=u.join(o);return{fieldName:r,propName:e,propPath:u,fullPropName:e,propPathStr:l,oneWay:t,direction:n||i,nonExistentValue:void 0,bindNonExistent:false}}function c(e){for(var r="",t,n=e.length-1;n>=-1;n--){if(-1===n){r="1"+r;break}var i;if(t=(Number.parseInt||window.parseInt)(e[n]),(t+=1)>9)r="0"+r;else{r=e.slice(0,n)+t+r;break}}return r}function f(e){e=""+e;var r=Number.parseFloat||window.parseFloat,t=Number.parseInt||window.parseInt,n=r(""+e);if(isFinite(n)){var i=e.match(/\.[0-9]*/),o=r(i="0"+i),s,a=false;if(isFinite(o)){if((o=o.toFixed(2))>.99)a=true;s=o.substring(2)}else s="00";var u=e.split(".")[0];if(!isFinite(t(u)))u="0";if(a)u=c(u);return u+"."+s}else return"0.00"}function p(e){return void 0!==e&&null!==e}function g(e){if(Math.abs(e)<1){var r;if(r=parseInt(e.toString().split("e-")[1]))e*=Math.pow(10,r-1),e="0."+new Array(r).join("0")+e.toString().substring(2)}else{var r;if((r=parseInt(e.toString().split("+")[1]))>20)r-=20,e/=Math.pow(10,r),e+=new Array(r+1).join("0")}return e}function b(e){if("string"===typeof e&&-1!==e.indexOf("e")&&!Number.isNaN(parseFloat(e)))return true;if("number"===typeof e&&Math.abs(e)>=1e21)return true;return false}function d(e,r){if(b(e))e=g(parseFloat(e));else e+="";var t,n=e.split(".")[1]||(r?"00":""),i=/^-?([0]*)(\d+)\.?\d*\D*$/,o;if(!e.match(i))t="0";if(o=e.replace(i,"$2"),t="0"===t?t:("-"===e.substr(0,1)?"-":"")+o.replace(/(?=(\d{3})+$)/g," ").trim(),1==n.length&&r)n+="0";return{integer:t,fraction:n}}function v(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function m(e,r,t){var n=false;if(e.childNodes)for(var i=0;i<e.childNodes.length;i++)n=m(e.childNodes[i],r,t)||n;if(e.text&&r.test(e.text))return e.text=e.text.replace(r,'<span class="'+t+'">$&</span>'),true;else return n}function i(e){var t=134217728,n=67108864,i=33554432,o=16777216;function r(e){if(!e)return 0;else if("string"===typeof e){if(e=Number(e),isNaN(e))e=0}else if("object"===typeof e){var r=Number((e.color||"0").replace("#","0x"));return r|=e.isBold?t:0,r|=e.isItalic?n:0,r|=e.isUnderline?i:0,r|=e.isStrike?o:0}return e}function s(e){var r;return"000000".substr(0,6-e.length)+e}return{color:"#"+s((16777215&(e=r(e))).toString(16)).toLowerCase(),isBold:!!(e&t),isItalic:!!(e&n),isUnderline:!!(e&i),isStrike:!!(e&o)}}var h={isArray:function e(r){return"[object Array]"===Object.prototype.toString.call(r)},isString:function e(r){return"[object String]"===Object.prototype.toString.call(r)},isObject:function e(r){return"[object Object]"===Object.prototype.toString.call(r)},orEmpty:function e(r){if(void 0===r||null===r)return"";return r},ucFirst:function e(r){return r.charAt(0).toUpperCase()+r.slice(1)},toUpperCase:function e(r){return r.toUpperCase()},toLowerCase:function e(r){return r.toLowerCase()},trace:function e(r,t,n){var i;if(n)i="RUNNING TRACE DECORATOR: "+n+", Result of expression: ",o.IoC.resolve("ILogger","ConsoleLogger").info(i,r);else i="RUNNING TRACE DECORATOR: "+"Your Expression: "+t+", Result of expression ",o.IoC.resolve("ILogger","ConsoleLogger").info(i,r);return r},trim:function e(r){return r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},substr:function e(r,t,n){return r.substr(t,n)},replace:function e(r,t,n){return t=v(t),r.replace(new RegExp(t,"g"),n)},wordCaseByNumber:r,wrapURLs:function e(){return t.wrapURLs.apply(void 0,arguments)},unescape:function e(r){var t=/&(nbsp|amp|quot|apos|lt|gt);/g,n={nbsp:" ",amp:"&",quot:'"',apos:"'",lt:"<",gt:">"};return(r=r.replace(/&lcub;&lcub;/g,"{{").replace(/&rcub;&rcub;/g,"}}")).replace(t,function(e,r){return n[r]})},strftime:function e(){var r=Array.prototype.slice.call(arguments);return Date.prototype.strftime.apply(r.shift(),r)},bind:function e(r,t,n,i){if(p(n))return{value:n,binding:s(t,r,true,i)};return{binding:s(t,r,true,i)}},mutable:function e(r,t,n){if(p(n))return{value:n,binding:s(t,r,false)};return{binding:s(t,r,false)}},_sanitizeOpts:(y={},function(e){if(e)y=e;else{var r=y;return y={},r}}),sanitize:function e(r,t){return h._sanitizeOpts(t),r},escapeTagsFromStr:function e(){return n.apply(this,Array.prototype.slice.call(arguments))},money:function(e,r){var t,n,i=d(f(e),true),o;return n=(n='<span class="ws-moneyDecorator"'+(o=' title="'+i.integer+"."+i.fraction+'"')+'><span class="ws-moneyDecorator__integer__'+r+'">'+i.integer)+'</span><span class="ws-moneyDecorator__fraction">.'+i.fraction+"</span></span>"},number:function(e,r){var t=d(e);if(void 0!==r)t.fraction=(t.fraction+"00000000000000000000").substr(0,r);return t.fraction?t.integer+"."+t.fraction:t.integer},highlight:function(e,r,t){if(!e||!r)return e;if(void 0===t)t="controls-HtmlDecorators-highlight";if(e=u(e),e=a.parse(e),'"'===r[0]&&'"'===r[r.length-1])r=r.slice(1,r.length-1);r=(r=v(l(""+r))).replace(/&quot;/g,'"');var n=m(e,new RegExp(r,"gi"),t),i,o;if(!n)if(i=(i=r.split(" ")).filter(function(e){return""!==e.trim()}))for(var s=0;s<i.length;s++)if(o=i[s],n=m(e,new RegExp(o,"i"),t))break;return e.innerHTML()},colorMark:function(e){var r,t;if(!e)return e;if(t="color: "+(r=i(e)).color+";"+(r.isBold?"font-weight: bold;":"")+(r.isItalic?"font-style: italic;":""),r.isUnderline||r.isStrike)t+="text-decoration:"+(r.isUnderline?" underline":"")+(r.isStrike?" line-through":"")+";";return t}},y;return h});