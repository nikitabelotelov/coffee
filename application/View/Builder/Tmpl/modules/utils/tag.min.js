define("View/Builder/Tmpl/modules/utils/tag",["Core/constants","View/Builder/Tmpl/modules/utils/names","View/Builder/Tmpl/modules/utils/common"],function(n,t,l){var o=".",u="/",r=/[\u0400-\u04FF]/,i="SBIS3",s=function e(n){return n.charAt(0)},a=function e(n){return n===n.toUpperCase()},f=function e(n){var t;if(void 0!==n&&0===n.indexOf("ws:"))return(t=n.split("ws:"))[1];return},e,c,d,p,m,v,h=function e(){return n.jsModules},g=function e(){return n.jsCoreModules},w=function e(n,t){return n===i&&t},y=function e(n){return n&&!r.test(n)&&q(n)},T=function e(n){return y(f(n)||n)},x=function e(n,t,r,i){var u=h(),l=g(),o=u&&(u[n]||l[n]);if(r){if(i&&!o)return true;return o}return o||(t?void 0:true)},C=function e(n,t){return n.split(t?t:o)[0]},O=function e(n,t,r,i){var u=w(t,i);if(r||u)return x(t,false,i,u)?n:false;return x(t)?n.replace(/[.]/g,"/"):false},M=function e(n,t,r){if(t)return x(n)?n:O(n,C(n,t),true);return x(n,r)?n:O(n,C(n,t),false,r)},q=function e(n){return a(s(n))?n:false},B=function e(n,t,r,i){var u=false;if(n&&!~t.indexOf(n))if(u=q(n),r)if(~(n=n.replace(/\//g,o)).indexOf(o))u=M(n,false,i);else u=false;return u},b=function e(n){var t=n.split(":");return n.indexOf(".")>=0&&"ws"!==t[0]},E=function e(n,t,r){var i=false;if(n&&!~t.indexOf(n))if(i=q(n),r)if(~(n=j.call(this,n,u)).indexOf(u))i=M(n,u);else i=false;return i},S=function e(n,t,r,i,u){if(i)return B(n,t,true);return B(f(n),t,r,u)},D=function(e,n,t,r,i){if(b(e))return E.call(this,e,n,t);return S(e,n,t,r,i)},F=function e(n,t,r,i,u){if(T(n))return D.call(this,n,t,r,i,u)},N=function e(n){return n.replace(/\./g,"/")},j=function e(n,t){var r=[],i="";if(this&&this.config)r=this.config.mustBeDots,i=this.config.screen;for(var u in r)n=n.replace(r[u],i+u+i);for(var u in n=n.replace(/\./g,t),r)n=n.replace(i+u+i,r[u]);return n},R=function e(n){return n.indexOf(".")>=0&&n.indexOf("/")<0},V=function e(n,t){var r,i=n;if(void 0===x(n,true,t,w(C(n),t)))i=N(n);return"ws:"+i},W=function e(n){var t=n;if(R(n))t=j.call(this,n,"/");return"ws:"+t},k={getModuleExpressionBody:function e(n){return n.attribs.data.data[0]},elseChecker:function e(n){return void 0===n.prev||"ws:if"!==n.prev.name&&"ws:else"!==n.prev.name},createTagKey:function e(n,t){return n?n+"-"+t:t},createControlTagName:function e(n,t){var r={value:null,type:"ws-control"},i=n.name.trim();if("control"===i)r.value=n.attribs["data-component"];else if(l.isLibraryModuleString(i))r.libPath=l.splitModule(i),r.value=r.libPath.fullName,r.type="ws-module";else r.value=t?t(i):i;return r},isTag:function e(n){return l.toEqual(n,"tag")||l.toEqual(n,"style")||l.toEqual(n,"script")},isText:function e(n){return l.toEqual(n,"text")},isDirective:function e(n){return l.toEqual(n,"directive")},isComment:function e(n){return l.toEqual(n,"comment")},isTagRequirable:function e(n,t,r,i){return F.call(this,n,t,r,false,i)},isTagRequirableBool:function e(n,t){return F.call(this,n,t,true,true)},isWsControl:function e(n){return n.children&&n.children[0]&&n.children[0].fn&&(t.isControlString(n.children[0].fn)||t.isSlashedControl(n.children[0].fn))},isModule:function e(n){return n.children&&n.children[0]&&"module"===n.children[0].type},isTemplate:function e(n){return n.children&&n.children[0]&&n.children[0].fn},loadModuleFunction:function e(n,t,r,i){var u;return n.call(this,t,r,i).call(this,i)},moduleMatcher:function e(n){var t=f(n.name);return void 0!==this._modules[t]?this._modules[t].module:false},findFunctionCase:function e(n,t,r){var i=l.capitalize(n.type),u=t+i;if(l.findInArray(n.type,this.config.ignored))return;if(k.isTag(n.type))return this[t+"Tag"](n.name,r);return k["is"+i]?this[u]:void 0},splitWs:f,splitJs:function e(n){var t;return(t=n.split("js!"))[1]},splitHtml:function e(n){var t;return(t=n.split("html!"))[1]},splitWml:function e(n){var t;return(t=n.split("wml!"))[1]},splitTmpl:function e(n){var t;return(t=n.split("tmpl!"))[1]},splitOptional:function e(n){var t;return(t=n.split("optional!"))[1]},slashedControl:function e(n){var t;return n.split("/")[1]},resolveModuleName:function e(n,t,r){return n?V(n,r):W.call(this,t)},checkForKeys:function e(n){if("tag"===n.type)return"ws:template"!==n.name;return false},getJsModuleByName:x,replaceDotsOnSlashes:N,cleverReplaceDotsOnDivider:j};return k});