define("View/Builder/Tmpl/modules/utils/functionTemplateGenerator",["text!View/Builder/Tmpl/modules/templates/templateFunctionTemplate.jstpl","text!View/Builder/Tmpl/modules/templates/templateObjectHtmlTemplate.jstpl","text!View/Builder/Tmpl/modules/templates/templateObjectHtmlTemplateNew.jstpl","text!View/Builder/Tmpl/modules/templates/templateStringTemplate.jstpl","View/Builder/Tmpl/modules/data/utils/functionStringCreator","View/Builder/Tmpl/expressions/dirtyCheckingPatch"],function(s,i,l,p,o,d){"use string";var m=function e(t){var n=t;if(n)return(n=n.split("/"))[n.length-1];return n},h=function e(t,n,i){return t.replace("/*#HTML_PROPERTY_NAME#*/",i).replace("/*#GENERATED_STRING#*/",this.getString(n,{},this.handlers,{},true))},f=function e(t,n){var i=new Function("data, attr, context, isVdom, sets",t);if(this.includedFunctions[n]=i,this.privateFn)return this.privateFn.push(i),this.privatePrefix+""+(this.privateFn.length-1).toString();return i.toString().replace(/\n/g," ")},a=function e(t,n,i,l){var r=m(t),a,u;if(i)a=h.call(this,p,n,r),u=g.call(this,f.call(this,a,r))+"(Object.create(data), null, context)";else{var c="";if(!this.includedFn)c="this.func.internal = ";if(l&&l.internal)d.doDirtyCheckingSafety(l.internal),c+=o.getStr(l.internal,r);else if(c+="{}",!this.includedFn)c+=";";a=h.call(this,s,n,r),u=g.call(this,f.call(this,a,r),c)}return new String(u)},g=function e(t,n){if(!n)n="";if(this.includedFn)return l.replace(/\n/g," ").replace("/*#FUNC#*/",t).replace("/*#FUNCTOSTR#*/",t).replace("/*#DIRTY#*/",n||"{}");return i.replace(/\n/g," ").replace("/*#FUNC#*/",t).replace("/*#DIRTY#*/",n)},r=function e(t,n,i,l){var r=a.call(this,t,n,i,l);return r.innerFunction=true,r};return s=s.replace(/\r/g,""),i=i.replace(/\r/g,""),p=p.replace(/\r/g,""),{generateFunction:r,generateEntityFunction:function e(t,n){return r.call(this,t,n)}}});