define("View/Builder/Tmpl/modules/utils/requireType",["require","View/Builder/Tmpl/modules/utils/names","View/Builder/Tmpl/modules/utils/nodes","View/Builder/Tmpl/modules/utils/common","Core/Deferred","View/Executor/Utils"],function e(t,l,o,r,c,a){"use strict";var i=function(){return this||(0,eval)("this")}();function n(e){if(0===e.indexOf("Controls/"))return e;else return"js!"+e}function u(e){return l.isControlString(e.split("optional!")[1])?f.call(this,e):s.call(this,e)}function s(i){var n=new c,e,l;if(r.hasResolver(i,this.config&&this.config.resolvers))n.callback(o.createTemplateNode(i));else if(this.fromBuilderTmpl)n.callback(o.createTemplateNode(i));else if(a.RequireHelper.defined(i))l=t(i),n.callback(o.createTemplateNode(i,void 0,null===l));else t([i],function e(l){var r=null===l;if(l||r)n.callback(o.createTemplateNode(i,void 0,void 0,r));else n.errback(new Error("Wrong including "+i))},function e(l){n.errback(new Error("Wrong including "+i))});return n}function d(r){var i=new c;if(this.fromBuilderTmpl)i.callback(o.createControlNode(r));else t([r],function e(l){if(l)i.callback(o.createControlNode(r));else i.errback(new Error("Wrong including "+r))},function e(l){i.errback(l)});return i}function f(i){var n=new c,e;if(this.fromBuilderTmpl)n.callback(o.createControlNode(i,void 0,i));else if(a.RequireHelper.defined(i))e=t(i),n.callback(o.createControlNode(i,void 0,i,null===e));else t([i],function e(l){var r=null===l;if(l||r)n.callback(o.createControlNode(i,void 0,i,r));else n.errback(new Error("Wrong including "+i))},function e(l){n.errback(l)});return n}function m(r,i){var n=new c;if(this.fromBuilderTmpl||a.RequireHelper.defined(i.library))n.callback(o.createModuleNode(i,void 0,r));else t([i.library],function e(l){if(l||null===l)n.callback(o.createModuleNode(i,void 0,r));else n.errback(new Error("Wrong including "+url))},function e(l){n.errback(l)});return n}return function e(l){if("ws-control"===l.type){if(l.simple)return f.call(this,l.value);return f.call(this,n(l.value))}else if("optional"===l.type)return u.call(this,l.value);else if("template"===l.type)return s.call(this,l.value);else if("ws-module"===l.type)return m.call(this,l.value,l.libPath);else return d.call(this,this.resolver(l.value))}});