define("Env/_Request/createDefault",["require","exports","Env/_Request/Console","Env/_Request/StateReceiver","Core/constants","Env/_Request/Storage"],function(r,e,n,s,a,c){"use strict";var o=this;Object.defineProperty(e,"__esModule",{value:true});var l=o||(0,eval)("this"),i=function(){return process&&process.domain&&process.domain.req||{}},t=function(){var e,o=new n.Console({console:l.console,logLevel:a.logLevel});return{console:o,location:l.location,stateReceiver:new s.default({console:o}),storageMap:(e={},e[c.Key.cookie]=c.create(c.Key.cookie),e[c.Key.sessionStorage]=c.create(c.Key.sessionStorage),e[c.Key.localStorage]=c.create(c.Key.localStorage),e)}};function u(e){var o=e.originalUrl||"",t=o.indexOf("?"),r=t>=0?o.slice(t):"";return{protocol:e.protocol||"",host:e.hostname||"",hostname:e.hostname||"",port:"",hash:"",href:o,pathname:e.path||"",search:r}}var v=function(){var e,o;try{o=r("Env/_Request/_Storage/NodeCookie")}catch(e){o=null}var t=new n.Console({console:"jstestdriver"in l?l.jstestdriver.console:l.console,logLevel:a.logLevel});return{console:t,location:u(i()),stateReceiver:new s.default({console:t}),storageMap:(e={},e[c.Key.cookie]=o?new o.default:c.create(c.Key.object),e)}},f=function(e){var o;if(a.isBrowserPlatform)o=t();else o=v();return new e(o)};e.default=f});