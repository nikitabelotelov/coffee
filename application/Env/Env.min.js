define("Env/Env",["Core/core-merge","tslib","Env/Constants","require","exports"],function(r,o,a,d,e){Object.defineProperty(e,"__esModule",{value:true}),e["Env/_Env/bomDefine"]=true;var t=function(){"use strict";var e={},t=function(e,t){var n=function(){return this||(0,eval)("this")}();if("undefined"===typeof window)n.window=void 0;if("undefined"===typeof document)n.document=void 0;if("undefined"===typeof navigator)n.navigator=void 0;if("undefined"===typeof process)n.process=void 0}(d,e);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/ILogger"]=true;var n,i=function(){"use strict";var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var n=function(){};n.prototype.log=function(e,t){throw new Error("ILogger::log method is not implemented")},n.prototype.error=function(e,t){throw new Error("ILogger::error method is not implemented")},n.prototype.info=function(){},n.prototype.warn=function(){},n.prototype.methodExecutionStart=function(e){},n.prototype.methodExecutionFinish=function(e,t){},t.default=n}(d,e);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/cookie"]=true;var s,u=function(){"use strict";var e={},t=function(e,t,s){Object.defineProperty(t,"__esModule",{value:true});var u=24*60*60*1e3;function a(){return process&&process.domain&&process.domain.req||{}}function c(e,t,n){var r=n.expires?"; expires="+n.expires:"",o=n.path?"; path="+n.path:"",i=n.domain?"; domain="+n.domain:"",s=n.secure?"; secure":"";return[e,"=",encodeURIComponent(t),r,o,i,s].join("")}var n={get:function(e){if(s.constants.isNodePlatform||s.constants.isServerScript){var t=a();return t.cookies?t.cookies[e]:null}var n=null;if(document.cookie)for(var r=document.cookie.split(";"),o=void 0,i=0;i<r.length;i++)if((o=String(r[i]).trim()).substring(0,e.length+1)===e+"="){n=decodeURIComponent(o.substring(e.length+1));break}return n},set:function(e,t,n){var r=Object.assign({},n),o=t;if(s.constants.isServerScript)throw new Error("Set cookie on server is not supported");if(null===o)o="",r.expires=-1;if(r.expires){var i=void 0;if("number"===typeof r.expires)(i=new Date).setTime(i.getTime()+r.expires*u);else if(r.expires.toUTCString)i=r.expires;else throw new TypeError('Option "expires" should be a Number or Date instance');r.expires=i}if(s.constants.isNodePlatform)process.domain.res.cookie(e,t,r);else r.expires=r.expires&&r.expires.toUTCString(),document.cookie=c(e,t,r)}};t.default=n}(d,e,a);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/detection"]=true;var c=function(){"use strict";var e={},t=function(e,t){function O(e){var t=e.toString().toLowerCase()||"",n=/(msie)\s+([\w.]+)/.exec(t)||/(trident)(?:.*rv:([\w.]+))?/.exec(t)||/(edge)\/([\w]+)/.exec(t);return n&&parseInt(n[2],10)}function I(e){var t=/\bCPU\s+(i?)OS\s+(\d+)/.exec(e);return t&&parseInt(t[2],10)}function n(e){var t=/(AppleWebKit\/)+([\w.]+)/.exec(e);return t&&parseInt(t[2],10)}function T(e){var t=/(Safari\/)+([\w.]+)/.exec(e);return t&&parseInt(t[2],10)}function M(){var e="";if("undefined"!==typeof process){var t=process.domain&&process.domain.req;e=t&&t.headers&&t.headers["user-agent"]?t.headers["user-agent"]:""}else if("undefined"!==typeof navigator)e=navigator.userAgent;return e}function k(e){var t=e.match(/Trident\/(\d+)/);return t&&parseInt(t[1],10)}function F(e,t){if(!!O(e))return true;if(/Chrome\/[0-9]*./.test(e))return parseInt(e.match(/Chrome\/[0-9]*./)[0].substr(7,8),10)<(t?57:65);if(/Version\/[0-9]*.[0-9].[0-9] Safari/.test(e))if(t){var n=/Version\/(\d+).(\d+).(\d+) Safari/.exec(e),r=/Version\/(\d+).(\d+) Safari/.exec(e),o=n||r;return o&&parseInt(o[1],10)<12}else return true;if(/(iPod|iPhone|iPad)/.test(e)){var i=/\bCPU\s+((iPhone OS)|(i?OS)) ((\d|_)*)/.exec(e);if(!i||!i[4])return false;var s=i[4].split("_").map(function(e){return parseInt(e,10)});if(t)return s[0]<10||10===s[0]&&s[1]<3;else return s[0]<11||11===s[0]&&s[1]<4}return false}function r(e){var t=e||M(),n=!!/(iPod|iPhone|iPad)/.test(t),r=O(t),o=I(t),i=!!(/Android/.test(t)&&/AppleWebKit/.test(t)),s=/Windows Phone/i.test(t)||/iemobile/i.test(t)||/WPDesktop/i.test(t)||/Lumia/i.test(t),u=!!/\bMac\s+OS\s+X\b/.test(t)&&!n,a=!!(n&&t.match(/\bCriOS\b/)),c=(!!("undefined"!==typeof window&&window.chrome)||a)&&!r,f=n||i||s,d=n&&!a&&/AppleWebKit/.test(t)&&/Mobile\//.test(t),l=!c&&/(webkit)/i.test(t)&&!(r&&r>=12),p=u&&/AppleWebKit/.test(t)&&!/Chrome/.test(t),v=d||p,h=a&&o<11||v&&T(t)<604,m=/Windows/i.test(t),w=/Windows NT 10\.0/i.test(t),y=/Windows NT 6\.[23]/i.test(t),g=/Windows NT 6\.1/i.test(t),b=/Windows NT 6\.0/i.test(t),E=/Windows NT 5\.[12]/i.test(t),_=/(?:unix|linux)/i.test(t),x=/Macintosh/i.test(t),P=v&&t.match(/Version\/([0-9\.]*)/),S;return P=P instanceof Array?parseInt(P[1],10):P,{userAgent:t,isWPMobilePlatform:s,isMobileSafari:d,isMobileAndroid:i,isMobileIOS:n,isMobilePlatform:f,isIE:!!r,isModernIE:r>9,isIE10:10===r,isRealIE10:10===r&&6===k(t),isIE11:11===r,isIE12:r>=12,IEVersion:r,IOSVersion:o,isOldWebKit:h,firefox:t.indexOf("Firefox")>-1,chrome:c||a,isNotFullGridSupport:F(t,false),isNotGridSupport:F(t,true),isMacOSDesktop:u&&!n,isMacOSMobile:u&&n,safari:/^((?!chrome|android).)*safari/i.test(t),safari11:v&&11===P,opera:/(opera)/i.test(t),operaChrome:/OPR/.test(t),yandex:/\bYaBrowser\/(\d+)/.test(t),webkit:l,retailOffline:t.indexOf("sbis")>-1,isWin:m,isWin10:w,isWin8:y,isWin7:g,isWinVista:b,isWinXP:E,isUnix:_,isMac:x}}var o;if("undefined"===typeof window){var i=null;o=new Proxy({},{set:function(e,t,n){if("testUserAgent"===t)return i=n,true},get:function(e,t){return r(i)[t]}})}else o=r(null);return o}(d,e);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}(),f=c;e["Env/_Env/IoC"]=true;var l=function(){"use strict";var e={},t=function(e,t){Object.defineProperty(t,"__esModule",{value:true});var s={},u={};function a(e,t){var n;if(e instanceof Function&&e.prototype&&e.prototype.$constructor)n=new e(t);else n=e(t);return n}t.default={bind:function(e,t){s[e]={implementation:t,isSingle:0}},bindSingle:function(e,t,n){s[e]={implementation:t,isSingle:1,config:n||{}},u[e]=""},resolve:function(e,t){if(e in s){var n=s[e],r=n.implementation,o=n.isSingle,i=void 0;if(o&&u[e])return u[e];if("function"===typeof r)i=r;if(i){if(o)return u[e]=a(i,n.config);return a(i,t)}return n.implementation}throw new ReferenceError("No mappings defined for "+e)},has:function(e){return e in s}}}(d,e);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}(),p=l;e["Env/_Env/compatibility"]=true;var v=function(){"use strict";var e={},t=(n=d,r=e,o=document&&document.createElement("div"),i=o&&o.style,s=document&&(void 0!==o.style.transform&&"transform"||void 0!==o.style.msTransform&&"msTransform"||void 0!==o.style.oTransform&&"oTransform"||void 0!==o.style.MozTransform&&"MozTransform"||void 0!==o.style.webkitTransform&&"webkitTransform"),u=function(){var e=false;try{var t=Object.defineProperty({},"passive",{get:function(){e=true}});window.addEventListener("test",null,t)}catch(e){}return e},a=document&&document.createElement("input"),c=document&&document.createElement("style"),a&&a.setAttribute("type","file"),c&&c.setAttribute("type","text/css"),{dateBug:0!==new Date(2014,0,1,0,0,0,0).getHours(),placeholder:document&&!!("placeholder"in a),fileupload:document&&!a.disabled,correctKeyEvents:window&&(!window.opera||parseFloat(window.opera.version())>=12.1),cssAnimations:document&&(void 0!==i.transition||void 0!==i.mozTransition||void 0!==i.webkitTransition),fullScreen:document&&(void 0!==o.requestFullscreen||void 0!==o.mozRequestFullScreen||void 0!==o.webkitRequestFullscreen),wheel:document&&(void 0!==o.onwheel||document.documentMode>=9?"wheel":void 0!==o.onmousewheel?"mousewheel":"DOMMouseScroll"),cssTransformProperty:s,cssTransform:!!s,touch:document&&(navigator.msMaxTouchPoints||navigator.maxTouchPoints||"ontouchstart"in document.documentElement),standartStylesheetProperty:document&&!c.styleSheet,supportPassive:u()}),n,r,o,i,s,u,a,c;if(t instanceof Function)return t;else for(var f in t)if(t.hasOwnProperty(f))e[f]=t[f];return e}(),h=v;e["Env/_Env/ConsoleLogger"]=true;var m,w=function(){"use strict";var e={},t=function(e,t,r,n){Object.defineProperty(t,"__esModule",{value:true});var o={info:0,warning:1,error:2},i=function(){function e(){var e=function(){return this||(0,eval)("this")}();if("jstestdriver"in e)this._con=e.jstestdriver.console;else if("console"in e)this._con=e.console}return e.prototype.log=function(e,t){if(o[r.constants.logLevel]>o.info)return;if(this._con&&"object"===typeof this._con&&"log"in this._con&&"function"===typeof this._con.log)this._con.log(e+": "+t+"\n");else try{this._con.log(e+": "+t+"\n")}catch(e){}},e.prototype.warn=function(e,t){if(o[r.constants.logLevel]>o.warning)return;if(this._con&&"object"===typeof this._con&&"warn"in this._con&&"function"===typeof this._con.warn)this._con.warn(e+": "+t+"\n");else this.log(e,t)},e.prototype.error=function(t,n,e){if(o[r.constants.logLevel]>o.error)return;if(n+=e&&e.stack?"\nStack: "+e.stack:"",this._con&&"object"===typeof this._con&&"error"in this._con&&"function"===typeof this._con.error)this._con.error(t+": "+n);else try{this._con.error(t+": "+n+"\n")}catch(e){this.log(t,n)}},e.prototype.info=function(){if(o[r.constants.logLevel]>o.info)return;if(this._con&&"object"===typeof this._con&&"info"in this._con&&"function"===typeof this._con.info)this._con.info.apply(this._con,arguments);else try{this._con.info.apply(this._con,arguments)}catch(e){}},e.prototype.methodExecutionStart=function(e){this.log("methodExecutionStart",e.name)},e.prototype.methodExecutionFinish=function(e,t){this.log("methodExecutionFinish",e.name+" execution time = "+t+"ms")},e}();if(!n.default.has("ILogger"))n.default.bindSingle("ILogger",new i);t.default=i}(d,e,a,l);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/isIncognito"]=true;var y,g=function(){"use strict";var e={},t=function(e,t,r){function n(e,t){var n=window["RequestFileSystem"]||window["webkitRequestFileSystem"];if(!n)return t();n(window["TEMPORARY"],10,function(){e(false)},function(){e(true)})}function o(t,e){if(window.indexedDB&&r.firefox){var n;try{n=window.indexedDB.open("test")}catch(e){return t(true)}return setTimeout(function(){if("done"===n.readyState)return t(!n.result);e()},300)}else if(r.IEVersion>=10){try{if(!window.indexedDB)return t(true)}catch(e){return t(true)}return t(false)}e()}function i(t,e){if(!r.safari)e();try{window["openDatabase"](null,null,null,null),t(false)}catch(e){t(true)}}function s(e,t){if(!r.safari)t();e(!navigator.doNotTrack)}function u(t,e){if(window.localStorage&&r.safari){try{window.localStorage.setItem("test","1")}catch(e){return t(true)}return window.localStorage.removeItem("test"),t(false)}e()}function a(e){if("undefined"===typeof window)throw new Error("This feature available only in browser");n(e,function(){o(e,function(){i(e,function(){s(e,function(){u(e,function(){throw new Error("Feature is not supported at this browser")})})})})})}function c(){return new Promise(function(e,t){try{a(e)}catch(e){t(e)}})}Object.defineProperty(t,"__esModule",{value:true}),t.default=c}(d,e,c);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/coreDebug"]=true;var b,E=function(){"use strict";var e={},t=function(e,t,s){Object.defineProperty(t,"__esModule",{value:true});var u=false;t.default={get logMethodExecutionTime(){return u},set logMethodExecutionTime(e){u=e},checkAssertion:function(e,t){if(!e)throw new Error(t||rk("Ошибка логики"))},getStackTrace:function(){return(new Error).stack||""},methodExecutionTime:function(e,t,n){var r,o,i;if(u){if("function"===typeof(i=s.default.resolve("ILogger")).methodExecutionStart)i.methodExecutionStart(e);r=Date.now()}try{o=e.apply(t,n)}catch(e){throw e}finally{if(u&&"function"===typeof i.methodExecutionFinish)i.methodExecutionFinish(e,Date.now()-r)}return o}}}(d,e,l);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();e["Env/_Env/constants"]=true;var _=function(){"use strict";var e={},t=(n=d,r=e,o=v,i=c,s=a,Object.defineProperty(r,"__esModule",{value:true}),void(r.default=Object.assign(s.default,{browser:i,compatibility:o}))),n,r,o,i,s;if(t instanceof Function)return t;else for(var u in t)if(t.hasOwnProperty(u))e[u]=t[u];return e}(),x=_;e["Env/_Env/loadContents"]=true;var P,S=function(){"use strict";var e={},t=function(e,t,a,c,f){Object.defineProperty(t,"__esModule",{value:true});var d="resources";function l(e){if(e){var t=e[0];if("/"===t||"\\"===t)return e.substr(1)}return e}function p(e){if(e){var t=e.substr(e.length-1);if("/"===t||"\\"===t)return e.substr(0,e.length-1)}return e}function n(e,t,n){if(void 0===t)t=false;if(void 0===n)n={};var r=(0,eval)("this");if(t)f.default.hosts=[],f.default.jsPackages={},f.default.xmlPackages={},f.default.xmlContents={},f.default.hdlBindings={},f.default.services={},f.default.modules={},f.default.htmlNames={},f.default.jsModules={},f.default.dictionary={},f.default.availableLanguage={};if(n.service=l(p(n.service||"/")),n.resources=l(p(n.resources||d)),e){var o=a.__assign({},e),i=o.buildnumber,s={};if(o.modules)Object.keys(o.modules).forEach(function(n){var e=o.modules[n];if(i&&!e.hasOwnProperty("buildnumber"))e.buildnumber=i;if(e.hasOwnProperty("dict"))e.dict.forEach(function(e){var t=e.indexOf(".css")>0?e:e+".json";s[n+"."+t]=true})});o.dictionary=s;var u={preferSource:n.preferSource||false};if(c(f.default,o,u),r.contents)c(r.contents,o,u)}}t.default=n}(d,e,o,r,_);if(t instanceof Function)return t;else for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}();return e.compatibility=h,e.detection=f,e.ConsoleLogger=w.default,e.ILogger=i.default,e.cookie=u.default,e.coreDebug=E.default,e.IoC=p.default,e.loadContents=S.default,e.isIncognito=g.default,e.constants=x.default,e});