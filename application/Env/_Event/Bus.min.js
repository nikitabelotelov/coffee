define("Env/_Event/Bus",["require","exports","Env/_Event/Channel","Env/Env","Env/Constants"],function(n,e,t,a,o){"use strict";var i;function l(n){i.removeChannel(n.getName())}function s(){var e=Date.now(),n,t=2*60*1e3;if(setInterval(function(){var n=Date.now();if(n-e>=t)i.globalChannel().notify("onWakeUp",e);e=n},1260),a.detection.isMobilePlatform)document.addEventListener("visibilitychange",function(){if(!document.hidden)i.globalChannel().notify("onWakeUp",e),e=Date.now()},false)}if(Object.defineProperty(e,"__esModule",{value:true}),e.default=i={_channels:{},channel:function(n,e){if(1==arguments.length&&"object"==typeof n)e=n,n="";if(!n)return new t.default(e);if(n=n.toLowerCase(),!(((e=e||{}).name=n)in this._channels))e["destroyCallback"]=l,this._channels[n]=new t.default(e);return this._channels[n]},removeChannel:function(n){delete this._channels[n.toLowerCase()]},hasChannel:function(n){return void 0!==this._channels[n.toLowerCase()]},globalChannel:function(){return i.channel("global")}},o.constants.isBrowserPlatform)s()});