define("UI/_base/HTML",["require","exports","tslib","UI/_base/Control","wml!UI/_base/HTML/HTML","Env/Env","Core/Themes/ThemesController","Core/LinkResolver/LinkResolver","View/Request","UI/_base/Deprecated/AppData"],function(t,e,s,a,o,i,n,p,r,l){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._template=o,t.onServer=false,t.isCompatible=false,t.compat=false,t.RUMEnabled=false,t.pageName="",t.title="",t.templateConfig=null,t.buildnumber="",t.appRoot="",t.staticDomains="[]",t.wsRoot="",t.resourceRoot="",t.servicesPath="",t.application="",t.product="",t.linkResolver=null,t}return s.__extends(t,e),t.contextTypes=function(){return{AppData:l.default}},t.prototype.initState=function(t){this.title=t.title,this.templateConfig=t.templateConfig,this.compat=t.compat||false},t.prototype._beforeMount=function(t,e,s){var a=this;if(this.onServer="undefined"===typeof window,this.isCompatible=t.compat,this.initState(s||t),!s)s={};if(this.buildnumber=t.buildnumber||i.constants.buildnumber,this.appRoot=t.appRoot||e.AppData.appRoot||(t.builder?"/":i.constants.appRoot),this.RUMEnabled=t.RUMEnabled||e.AppData.RUMEnabled||false,this.pageName=t.pageName||e.AppData.pageName||false,this.staticDomains=t.staticDomains||e.AppData.staticDomains||i.constants.staticDomains||"[]","string"!==typeof this.staticDomains)this.staticDomains="[]";if(this.wsRoot=t.wsRoot||i.constants.wsRoot,this.resourceRoot=t.resourceRoot||i.constants.resourceRoot,this.product=t.product||i.constants.product,this.servicesPath=(e.AppData?e.AppData.servicesPath:t.servicesPath)||i.constants.defaultServiceUrl||"/service/",this.application=e.AppData.application,"undefined"===typeof window&&"default"!==t.theme)n.getInstance().themes={},n.getInstance().setTheme(t.theme);var o=r.getCurrent().getStorage("HeadData");if(this.linkResolver=new p(o.isDebug,this.buildnumber,this.wsRoot,this.appRoot,this.resourceRoot),o.pushDepComponent(this.application,false),o.isNewEnvironment=!this.isCompatible,s.csses&&!o.isDebug)n.getInstance().initCss({themedCss:s.csses.themedCss,simpleCss:s.csses.simpleCss});return new Promise(function(t){t({buildnumber:a.buildnumber,csses:n.getInstance().getCss(),title:a.title,appRoot:a.appRoot,staticDomains:a.staticDomains,RUMEnabled:a.RUMEnabled,pageName:a.pageName,wsRoot:a.wsRoot,resourceRoot:a.resourceRoot,templateConfig:a.templateConfig,servicesPath:a.servicesPath,compat:a.compat,product:a.product})})},t}(a.default);e.default=c});