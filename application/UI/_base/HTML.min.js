define("UI/_base/HTML",["require","exports","tslib","UI/_base/Control","wml!UI/_base/HTML/HTML","Core/constants","Core/Themes/ThemesController","Core/LinkResolver/LinkResolver","View/Request","UI/_base/Deprecated/AppData"],function(e,t,s,a,i,o,n,p,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._template=i,e.onServer=false,e.isCompatible=false,e.compat=false,e.RUMEnabled=false,e.pageName="",e.title="",e.templateConfig=null,e.buildnumber="",e.appRoot="",e.staticDomains="[]",e.wsRoot="",e.resourceRoot="",e.servicesPath="",e.application="",e.product="",e.linkResolver=null,e}return s.__extends(e,t),e.contextTypes=function(){return{AppData:l.default}},e.prototype.initState=function(e){this.title=e.title,this.templateConfig=e.templateConfig,this.compat=e.compat||false},e.prototype._beforeMount=function(e,t,s){var a=this;if(this.onServer="undefined"===typeof window,this.isCompatible=e.compat,this.initState(s||e),!s)s={};if(this.buildnumber=e.buildnumber||o.buildnumber,this.appRoot=e.appRoot||t.AppData.appRoot||(e.builder?"/":o.appRoot),this.RUMEnabled=e.RUMEnabled||t.AppData.RUMEnabled||false,this.pageName=e.pageName||t.AppData.pageName||false,this.staticDomains=e.staticDomains||t.AppData.staticDomains||o.staticDomains||"[]","string"!==typeof this.staticDomains)this.staticDomains="[]";if(this.wsRoot=e.wsRoot||o.wsRoot,this.resourceRoot=e.resourceRoot||o.resourceRoot,this.product=e.product||o.product,this.servicesPath=(t.AppData?t.AppData.servicesPath:e.servicesPath)||o.defaultServiceUrl||"/service/",this.application=t.AppData.application,"undefined"===typeof window&&"default"!==e.theme)n.getInstance().themes={},n.getInstance().setTheme(e.theme);var i=r.getCurrent().getStorage("HeadData");if(this.linkResolver=new p(i.isDebug,this.buildnumber,this.wsRoot,this.appRoot,this.resourceRoot),i.pushDepComponent(this.application,false),i.isNewEnvironment=!this.isCompatible,s.csses&&!i.isDebug)n.getInstance().initCss({themedCss:s.csses.themedCss,simpleCss:s.csses.simpleCss});return new Promise(function(e){e({buildnumber:a.buildnumber,csses:n.getInstance().getCss(),title:a.title,appRoot:a.appRoot,staticDomains:a.staticDomains,RUMEnabled:a.RUMEnabled,pageName:a.pageName,wsRoot:a.wsRoot,resourceRoot:a.resourceRoot,templateConfig:a.templateConfig,servicesPath:a.servicesPath,compat:a.compat,product:a.product})})},e}(a.default);t.default=c});