define("UI/_base/Document",["require","exports","tslib","UI/_base/Control","wml!UI/_base/Document/Document","Core/Themes/ThemesController","UI/_base/HeadData","UI/_base/StateReceiver","UI/_base/Deprecated/AppData","View/Request","View/_Request/createDefault"],function(e,t,a,i,o,r,p,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(n){function e(e){var t=n.call(this,e)||this;if(t._template=o,t.ctxData=null,t.application="",t.applicationForChange="",t.coreTheme="","undefined"===typeof window){var a=new l(u.default(l));if(a.setStateReceiver(new s.default),"undefined"!==typeof window&&window.receivedStates)a.stateReceiver.deserialize(window.receivedStates);l.setCurrent(a)}var i=new p.default;return l.getCurrent().setStorage("HeadData",i),t.ctxData=new c.default(e),t}return a.__extends(e,n),e.prototype._beforeMount=function(e){this.application=e.application},e.prototype._beforeUpdate=function(e){if(this.applicationForChange)this.application=this.applicationForChange,this.applicationForChange=null;else this.application=e.application},e.prototype._getChildContext=function(){return{AppData:this.ctxData}},e.prototype.setTheme=function(e,t){if(this.coreTheme=t,r.getInstance().setTheme)r.getInstance().setTheme(t)},e.prototype.changeApplicationHandler=function(e,t){var a;if(this.application!==t){this.applicationForChange=t;var i=l.getCurrent().getStorage("HeadData");i&&i.resetRenderDeferred(),this._forceUpdate(),a=true}else a=false;return a},e}(i.default);t.default=n});