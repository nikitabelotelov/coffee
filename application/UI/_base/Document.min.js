define("UI/_base/Document",["require","exports","tslib","UI/_base/Control","wml!UI/_base/Document/Document","Core/Themes/ThemesController","UI/_base/HeadData","UI/_base/StateReceiver","UI/_base/Deprecated/AppData","View/Request","View/_Request/createDefault"],function(e,t,a,n,r,o,p,s,c,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(i){function e(e){var t=i.call(this,e)||this;if(t._template=r,t.ctxData=null,t.application="",t.applicationForChange="",t.coreTheme="","undefined"===typeof window){var a=new l(u.default(l));if(a.setStateReceiver(new s.default),"undefined"!==typeof window&&window.receivedStates)a.stateReceiver.deserialize(window.receivedStates);l.setCurrent(a)}var n=new p.default;return l.getCurrent().setStorage("HeadData",n),l.getCurrent().setStorage("CoreInstance",{instance:t}),t.ctxData=new c.default(e),t}return a.__extends(e,i),e.prototype._beforeMount=function(e){this.application=e.application},e.prototype._beforeUpdate=function(e){if(this.applicationForChange)this.application=this.applicationForChange,this.applicationForChange=null;else this.application=e.application},e.prototype._getChildContext=function(){return{AppData:this.ctxData}},e.prototype.setTheme=function(e,t){if(this.coreTheme=t,o.getInstance().setTheme)o.getInstance().setTheme(t)},e.prototype.changeApplicationHandler=function(e,t){var a;if(this.application!==t){this.applicationForChange=t;var n=l.getCurrent().getStorage("HeadData");n&&n.resetRenderDeferred(),this._forceUpdate(),a=true}else a=false;return a},e}(n.default);t.default=i});