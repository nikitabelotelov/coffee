define("Router/UrlRewriter",["require","exports"],function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=/^http[s]?:\/\//,i=/^\//,l=/\/$/,v,c;function p(e){var r=(e=e.replace(n,"")).indexOf("?"),t=e.indexOf("#");if(-1!==r)e=e.slice(0,r);if(-1!==t)e=e.slice(0,t);return e=e.replace(i,"").replace(l,"")}function t(e){if(v={value:null,tree:{}},c=null,!e)return;if(e.hasOwnProperty("/"))c="/"+p(e["/"]);for(var r in e)if(e.hasOwnProperty(r)){if("/"===r)continue;for(var t=e[r],n=(r=p(r)).split("/"),i=v.tree,l=0;l<n.length;l++){var u=n[l];if(!i.hasOwnProperty(u))i[u]={value:null,tree:{}};if(n.length-1===l)i[u].value=t;i=i[u].tree}}}function u(e){if("/"===e&&c)return c;if(v){for(var r,t=p(e).split("/"),n=v.tree,i=null,l=null,u=0;u<t.length;u++){var a=t[u];if(!n[a])break;if(n[a].value)i=n[a].value,l=u;n=n[a].tree}if(i){var f=t.slice(0,l+1).join("/"),o;return e.replace(f,i)}}return e}var a={get:u,_prepare:t};return r.default=a,r});