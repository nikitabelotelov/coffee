define("Router/Reference",["require","exports","tslib","Core/Control","wml!Router/Reference","Router/Controller","Router/MaskResolver"],function(e,t,r,o,n,i,f){var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._template=n,e}return r.__extends(e,t),e.prototype._beforeMount=function(e){this._recalcHref(e)},e.prototype._afterMount=function(){this._register()},e.prototype._beforeUpdate=function(e){this._recalcHref(e)},e.prototype._beforeUnmount=function(){this._unregister()},e.prototype._register=function(){var e=this;i.addReference(this,function(){return e._recalcHref(e._options),e._forceUpdate(),Promise.resolve(true)})},e.prototype._unregister=function(){i.removeReference(this)},e.prototype._recalcHref=function(e){if(this._state=f.calculateHref(e.state,e),e.href)this._href=f.calculateHref(e.href,e);else this._href=void 0},e.prototype._clickHandler=function(e){e.preventDefault(),this._changeUrlState({state:this._state,href:this._href})},e.prototype._changeUrlState=function(e){i.navigate(e)},e}(o),t;return c});