define("wml!Coffee/Settings/Settings",["View/Executor/TClosure","Router/Link","Router/Route","Coffee/Settings/NumberInput"],function(b){function e(){debugger}var t=Array.prototype.slice.call(arguments),k={},m={};function y(t,e,n,r,i){if(e&&!e.attributes)e.attributes={};b.prepareAttrsForFocus(e&&e.attributes,t);var a=0,o=0,s="content";t=b.isolateScope(Object.create(this),t,s);var c=e&&e.key||"_",d={id:[],def:void 0},f=b.configResolver.calcParent(this,"undefined"===typeof s?void 0:s,t),u=b.getMarkupGenerator(r);try{var l=u.joinElements([u.createTag("div",{attributes:{class:"settings-list-item"},events:"undefined"===typeof window?{}:{},key:c+"0_0_"},[u.createText(" "+b.wrapUndef(u.escape(b.getter(t,["key"])))+" ",c+"0_0_0_")],e,d,f)],c,d);if(d.def)l=u.chain(l,d,e),d=void 0}catch(e){b.templateError("undefined",e,t)}return l||u.createText("")}function f(r,g,p,e,t){if(g&&!g.attributes)g.attributes={};b.prepareAttrsForFocus(g&&g.attributes,r);var n=0,i=0,y="content";r=b.isolateScope(Object.create(this),r,y);var a=g&&g.key||"_",_={id:[],def:void 0},w=b.configResolver.calcParent(this,"undefined"===typeof y?void 0:y,r),h=b.getMarkupGenerator(e);try{var o=h.joinElements([h.createTag("div",{attributes:{class:"settings-list-item"},events:"undefined"===typeof window?{}:{},key:a+"0_1_0_0_"},[void 0!==b.getter(r,["content","pageId"])&&b.getter(r,["settingsInfo",b.getter(r,["content","pageId"])])?[function e(){for(var n=void 0,t=0;t<b.iterators.length&&!n;t++)if(b.iterators[t].is(h.escape(b.getter(r,["settingsInfo",b.getter(r,["content","pageId"])]))))n=b.iterators[t].iterator;var v=[];return function e(){var f=b.createScope(this);if(n){var t=0,u=a+"_"+i++,l=0;n(h.escape(b.getter(f,["settingsInfo",b.getter(f,["content","pageId"])])),function e(t,n){var r=f;f=Object.create(f),b.presetScope(t,f,n,{key:"name",value:"fieldInfo"}),n=u+"_for_"+l,l++;var i=[h.createTag("div",{attributes:{class:"settings-detail-item"},events:"undefined"===typeof window?{}:{},key:n+"0_"},[h.createTag("div",{attributes:{class:"settings-detail-name"},events:"undefined"===typeof window?{}:{},key:n+"0_0_"},[h.createText(""+b.wrapUndef(h.escape(b.getter(f,["name"]))),n+"0_0_0_")],g?{context:g.context,key:n+"0_0_"}:{},_,w),h.createControl("wsControl","ws:Coffee/Settings/NumberInput",{value:b.getter(f,["fieldInfo","value"])},b.plainMergeContext(g,{attributes:{},events:"undefined"===typeof window?{}:{"on:valuechanged":[{name:"event",args:[],value:"valueChanged",fn:(s=w,c=f,d=function e(t,n){var t=t,r=this.viewController;if(!b.setter(r,["fieldInfo","value"],n))r=this.data,b.setter(r,["fieldInfo","value"],n)},(d=d.bind({viewController:s,data:c})).control=s,d.isControlEvent=true,d)},{name:"event",args:[],value:"settingChangedHandler",fn:(a=w,o=function(){var e=arguments[0],t=b.getter(this,["settingChangedHandler"]).apply(this,arguments);e.result=t},(o=o.bind(a)).control=a,o.isControlEvent=true,o)}]},key:n+"0_1_",inheritOptions:g?g.inheritOptions:{},internal:g?g.internal:{},context:g?g.context:{}}),{data:f,ctx:this,pName:"undefined"!==typeof y?y:void 0,viewController:w},p,k,m,b.config)],g?{context:g.context,key:n+"0_"}:{},_,w)],a,o,s,c,d;v=v.concat(i),f=r}.bind(f))}else v=h.createText("")}.call(r),v}()]:h.createText("")],g,_,w)],a,_);if(_.def)o=h.chain(o,_,g),_=void 0}catch(e){b.templateError("undefined",e,r)}return o||h.createText("")}k["Router/Link"]=t[1],k["Router/Route"]=t[2],k["Coffee/Settings/NumberInput"]=t[3];var n=function e(r,u,l,v,t){var i=0,n=0,a=u&&u.key||"_",o={id:[],def:void 0},g=b.configResolver.calcParent(this,"undefined"===typeof currentPropertyName?void 0:currentPropertyName,r),p=b.getMarkupGenerator(v),s,c;try{var d=p.joinElements([p.createTag("div",{attributes:{class:"settings-page"},events:"undefined"===typeof window?{}:{},key:a+"0_"},[p.createTag("div",{attributes:{class:"settings-menu-master"},events:"undefined"===typeof window?{}:{},key:a+"0_0_"},[function e(){for(var n=void 0,t=0;t<b.iterators.length&&!n;t++)if(b.iterators[t].is(p.escape(b.getter(r,["settingsInfo"]))))n=b.iterators[t].iterator;var f=[];return function e(){var s=b.createScope(this);if(n){var t=0,c=a+"_"+i++,d=0;n(p.escape(b.getter(s,["settingsInfo"])),function e(t,n){var r=s;s=Object.create(s),b.presetScope(t,s,n,{key:"key",value:"data"}),n=c+"_for_"+d,d++;var i=[p.createControl("wsControl","ws:Router/Link",{content:b.createDataArray([{func:(a=Object.create(s),a.viewController=g,y.bind(a)),internal:v?{__dirtyCheckingVars_0:b.getter(s,["key"])}:{}}],""),href:"set/:id",id:b.getter(s,["key"]),esc:false},b.plainMergeContext(u,{attributes:{},events:"undefined"===typeof window?{}:{},key:n+"0_",inheritOptions:u?u.inheritOptions:{},internal:u?u.internal:{},context:u?u.context:{}}),{data:s,ctx:this,pName:"undefined"!==typeof currentPropertyName?currentPropertyName:void 0,viewController:g,internal:v?{}:{}},l,k,m,b.config)],a,o;f=f.concat(i),s=r}.bind(s))}else f=p.createText("")}.call(r),f}()],u?{context:u.context,key:a+"0_0_"}:{},o,g),p.createTag("div",{attributes:{class:"content"},events:"undefined"===typeof window?{}:{},key:a+"0_1_"},[p.createControl("wsControl","ws:Router/Route",{content:b.createDataArray([{func:(s=Object.create(r),s.viewController=g,f.bind(s)),internal:v?{__dirtyCheckingVars_0:b.getter(r,["name"]),__dirtyCheckingVars_1:b.getter(r,["fieldInfo","value"])}:{}}],""),mask:"set/:pageId",esc:false},b.plainMergeContext(u,{attributes:{},events:"undefined"===typeof window?{}:{},key:a+"0_1_0_",inheritOptions:u?u.inheritOptions:{},internal:u?u.internal:{},context:u?u.context:{}}),{data:r,ctx:this,pName:"undefined"!==typeof currentPropertyName?currentPropertyName:void 0,viewController:g,internal:v?{}:{}},l,k,m,b.config)],u?{context:u.context,key:a+"0_1_"}:{},o,g)],u,o,g)],a,o);if(o.def)d=p.chain(d,o,u),o=void 0}catch(e){b.templateError("undefined",e,r)}return d||p.createText("")};return n.stable=true,n});