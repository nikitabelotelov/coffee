/// <amd-module name="SbisEnv/_Maintains/Parking/_handlers/internal" />
import { MESSAGE, IMAGE, DETAILS } from "SbisEnv/_Maintains/Parking/Const";
import Config from "SbisEnv/_Maintains/Parking/Config";
import { Handler, Mode } from "SbisEnv/Error";
// @ts-ignore
import { HTTP } from 'Transport/Errors';
import Body from 'SbisEnv/_Maintains/Parking/Body';
import getDefaultOptions from "SbisEnv/_Maintains/Parking/_handlers/getDefOptions";
import { Reload } from 'SbisEnv/_Maintains/Parking/action';
import Page from 'SbisEnv/_Maintains/Parking/Page'

let internal: Handler<HTTP, Config> = ({ error, mode }) => {
    if (error.code != 500) {
        return ;
    }
    return {
        template: mode == Mode.page ? Page: Body,
        options: {
            ...getDefaultOptions(error, mode),
            message: rk(MESSAGE.INTERNAL),
            image: IMAGE.INTERNAL,
            details: rk(DETAILS.INTERNAL),
            action: Reload
        }
    }
};

export default internal;
