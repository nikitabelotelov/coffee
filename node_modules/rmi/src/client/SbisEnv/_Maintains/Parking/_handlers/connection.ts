/// <amd-module name="SbisEnv/_Maintains/Parking/_handlers/connection" />
import { MESSAGE, IMAGE, DETAILS, Size } from "SbisEnv/_Maintains/Parking/Const";
import Config from "SbisEnv/_Maintains/Parking/Config";
import { Handler, Mode } from "SbisEnv/Error";
// @ts-ignore
import { Connection } from 'Transport/Errors';
import Body from 'SbisEnv/_Maintains/Parking/Body';
import getDefaultOptions from "SbisEnv/_Maintains/Parking/_handlers/getDefOptions";
import Page from 'SbisEnv/_Maintains/Parking/Page'

let connection: Handler<Connection, Config> = ({ error, mode }) => {
    if (!(error instanceof Connection)) {
        return ;
    }
    return {
        template: mode == Mode.page ? Page: Body,
        options: {
            ...getDefaultOptions(error, mode),
            message: rk(MESSAGE.CONNECTION_ERROR),
            image: IMAGE.CONNECTION_ERROR,
            details: rk(DETAILS.CONNECTION_ERROR),
            size: Size.large
        }
    }
};

export default connection;
