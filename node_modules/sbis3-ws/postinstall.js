#!/usr/bin/env node
const fs = require('fs');
const logger = console;
const map = {
   'node_modules/saby-typescript/tslib.js': 'WS.Core/ext/tslib.js'
};

Object.keys(map).forEach((source) => {
   let target = map[source];
   logger.warn(`Copy from '${source}' to '${target}'`);

   try {
      const stat = fs.statSync(source);
      if (stat.isFile()) {
         fs.copyFileSync(source, target);
      } else if (stat.isDirectory()) {
         fs.copySync(source, target, 'dir');
      } else {
         throw new Error(`Unsupported resource type ${stat} for "${source}"`);
      }
      logger.warn(`OK`);
   } catch (err) {
      logger.error(err.message);
   }
});
